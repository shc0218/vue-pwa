(self["webpackChunkyewon_pretty_no"]=self["webpackChunkyewon_pretty_no"]||[]).push([[998],{9662:function(e,t,n){var r=n(614),i=n(6330),a=TypeError;e.exports=function(e){if(r(e))return e;throw a(i(e)+" is not a function")}},9483:function(e,t,n){var r=n(4411),i=n(6330),a=TypeError;e.exports=function(e){if(r(e))return e;throw a(i(e)+" is not a constructor")}},6077:function(e,t,n){var r=n(614),i=String,a=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw a("Can't set "+i(e)+" as a prototype")}},1223:function(e,t,n){var r=n(5112),i=n(30),a=n(3070).f,o=r("unscopables"),u=Array.prototype;void 0==u[o]&&a(u,o,{configurable:!0,value:i(null)}),e.exports=function(e){u[o][e]=!0}},1530:function(e,t,n){"use strict";var r=n(8710).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},5787:function(e,t,n){var r=n(7976),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw i("Incorrect invocation")}},9670:function(e,t,n){var r=n(111),i=String,a=TypeError;e.exports=function(e){if(r(e))return e;throw a(i(e)+" is not an object")}},4019:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7556:function(e,t,n){var r=n(7293);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},260:function(e,t,n){"use strict";var r,i,a,o=n(4019),u=n(9781),s=n(7854),c=n(614),l=n(111),f=n(2597),h=n(648),d=n(6330),p=n(8880),v=n(8052),g=n(3070).f,y=n(7976),m=n(9518),k=n(7674),w=n(5112),b=n(9711),_=s.Int8Array,x=_&&_.prototype,I=s.Uint8ClampedArray,E=I&&I.prototype,Z=_&&m(_),T=x&&m(x),S=Object.prototype,A=s.TypeError,C=w("toStringTag"),R=b("TYPED_ARRAY_TAG"),O=b("TYPED_ARRAY_CONSTRUCTOR"),N=o&&!!k&&"Opera"!==h(s.opera),D=!1,P={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},L={BigInt64Array:8,BigUint64Array:8},M=function(e){if(!l(e))return!1;var t=h(e);return"DataView"===t||f(P,t)||f(L,t)},U=function(e){if(!l(e))return!1;var t=h(e);return f(P,t)||f(L,t)},F=function(e){if(U(e))return e;throw A("Target is not a typed array")},j=function(e){if(c(e)&&(!k||y(Z,e)))return e;throw A(d(e)+" is not a typed array constructor")},V=function(e,t,n,r){if(u){if(n)for(var i in P){var a=s[i];if(a&&f(a.prototype,e))try{delete a.prototype[e]}catch(o){try{a.prototype[e]=t}catch(c){}}}T[e]&&!n||v(T,e,n?t:N&&x[e]||t,r)}},B=function(e,t,n){var r,i;if(u){if(k){if(n)for(r in P)if(i=s[r],i&&f(i,e))try{delete i[e]}catch(a){}if(Z[e]&&!n)return;try{return v(Z,e,n?t:N&&Z[e]||t)}catch(a){}}for(r in P)i=s[r],!i||i[e]&&!n||v(i,e,t)}};for(r in P)i=s[r],a=i&&i.prototype,a?p(a,O,i):N=!1;for(r in L)i=s[r],a=i&&i.prototype,a&&p(a,O,i);if((!N||!c(Z)||Z===Function.prototype)&&(Z=function(){throw A("Incorrect invocation")},N))for(r in P)s[r]&&k(s[r],Z);if((!N||!T||T===S)&&(T=Z.prototype,N))for(r in P)s[r]&&k(s[r].prototype,T);if(N&&m(E)!==T&&k(E,T),u&&!f(T,C))for(r in D=!0,g(T,C,{get:function(){return l(this)?this[R]:void 0}}),P)s[r]&&p(s[r],R,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_CONSTRUCTOR:O,TYPED_ARRAY_TAG:D&&R,aTypedArray:F,aTypedArrayConstructor:j,exportTypedArrayMethod:V,exportTypedArrayStaticMethod:B,isView:M,isTypedArray:U,TypedArray:Z,TypedArrayPrototype:T}},3331:function(e,t,n){"use strict";var r=n(7854),i=n(1702),a=n(9781),o=n(4019),u=n(6530),s=n(8880),c=n(9190),l=n(7293),f=n(5787),h=n(9303),d=n(7466),p=n(7067),v=n(1179),g=n(9518),y=n(7674),m=n(8006).f,k=n(3070).f,w=n(1285),b=n(1589),_=n(8003),x=n(9909),I=u.PROPER,E=u.CONFIGURABLE,Z=x.get,T=x.set,S="ArrayBuffer",A="DataView",C="prototype",R="Wrong length",O="Wrong index",N=r[S],D=N,P=D&&D[C],L=r[A],M=L&&L[C],U=Object.prototype,F=r.Array,j=r.RangeError,V=i(w),B=i([].reverse),q=v.pack,z=v.unpack,G=function(e){return[255&e]},K=function(e){return[255&e,e>>8&255]},H=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},W=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Y=function(e){return q(e,23,4)},Q=function(e){return q(e,52,8)},J=function(e,t){k(e[C],t,{get:function(){return Z(this)[t]}})},X=function(e,t,n,r){var i=p(n),a=Z(e);if(i+t>a.byteLength)throw j(O);var o=Z(a.buffer).bytes,u=i+a.byteOffset,s=b(o,u,u+t);return r?s:B(s)},$=function(e,t,n,r,i,a){var o=p(n),u=Z(e);if(o+t>u.byteLength)throw j(O);for(var s=Z(u.buffer).bytes,c=o+u.byteOffset,l=r(+i),f=0;f<t;f++)s[c+f]=l[a?f:t-f-1]};if(o){var ee=I&&N.name!==S;if(l((function(){N(1)}))&&l((function(){new N(-1)}))&&!l((function(){return new N,new N(1.5),new N(NaN),ee&&!E})))ee&&E&&s(N,"name",S);else{D=function(e){return f(this,P),new N(p(e))},D[C]=P;for(var te,ne=m(N),re=0;ne.length>re;)(te=ne[re++])in D||s(D,te,N[te]);P.constructor=D}y&&g(M)!==U&&y(M,U);var ie=new L(new D(2)),ae=i(M.setInt8);ie.setInt8(0,2147483648),ie.setInt8(1,2147483649),!ie.getInt8(0)&&ie.getInt8(1)||c(M,{setInt8:function(e,t){ae(this,e,t<<24>>24)},setUint8:function(e,t){ae(this,e,t<<24>>24)}},{unsafe:!0})}else D=function(e){f(this,P);var t=p(e);T(this,{bytes:V(F(t),0),byteLength:t}),a||(this.byteLength=t)},P=D[C],L=function(e,t,n){f(this,M),f(e,P);var r=Z(e).byteLength,i=h(t);if(i<0||i>r)throw j("Wrong offset");if(n=void 0===n?r-i:d(n),i+n>r)throw j(R);T(this,{buffer:e,byteLength:n,byteOffset:i}),a||(this.buffer=e,this.byteLength=n,this.byteOffset=i)},M=L[C],a&&(J(D,"byteLength"),J(L,"buffer"),J(L,"byteLength"),J(L,"byteOffset")),c(M,{getInt8:function(e){return X(this,1,e)[0]<<24>>24},getUint8:function(e){return X(this,1,e)[0]},getInt16:function(e){var t=X(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=X(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return W(X(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return W(X(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return z(X(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return z(X(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){$(this,1,e,G,t)},setUint8:function(e,t){$(this,1,e,G,t)},setInt16:function(e,t){$(this,2,e,K,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){$(this,2,e,K,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){$(this,4,e,H,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){$(this,4,e,H,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){$(this,4,e,Y,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){$(this,8,e,Q,t,arguments.length>2?arguments[2]:void 0)}});_(D,S),_(L,A),e.exports={ArrayBuffer:D,DataView:L}},1048:function(e,t,n){"use strict";var r=n(7908),i=n(1400),a=n(6244),o=n(5117),u=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),s=a(n),c=i(e,s),l=i(t,s),f=arguments.length>2?arguments[2]:void 0,h=u((void 0===f?s:i(f,s))-l,s-c),d=1;l<c&&c<l+h&&(d=-1,l+=h-1,c+=h-1);while(h-- >0)l in n?n[c]=n[l]:o(n,c),c+=d,l+=d;return n}},1285:function(e,t,n){"use strict";var r=n(7908),i=n(1400),a=n(6244);e.exports=function(e){var t=r(this),n=a(t),o=arguments.length,u=i(o>1?arguments[1]:void 0,n),s=o>2?arguments[2]:void 0,c=void 0===s?n:i(s,n);while(c>u)t[u++]=e;return t}},8533:function(e,t,n){"use strict";var r=n(2092).forEach,i=n(9341),a=i("forEach");e.exports=a?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},7745:function(e,t,n){var r=n(6244);e.exports=function(e,t){var n=0,i=r(t),a=new e(i);while(i>n)a[n]=t[n++];return a}},8457:function(e,t,n){"use strict";var r=n(9974),i=n(6916),a=n(7908),o=n(3411),u=n(7659),s=n(4411),c=n(6244),l=n(6135),f=n(8554),h=n(1246),d=Array;e.exports=function(e){var t=a(e),n=s(this),p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v;g&&(v=r(v,p>2?arguments[2]:void 0));var y,m,k,w,b,_,x=h(t),I=0;if(!x||this===d&&u(x))for(y=c(t),m=n?new this(y):d(y);y>I;I++)_=g?v(t[I],I):t[I],l(m,I,_);else for(w=f(t,x),b=w.next,m=n?new this:[];!(k=i(b,w)).done;I++)_=g?o(w,v,[k.value,I],!0):k.value,l(m,I,_);return m.length=I,m}},1318:function(e,t,n){var r=n(5656),i=n(1400),a=n(6244),o=function(e){return function(t,n,o){var u,s=r(t),c=a(s),l=i(o,c);if(e&&n!=n){while(c>l)if(u=s[l++],u!=u)return!0}else for(;c>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},2092:function(e,t,n){var r=n(9974),i=n(1702),a=n(8361),o=n(7908),u=n(6244),s=n(5417),c=i([].push),l=function(e){var t=1==e,n=2==e,i=3==e,l=4==e,f=6==e,h=7==e,d=5==e||f;return function(p,v,g,y){for(var m,k,w=o(p),b=a(w),_=r(v,g),x=u(b),I=0,E=y||s,Z=t?E(p,x):n||h?E(p,0):void 0;x>I;I++)if((d||I in b)&&(m=b[I],k=_(m,I,w),e))if(t)Z[I]=k;else if(k)switch(e){case 3:return!0;case 5:return m;case 6:return I;case 2:c(Z,m)}else switch(e){case 4:return!1;case 7:c(Z,m)}return f?-1:i||l?l:Z}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},6583:function(e,t,n){"use strict";var r=n(2104),i=n(5656),a=n(9303),o=n(6244),u=n(9341),s=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,f=u("lastIndexOf"),h=l||!f;e.exports=h?function(e){if(l)return r(c,this,arguments)||0;var t=i(this),n=o(t),u=n-1;for(arguments.length>1&&(u=s(u,a(arguments[1]))),u<0&&(u=n+u);u>=0;u--)if(u in t&&t[u]===e)return u||0;return-1}:c},1194:function(e,t,n){var r=n(7293),i=n(5112),a=n(7392),o=i("species");e.exports=function(e){return a>=51||!r((function(){var t=[],n=t.constructor={};return n[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},9341:function(e,t,n){"use strict";var r=n(7293);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},3671:function(e,t,n){var r=n(9662),i=n(7908),a=n(8361),o=n(6244),u=TypeError,s=function(e){return function(t,n,s,c){r(n);var l=i(t),f=a(l),h=o(l),d=e?h-1:0,p=e?-1:1;if(s<2)while(1){if(d in f){c=f[d],d+=p;break}if(d+=p,e?d<0:h<=d)throw u("Reduce of empty array with no initial value")}for(;e?d>=0:h>d;d+=p)d in f&&(c=n(c,f[d],d,l));return c}};e.exports={left:s(!1),right:s(!0)}},1589:function(e,t,n){var r=n(1400),i=n(6244),a=n(6135),o=Array,u=Math.max;e.exports=function(e,t,n){for(var s=i(e),c=r(t,s),l=r(void 0===n?s:n,s),f=o(u(l-c,0)),h=0;c<l;c++,h++)a(f,h,e[c]);return f.length=h,f}},206:function(e,t,n){var r=n(1702);e.exports=r([].slice)},4362:function(e,t,n){var r=n(1589),i=Math.floor,a=function(e,t){var n=e.length,s=i(n/2);return n<8?o(e,t):u(e,a(r(e,0,s),t),a(r(e,s),t),t)},o=function(e,t){var n,r,i=e.length,a=1;while(a<i){r=a,n=e[a];while(r&&t(e[r-1],n)>0)e[r]=e[--r];r!==a++&&(e[r]=n)}return e},u=function(e,t,n,r){var i=t.length,a=n.length,o=0,u=0;while(o<i||u<a)e[o+u]=o<i&&u<a?r(t[o],n[u])<=0?t[o++]:n[u++]:o<i?t[o++]:n[u++];return e};e.exports=a},7475:function(e,t,n){var r=n(3157),i=n(4411),a=n(111),o=n(5112),u=o("species"),s=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,i(t)&&(t===s||r(t.prototype))?t=void 0:a(t)&&(t=t[u],null===t&&(t=void 0))),void 0===t?s:t}},5417:function(e,t,n){var r=n(7475);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},4170:function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n={},r=0;r<66;r++)n[t.charAt(r)]=r;e.exports={itoc:t,ctoi:n}},3411:function(e,t,n){var r=n(9670),i=n(9212);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(o){i(e,"throw",o)}}},7072:function(e,t,n){var r=n(5112),i=r("iterator"),a=!1;try{var o=0,u={next:function(){return{done:!!o++}},return:function(){a=!0}};u[i]=function(){return this},Array.from(u,(function(){throw 2}))}catch(s){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(s){}return n}},4326:function(e,t,n){var r=n(1702),i=r({}.toString),a=r("".slice);e.exports=function(e){return a(i(e),8,-1)}},648:function(e,t,n){var r=n(1694),i=n(614),a=n(4326),o=n(5112),u=o("toStringTag"),s=Object,c="Arguments"==a(function(){return arguments}()),l=function(e,t){try{return e[t]}catch(n){}};e.exports=r?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=l(t=s(e),u))?n:c?a(t):"Object"==(r=a(t))&&i(t.callee)?"Arguments":r}},7741:function(e,t,n){var r=n(1702),i=Error,a=r("".replace),o=function(e){return String(i(e).stack)}("zxcasd"),u=/\n\s*at [^:]*:[^\n]*/,s=u.test(o);e.exports=function(e,t){if(s&&"string"==typeof e&&!i.prepareStackTrace)while(t--)e=a(e,u,"");return e}},5631:function(e,t,n){"use strict";var r=n(3070).f,i=n(30),a=n(9190),o=n(9974),u=n(5787),s=n(408),c=n(654),l=n(6340),f=n(9781),h=n(2423).fastKey,d=n(9909),p=d.set,v=d.getterFor;e.exports={getConstructor:function(e,t,n,c){var l=e((function(e,r){u(e,d),p(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),f||(e.size=0),void 0!=r&&s(r,e[c],{that:e,AS_ENTRIES:n})})),d=l.prototype,g=v(t),y=function(e,t,n){var r,i,a=g(e),o=m(e,t);return o?o.value=n:(a.last=o={index:i=h(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),f?a.size++:e.size++,"F"!==i&&(a.index[i]=o)),e},m=function(e,t){var n,r=g(e),i=h(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return a(d,{clear:function(){var e=this,t=g(e),n=t.index,r=t.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;t.first=t.last=void 0,f?t.size=0:e.size=0},delete:function(e){var t=this,n=g(t),r=m(t,e);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first==r&&(n.first=i),n.last==r&&(n.last=a),f?n.size--:t.size--}return!!r},forEach:function(e){var t,n=g(this),r=o(e,arguments.length>1?arguments[1]:void 0);while(t=t?t.next:n.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!m(this,e)}}),a(d,n?{get:function(e){var t=m(this,e);return t&&t.value},set:function(e,t){return y(this,0===e?0:e,t)}}:{add:function(e){return y(this,e=0===e?0:e,e)}}),f&&r(d,"size",{get:function(){return g(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",i=v(t),a=v(r);c(e,t,(function(e,t){p(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){var e=a(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},9320:function(e,t,n){"use strict";var r=n(1702),i=n(9190),a=n(2423).getWeakData,o=n(9670),u=n(111),s=n(5787),c=n(408),l=n(2092),f=n(2597),h=n(9909),d=h.set,p=h.getterFor,v=l.find,g=l.findIndex,y=r([].splice),m=0,k=function(e){return e.frozen||(e.frozen=new w)},w=function(){this.entries=[]},b=function(e,t){return v(e.entries,(function(e){return e[0]===t}))};w.prototype={get:function(e){var t=b(this,e);if(t)return t[1]},has:function(e){return!!b(this,e)},set:function(e,t){var n=b(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=g(this.entries,(function(t){return t[0]===e}));return~t&&y(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,n,r){var l=e((function(e,i){s(e,h),d(e,{type:t,id:m++,frozen:void 0}),void 0!=i&&c(i,e[r],{that:e,AS_ENTRIES:n})})),h=l.prototype,v=p(t),g=function(e,t,n){var r=v(e),i=a(o(t),!0);return!0===i?k(r).set(t,n):i[r.id]=n,e};return i(h,{delete:function(e){var t=v(this);if(!u(e))return!1;var n=a(e);return!0===n?k(t)["delete"](e):n&&f(n,t.id)&&delete n[t.id]},has:function(e){var t=v(this);if(!u(e))return!1;var n=a(e);return!0===n?k(t).has(e):n&&f(n,t.id)}}),i(h,n?{get:function(e){var t=v(this);if(u(e)){var n=a(e);return!0===n?k(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return g(this,e,t)}}:{add:function(e){return g(this,e,!0)}}),l}}},7710:function(e,t,n){"use strict";var r=n(2109),i=n(7854),a=n(1702),o=n(4705),u=n(8052),s=n(2423),c=n(408),l=n(5787),f=n(614),h=n(111),d=n(7293),p=n(7072),v=n(8003),g=n(9587);e.exports=function(e,t,n){var y=-1!==e.indexOf("Map"),m=-1!==e.indexOf("Weak"),k=y?"set":"add",w=i[e],b=w&&w.prototype,_=w,x={},I=function(e){var t=a(b[e]);u(b,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(m&&!h(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return m&&!h(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!h(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})},E=o(e,!f(w)||!(m||b.forEach&&!d((function(){(new w).entries().next()}))));if(E)_=n.getConstructor(t,e,y,k),s.enable();else if(o(e,!0)){var Z=new _,T=Z[k](m?{}:-0,1)!=Z,S=d((function(){Z.has(1)})),A=p((function(e){new w(e)})),C=!m&&d((function(){var e=new w,t=5;while(t--)e[k](t,t);return!e.has(-0)}));A||(_=t((function(e,t){l(e,b);var n=g(new w,e,_);return void 0!=t&&c(t,n[k],{that:n,AS_ENTRIES:y}),n})),_.prototype=b,b.constructor=_),(S||C)&&(I("delete"),I("has"),y&&I("get")),(C||T)&&I(k),m&&b.clear&&delete b.clear}return x[e]=_,r({global:!0,constructor:!0,forced:_!=w},x),v(_,e),m||n.setStrong(_,e,y),_}},9920:function(e,t,n){var r=n(2597),i=n(3887),a=n(1236),o=n(3070);e.exports=function(e,t,n){for(var u=i(t),s=o.f,c=a.f,l=0;l<u.length;l++){var f=u[l];r(e,f)||n&&r(n,f)||s(e,f,c(t,f))}}},4964:function(e,t,n){var r=n(5112),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},8544:function(e,t,n){var r=n(7293);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4230:function(e,t,n){var r=n(1702),i=n(4488),a=n(1340),o=/"/g,u=r("".replace);e.exports=function(e,t,n,r){var s=a(i(e)),c="<"+t;return""!==n&&(c+=" "+n+'="'+u(a(r),o,"&quot;")+'"'),c+">"+s+"</"+t+">"}},4994:function(e,t,n){"use strict";var r=n(3383).IteratorPrototype,i=n(30),a=n(9114),o=n(8003),u=n(7497),s=function(){return this};e.exports=function(e,t,n,c){var l=t+" Iterator";return e.prototype=i(r,{next:a(+!c,n)}),o(e,l,!1,!0),u[l]=s,e}},8880:function(e,t,n){var r=n(9781),i=n(3070),a=n(9114);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},9114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:function(e,t,n){"use strict";var r=n(4948),i=n(3070),a=n(9114);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},7045:function(e,t,n){var r=n(6339),i=n(3070);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},8052:function(e,t,n){var r=n(614),i=n(8880),a=n(6339),o=n(3072);e.exports=function(e,t,n,u){u||(u={});var s=u.enumerable,c=void 0!==u.name?u.name:t;return r(n)&&a(n,c,u),u.global?s?e[t]=n:o(t,n):(u.unsafe?e[t]&&(s=!0):delete e[t],s?e[t]=n:i(e,t,n)),e}},9190:function(e,t,n){var r=n(8052);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},3072:function(e,t,n){var r=n(7854),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},654:function(e,t,n){"use strict";var r=n(2109),i=n(6916),a=n(1913),o=n(6530),u=n(614),s=n(4994),c=n(9518),l=n(7674),f=n(8003),h=n(8880),d=n(8052),p=n(5112),v=n(7497),g=n(3383),y=o.PROPER,m=o.CONFIGURABLE,k=g.IteratorPrototype,w=g.BUGGY_SAFARI_ITERATORS,b=p("iterator"),_="keys",x="values",I="entries",E=function(){return this};e.exports=function(e,t,n,o,p,g,Z){s(n,t,o);var T,S,A,C=function(e){if(e===p&&P)return P;if(!w&&e in N)return N[e];switch(e){case _:return function(){return new n(this,e)};case x:return function(){return new n(this,e)};case I:return function(){return new n(this,e)}}return function(){return new n(this)}},R=t+" Iterator",O=!1,N=e.prototype,D=N[b]||N["@@iterator"]||p&&N[p],P=!w&&D||C(p),L="Array"==t&&N.entries||D;if(L&&(T=c(L.call(new e)),T!==Object.prototype&&T.next&&(a||c(T)===k||(l?l(T,k):u(T[b])||d(T,b,E)),f(T,R,!0,!0),a&&(v[R]=E))),y&&p==x&&D&&D.name!==x&&(!a&&m?h(N,"name",x):(O=!0,P=function(){return i(D,this)})),p)if(S={values:C(x),keys:g?P:C(_),entries:C(I)},Z)for(A in S)(w||O||!(A in N))&&d(N,A,S[A]);else r({target:t,proto:!0,forced:w||O},S);return a&&!Z||N[b]===P||d(N,b,P,{name:p}),v[t]=P,S}},7235:function(e,t,n){var r=n(857),i=n(2597),a=n(6061),o=n(3070).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},5117:function(e,t,n){"use strict";var r=n(6330),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw i("Cannot delete property "+r(t)+" of "+r(e))}},9781:function(e,t,n){var r=n(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(e,t,n){var r=n(7854),i=n(111),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},7207:function(e){var t=TypeError,n=9007199254740991;e.exports=function(e){if(e>n)throw t("Maximum allowed index exceeded");return e}},3678:function(e){e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8324:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:function(e,t,n){var r=n(317),i=r("span").classList,a=i&&i.constructor&&i.constructor.prototype;e.exports=a===Object.prototype?void 0:a},8886:function(e,t,n){var r=n(8113),i=r.match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},7871:function(e){e.exports="object"==typeof window&&"object"!=typeof Deno},256:function(e,t,n){var r=n(8113);e.exports=/MSIE|Trident/.test(r)},1528:function(e,t,n){var r=n(8113),i=n(7854);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},6833:function(e,t,n){var r=n(8113);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},5268:function(e,t,n){var r=n(4326),i=n(7854);e.exports="process"==r(i.process)},1036:function(e,t,n){var r=n(8113);e.exports=/web0s(?!.*chrome)/i.test(r)},8113:function(e,t,n){var r=n(5005);e.exports=r("navigator","userAgent")||""},7392:function(e,t,n){var r,i,a=n(7854),o=n(8113),u=a.process,s=a.Deno,c=u&&u.versions||s&&s.version,l=c&&c.v8;l&&(r=l.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(r=o.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),e.exports=i},8008:function(e,t,n){var r=n(8113),i=r.match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2914:function(e,t,n){var r=n(7293),i=n(9114);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},7762:function(e,t,n){"use strict";var r=n(9781),i=n(7293),a=n(9670),o=n(30),u=n(6277),s=Error.prototype.toString,c=i((function(){if(r){var e=o(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==s.call(e))return!0}return"2: 1"!==s.call({message:1,name:2})||"Error"!==s.call({})}));e.exports=c?function(){var e=a(this),t=u(e.name,"Error"),n=u(e.message);return t?n?t+": "+n:t:n}:s},2109:function(e,t,n){var r=n(7854),i=n(1236).f,a=n(8880),o=n(8052),u=n(3072),s=n(9920),c=n(4705);e.exports=function(e,t){var n,l,f,h,d,p,v=e.target,g=e.global,y=e.stat;if(l=g?r:y?r[v]||u(v,{}):(r[v]||{}).prototype,l)for(f in t){if(d=t[f],e.dontCallGetSet?(p=i(l,f),h=p&&p.value):h=l[f],n=c(g?f:v+(y?".":"#")+f,e.forced),!n&&void 0!==h){if(typeof d==typeof h)continue;s(d,h)}(e.sham||h&&h.sham)&&a(d,"sham",!0),o(l,f,d,e)}}},7293:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},7007:function(e,t,n){"use strict";n(4916);var r=n(1702),i=n(8052),a=n(2261),o=n(7293),u=n(5112),s=n(8880),c=u("species"),l=RegExp.prototype;e.exports=function(e,t,n,f){var h=u(e),d=!o((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),p=d&&!o((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t}));if(!d||!p||n){var v=r(/./[h]),g=t(h,""[e],(function(e,t,n,i,o){var u=r(e),s=t.exec;return s===a||s===l.exec?d&&!o?{done:!0,value:v(t,n,i)}:{done:!0,value:u(n,t,i)}:{done:!1}}));i(String.prototype,e,g[0]),i(l,h,g[1])}f&&s(l[h],"sham",!0)}},6677:function(e,t,n){var r=n(7293);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},2104:function(e,t,n){var r=n(4374),i=Function.prototype,a=i.apply,o=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(a):function(){return o.apply(a,arguments)})},9974:function(e,t,n){var r=n(1702),i=n(9662),a=n(4374),o=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?o(e,t):function(){return e.apply(t,arguments)}}},4374:function(e,t,n){var r=n(7293);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},7065:function(e,t,n){"use strict";var r=n(1702),i=n(9662),a=n(111),o=n(2597),u=n(206),s=n(4374),c=Function,l=r([].concat),f=r([].join),h={},d=function(e,t,n){if(!o(h,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";h[t]=c("C,a","return new C("+f(r,",")+")")}return h[t](e,n)};e.exports=s?c.bind:function(e){var t=i(this),n=t.prototype,r=u(arguments,1),o=function(){var n=l(r,u(arguments));return this instanceof o?d(t,n.length,n):t.apply(e,n)};return a(n)&&(o.prototype=n),o}},6916:function(e,t,n){var r=n(4374),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},6530:function(e,t,n){var r=n(9781),i=n(2597),a=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,u=i(a,"name"),s=u&&"something"===function(){}.name,c=u&&(!r||r&&o(a,"name").configurable);e.exports={EXISTS:u,PROPER:s,CONFIGURABLE:c}},1702:function(e,t,n){var r=n(4374),i=Function.prototype,a=i.bind,o=i.call,u=r&&a.bind(o,o);e.exports=r?function(e){return e&&u(e)}:function(e){return e&&function(){return o.apply(e,arguments)}}},5005:function(e,t,n){var r=n(7854),i=n(614),a=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e]):r[e]&&r[e][t]}},1246:function(e,t,n){var r=n(648),i=n(8173),a=n(7497),o=n(5112),u=o("iterator");e.exports=function(e){if(void 0!=e)return i(e,u)||i(e,"@@iterator")||a[r(e)]}},8554:function(e,t,n){var r=n(6916),i=n(9662),a=n(9670),o=n(6330),u=n(1246),s=TypeError;e.exports=function(e,t){var n=arguments.length<2?u(e):t;if(i(n))return a(r(n,e));throw s(o(e)+" is not iterable")}},8173:function(e,t,n){var r=n(9662);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},647:function(e,t,n){var r=n(1702),i=n(7908),a=Math.floor,o=r("".charAt),u=r("".replace),s=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,f,h){var d=n+e.length,p=r.length,v=l;return void 0!==f&&(f=i(f),v=c),u(h,v,(function(i,u){var c;switch(o(u,0)){case"$":return"$";case"&":return e;case"`":return s(t,0,n);case"'":return s(t,d);case"<":c=f[s(u,1,-1)];break;default:var l=+u;if(0===l)return i;if(l>p){var h=a(l/10);return 0===h?i:h<=p?void 0===r[h-1]?o(u,1):r[h-1]+o(u,1):i}c=r[l-1]}return void 0===c?"":c}))}},7854:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(e,t,n){var r=n(1702),i=n(7908),a=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},3501:function(e){e.exports={}},842:function(e,t,n){var r=n(7854);e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},490:function(e,t,n){var r=n(5005);e.exports=r("document","documentElement")},4664:function(e,t,n){var r=n(9781),i=n(7293),a=n(317);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},1179:function(e){var t=Array,n=Math.abs,r=Math.pow,i=Math.floor,a=Math.log,o=Math.LN2,u=function(e,u,s){var c,l,f,h=t(s),d=8*s-u-1,p=(1<<d)-1,v=p>>1,g=23===u?r(2,-24)-r(2,-77):0,y=e<0||0===e&&1/e<0?1:0,m=0;e=n(e),e!=e||e===1/0?(l=e!=e?1:0,c=p):(c=i(a(e)/o),f=r(2,-c),e*f<1&&(c--,f*=2),e+=c+v>=1?g/f:g*r(2,1-v),e*f>=2&&(c++,f/=2),c+v>=p?(l=0,c=p):c+v>=1?(l=(e*f-1)*r(2,u),c+=v):(l=e*r(2,v-1)*r(2,u),c=0));while(u>=8)h[m++]=255&l,l/=256,u-=8;c=c<<u|l,d+=u;while(d>0)h[m++]=255&c,c/=256,d-=8;return h[--m]|=128*y,h},s=function(e,t){var n,i=e.length,a=8*i-t-1,o=(1<<a)-1,u=o>>1,s=a-7,c=i-1,l=e[c--],f=127&l;l>>=7;while(s>0)f=256*f+e[c--],s-=8;n=f&(1<<-s)-1,f>>=-s,s+=t;while(s>0)n=256*n+e[c--],s-=8;if(0===f)f=1-u;else{if(f===o)return n?NaN:l?-1/0:1/0;n+=r(2,t),f-=u}return(l?-1:1)*n*r(2,f-t)};e.exports={pack:u,unpack:s}},8361:function(e,t,n){var r=n(1702),i=n(7293),a=n(4326),o=Object,u=r("".split);e.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?u(e,""):o(e)}:o},9587:function(e,t,n){var r=n(614),i=n(111),a=n(7674);e.exports=function(e,t,n){var o,u;return a&&r(o=t.constructor)&&o!==n&&i(u=o.prototype)&&u!==n.prototype&&a(e,u),e}},2788:function(e,t,n){var r=n(1702),i=n(614),a=n(5465),o=r(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return o(e)}),e.exports=a.inspectSource},8340:function(e,t,n){var r=n(111),i=n(8880);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},2423:function(e,t,n){var r=n(2109),i=n(1702),a=n(3501),o=n(111),u=n(2597),s=n(3070).f,c=n(8006),l=n(1156),f=n(2050),h=n(9711),d=n(6677),p=!1,v=h("meta"),g=0,y=function(e){s(e,v,{value:{objectID:"O"+g++,weakData:{}}})},m=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!u(e,v)){if(!f(e))return"F";if(!t)return"E";y(e)}return e[v].objectID},k=function(e,t){if(!u(e,v)){if(!f(e))return!0;if(!t)return!1;y(e)}return e[v].weakData},w=function(e){return d&&p&&f(e)&&!u(e,v)&&y(e),e},b=function(){_.enable=function(){},p=!0;var e=c.f,t=i([].splice),n={};n[v]=1,e(n).length&&(c.f=function(n){for(var r=e(n),i=0,a=r.length;i<a;i++)if(r[i]===v){t(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},_=e.exports={enable:b,fastKey:m,getWeakData:k,onFreeze:w};a[v]=!0},9909:function(e,t,n){var r,i,a,o=n(8536),u=n(7854),s=n(1702),c=n(111),l=n(8880),f=n(2597),h=n(5465),d=n(6200),p=n(3501),v="Object already initialized",g=u.TypeError,y=u.WeakMap,m=function(e){return a(e)?i(e):r(e,{})},k=function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}};if(o||h.state){var w=h.state||(h.state=new y),b=s(w.get),_=s(w.has),x=s(w.set);r=function(e,t){if(_(w,e))throw new g(v);return t.facade=e,x(w,e,t),t},i=function(e){return b(w,e)||{}},a=function(e){return _(w,e)}}else{var I=d("state");p[I]=!0,r=function(e,t){if(f(e,I))throw new g(v);return t.facade=e,l(e,I,t),t},i=function(e){return f(e,I)?e[I]:{}},a=function(e){return f(e,I)}}e.exports={set:r,get:i,has:a,enforce:m,getterFor:k}},7659:function(e,t,n){var r=n(5112),i=n(7497),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},3157:function(e,t,n){var r=n(4326);e.exports=Array.isArray||function(e){return"Array"==r(e)}},614:function(e){e.exports=function(e){return"function"==typeof e}},4411:function(e,t,n){var r=n(1702),i=n(7293),a=n(614),o=n(648),u=n(5005),s=n(2788),c=function(){},l=[],f=u("Reflect","construct"),h=/^\s*(?:class|function)\b/,d=r(h.exec),p=!h.exec(c),v=function(e){if(!a(e))return!1;try{return f(c,l,e),!0}catch(t){return!1}},g=function(e){if(!a(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!d(h,s(e))}catch(t){return!0}};g.sham=!0,e.exports=!f||i((function(){var e;return v(v.call)||!v(Object)||!v((function(){e=!0}))||e}))?g:v},5032:function(e,t,n){var r=n(2597);e.exports=function(e){return void 0!==e&&(r(e,"value")||r(e,"writable"))}},4705:function(e,t,n){var r=n(7293),i=n(614),a=/#|\.prototype\./,o=function(e,t){var n=s[u(e)];return n==l||n!=c&&(i(t)?r(t):!!t)},u=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},s=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";e.exports=o},5988:function(e,t,n){var r=n(111),i=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&i(e)===e}},111:function(e,t,n){var r=n(614);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},1913:function(e){e.exports=!1},7850:function(e,t,n){var r=n(111),i=n(4326),a=n(5112),o=a("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},2190:function(e,t,n){var r=n(5005),i=n(614),a=n(7976),o=n(3307),u=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&a(t.prototype,u(e))}},408:function(e,t,n){var r=n(9974),i=n(6916),a=n(9670),o=n(6330),u=n(7659),s=n(6244),c=n(7976),l=n(8554),f=n(1246),h=n(9212),d=TypeError,p=function(e,t){this.stopped=e,this.result=t},v=p.prototype;e.exports=function(e,t,n){var g,y,m,k,w,b,_,x=n&&n.that,I=!(!n||!n.AS_ENTRIES),E=!(!n||!n.IS_ITERATOR),Z=!(!n||!n.INTERRUPTED),T=r(t,x),S=function(e){return g&&h(g,"normal",e),new p(!0,e)},A=function(e){return I?(a(e),Z?T(e[0],e[1],S):T(e[0],e[1])):Z?T(e,S):T(e)};if(E)g=e;else{if(y=f(e),!y)throw d(o(e)+" is not iterable");if(u(y)){for(m=0,k=s(e);k>m;m++)if(w=A(e[m]),w&&c(v,w))return w;return new p(!1)}g=l(e,y)}b=g.next;while(!(_=i(b,g)).done){try{w=A(_.value)}catch(C){h(g,"throw",C)}if("object"==typeof w&&w&&c(v,w))return w}return new p(!1)}},9212:function(e,t,n){var r=n(6916),i=n(9670),a=n(8173);e.exports=function(e,t,n){var o,u;i(e);try{if(o=a(e,"return"),!o){if("throw"===t)throw n;return n}o=r(o,e)}catch(s){u=!0,o=s}if("throw"===t)throw n;if(u)throw o;return i(o),n}},3383:function(e,t,n){"use strict";var r,i,a,o=n(7293),u=n(614),s=n(30),c=n(9518),l=n(8052),f=n(5112),h=n(1913),d=f("iterator"),p=!1;[].keys&&(a=[].keys(),"next"in a?(i=c(c(a)),i!==Object.prototype&&(r=i)):p=!0);var v=void 0==r||o((function(){var e={};return r[d].call(e)!==e}));v?r={}:h&&(r=s(r)),u(r[d])||l(r,d,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},7497:function(e){e.exports={}},6244:function(e,t,n){var r=n(7466);e.exports=function(e){return r(e.length)}},6339:function(e,t,n){var r=n(7293),i=n(614),a=n(2597),o=n(9781),u=n(6530).CONFIGURABLE,s=n(2788),c=n(9909),l=c.enforce,f=c.get,h=Object.defineProperty,d=o&&!r((function(){return 8!==h((function(){}),"length",{value:8}).length})),p=String(String).split("String"),v=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||u&&e.name!==t)&&h(e,"name",{value:t,configurable:!0}),d&&n&&a(n,"arity")&&e.length!==n.arity&&h(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?o&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var r=l(e);return a(r,"source")||(r.source=p.join("string"==typeof t?t:"")),e};Function.prototype.toString=v((function(){return i(this)&&f(this).source||s(this)}),"toString")},4758:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},5948:function(e,t,n){var r,i,a,o,u,s,c,l,f=n(7854),h=n(9974),d=n(1236).f,p=n(261).set,v=n(6833),g=n(1528),y=n(1036),m=n(5268),k=f.MutationObserver||f.WebKitMutationObserver,w=f.document,b=f.process,_=f.Promise,x=d(f,"queueMicrotask"),I=x&&x.value;I||(r=function(){var e,t;m&&(e=b.domain)&&e.exit();while(i){t=i.fn,i=i.next;try{t()}catch(n){throw i?o():a=void 0,n}}a=void 0,e&&e.enter()},v||m||y||!k||!w?!g&&_&&_.resolve?(c=_.resolve(void 0),c.constructor=_,l=h(c.then,c),o=function(){l(r)}):m?o=function(){b.nextTick(r)}:(p=h(p,f),o=function(){p(r)}):(u=!0,s=w.createTextNode(""),new k(r).observe(s,{characterData:!0}),o=function(){s.data=u=!u})),e.exports=I||function(e){var t={fn:e,next:void 0};a&&(a.next=t),i||(i=t,o()),a=t}},735:function(e,t,n){var r=n(133);e.exports=r&&!!Symbol["for"]&&!!Symbol.keyFor},133:function(e,t,n){var r=n(7392),i=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},590:function(e,t,n){var r=n(7293),i=n(5112),a=n(1913),o=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t["delete"]("b"),n+=r+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},8536:function(e,t,n){var r=n(7854),i=n(614),a=n(2788),o=r.WeakMap;e.exports=i(o)&&/native code/.test(a(o))},8523:function(e,t,n){"use strict";var r=n(9662),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},6277:function(e,t,n){var r=n(1340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},3929:function(e,t,n){var r=n(7850),i=TypeError;e.exports=function(e){if(r(e))throw i("The method doesn't accept regular expressions");return e}},7023:function(e,t,n){var r=n(7854),i=r.isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&i(e)}},2814:function(e,t,n){var r=n(7854),i=n(7293),a=n(1702),o=n(1340),u=n(3111).trim,s=n(1361),c=a("".charAt),l=r.parseFloat,f=r.Symbol,h=f&&f.iterator,d=1/l(s+"-0")!==-1/0||h&&!i((function(){l(Object(h))}));e.exports=d?function(e){var t=u(o(e)),n=l(t);return 0===n&&"-"==c(t,0)?-0:n}:l},3009:function(e,t,n){var r=n(7854),i=n(7293),a=n(1702),o=n(1340),u=n(3111).trim,s=n(1361),c=r.parseInt,l=r.Symbol,f=l&&l.iterator,h=/^[+-]?0x/i,d=a(h.exec),p=8!==c(s+"08")||22!==c(s+"0x16")||f&&!i((function(){c(Object(f))}));e.exports=p?function(e,t){var n=u(o(e));return c(n,t>>>0||(d(h,n)?16:10))}:c},1574:function(e,t,n){"use strict";var r=n(9781),i=n(1702),a=n(6916),o=n(7293),u=n(1956),s=n(5181),c=n(5296),l=n(7908),f=n(8361),h=Object.assign,d=Object.defineProperty,p=i([].concat);e.exports=!h||o((function(){if(r&&1!==h({b:1},h(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=h({},e)[n]||u(h({},t)).join("")!=i}))?function(e,t){var n=l(e),i=arguments.length,o=1,h=s.f,d=c.f;while(i>o){var v,g=f(arguments[o++]),y=h?p(u(g),h(g)):u(g),m=y.length,k=0;while(m>k)v=y[k++],r&&!a(d,g,v)||(n[v]=g[v])}return n}:h},30:function(e,t,n){var r,i=n(9670),a=n(6048),o=n(748),u=n(3501),s=n(490),c=n(317),l=n(6200),f=">",h="<",d="prototype",p="script",v=l("IE_PROTO"),g=function(){},y=function(e){return h+p+f+e+h+"/"+p+f},m=function(e){e.write(y("")),e.close();var t=e.parentWindow.Object;return e=null,t},k=function(){var e,t=c("iframe"),n="java"+p+":";return t.style.display="none",s.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(y("document.F=Object")),e.close(),e.F},w=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}w="undefined"!=typeof document?document.domain&&r?m(r):k():m(r);var e=o.length;while(e--)delete w[d][o[e]];return w()};u[v]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(g[d]=i(e),n=new g,g[d]=null,n[v]=e):n=w(),void 0===t?n:a.f(n,t)}},6048:function(e,t,n){var r=n(9781),i=n(3353),a=n(3070),o=n(9670),u=n(5656),s=n(1956);t.f=r&&!i?Object.defineProperties:function(e,t){o(e);var n,r=u(t),i=s(t),c=i.length,l=0;while(c>l)a.f(e,n=i[l++],r[n]);return e}},3070:function(e,t,n){var r=n(9781),i=n(4664),a=n(3353),o=n(9670),u=n(4948),s=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,f="enumerable",h="configurable",d="writable";t.f=r?a?function(e,t,n){if(o(e),t=u(t),o(n),"function"===typeof e&&"prototype"===t&&"value"in n&&d in n&&!n[d]){var r=l(e,t);r&&r[d]&&(e[t]=n.value,n={configurable:h in n?n[h]:r[h],enumerable:f in n?n[f]:r[f],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(o(e),t=u(t),o(n),i)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw s("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:function(e,t,n){var r=n(9781),i=n(6916),a=n(5296),o=n(9114),u=n(5656),s=n(4948),c=n(2597),l=n(4664),f=Object.getOwnPropertyDescriptor;t.f=r?f:function(e,t){if(e=u(e),t=s(t),l)try{return f(e,t)}catch(n){}if(c(e,t))return o(!i(a.f,e,t),e[t])}},1156:function(e,t,n){var r=n(4326),i=n(5656),a=n(8006).f,o=n(1589),u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return a(e)}catch(t){return o(u)}};e.exports.f=function(e){return u&&"Window"==r(e)?s(e):a(i(e))}},8006:function(e,t,n){var r=n(6324),i=n(748),a=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,a)}},5181:function(e,t){t.f=Object.getOwnPropertySymbols},9518:function(e,t,n){var r=n(2597),i=n(614),a=n(7908),o=n(6200),u=n(8544),s=o("IE_PROTO"),c=Object,l=c.prototype;e.exports=u?c.getPrototypeOf:function(e){var t=a(e);if(r(t,s))return t[s];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof c?l:null}},2050:function(e,t,n){var r=n(7293),i=n(111),a=n(4326),o=n(7556),u=Object.isExtensible,s=r((function(){u(1)}));e.exports=s||o?function(e){return!!i(e)&&((!o||"ArrayBuffer"!=a(e))&&(!u||u(e)))}:u},7976:function(e,t,n){var r=n(1702);e.exports=r({}.isPrototypeOf)},6324:function(e,t,n){var r=n(1702),i=n(2597),a=n(5656),o=n(1318).indexOf,u=n(3501),s=r([].push);e.exports=function(e,t){var n,r=a(e),c=0,l=[];for(n in r)!i(u,n)&&i(r,n)&&s(l,n);while(t.length>c)i(r,n=t[c++])&&(~o(l,n)||s(l,n));return l}},1956:function(e,t,n){var r=n(6324),i=n(748);e.exports=Object.keys||function(e){return r(e,i)}},5296:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7674:function(e,t,n){var r=n(1702),i=n(9670),a=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(n,[]),t=n instanceof Array}catch(o){}return function(n,r){return i(n),a(r),t?e(n,r):n.__proto__=r,n}}():void 0)},4699:function(e,t,n){var r=n(9781),i=n(1702),a=n(1956),o=n(5656),u=n(5296).f,s=i(u),c=i([].push),l=function(e){return function(t){var n,i=o(t),u=a(i),l=u.length,f=0,h=[];while(l>f)n=u[f++],r&&!s(i,n)||c(h,e?[n,i[n]]:i[n]);return h}};e.exports={entries:l(!0),values:l(!1)}},288:function(e,t,n){"use strict";var r=n(1694),i=n(648);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},2140:function(e,t,n){var r=n(6916),i=n(614),a=n(111),o=TypeError;e.exports=function(e,t){var n,u;if("string"===t&&i(n=e.toString)&&!a(u=r(n,e)))return u;if(i(n=e.valueOf)&&!a(u=r(n,e)))return u;if("string"!==t&&i(n=e.toString)&&!a(u=r(n,e)))return u;throw o("Can't convert object to primitive value")}},3887:function(e,t,n){var r=n(5005),i=n(1702),a=n(8006),o=n(5181),u=n(9670),s=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(u(e)),n=o.f;return n?s(t,n(e)):t}},857:function(e,t,n){var r=n(7854);e.exports=r},2534:function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},3702:function(e,t,n){var r=n(7854),i=n(2492),a=n(614),o=n(4705),u=n(2788),s=n(5112),c=n(7871),l=n(1913),f=n(7392),h=i&&i.prototype,d=s("species"),p=!1,v=a(r.PromiseRejectionEvent),g=o("Promise",(function(){var e=u(i),t=e!==String(i);if(!t&&66===f)return!0;if(l&&(!h["catch"]||!h["finally"]))return!0;if(f>=51&&/native code/.test(e))return!1;var n=new i((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))},a=n.constructor={};return a[d]=r,p=n.then((function(){}))instanceof r,!p||!t&&c&&!v}));e.exports={CONSTRUCTOR:g,REJECTION_EVENT:v,SUBCLASSING:p}},2492:function(e,t,n){var r=n(7854);e.exports=r.Promise},9478:function(e,t,n){var r=n(9670),i=n(111),a=n(8523);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e),o=n.resolve;return o(t),n.promise}},612:function(e,t,n){var r=n(2492),i=n(7072),a=n(3702).CONSTRUCTOR;e.exports=a||!i((function(e){r.all(e).then(void 0,(function(){}))}))},2626:function(e,t,n){var r=n(3070).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},8572:function(e){var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},7651:function(e,t,n){var r=n(6916),i=n(9670),a=n(614),o=n(4326),u=n(2261),s=TypeError;e.exports=function(e,t){var n=e.exec;if(a(n)){var c=r(n,e,t);return null!==c&&i(c),c}if("RegExp"===o(e))return r(u,e,t);throw s("RegExp#exec called on incompatible receiver")}},2261:function(e,t,n){"use strict";var r=n(6916),i=n(1702),a=n(1340),o=n(7066),u=n(2999),s=n(2309),c=n(30),l=n(9909).get,f=n(9441),h=n(7168),d=s("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,v=p,g=i("".charAt),y=i("".indexOf),m=i("".replace),k=i("".slice),w=function(){var e=/a/,t=/b*/g;return r(p,e,"a"),r(p,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),b=u.BROKEN_CARET,_=void 0!==/()??/.exec("")[1],x=w||_||b||f||h;x&&(v=function(e){var t,n,i,u,s,f,h,x=this,I=l(x),E=a(e),Z=I.raw;if(Z)return Z.lastIndex=x.lastIndex,t=r(v,Z,E),x.lastIndex=Z.lastIndex,t;var T=I.groups,S=b&&x.sticky,A=r(o,x),C=x.source,R=0,O=E;if(S&&(A=m(A,"y",""),-1===y(A,"g")&&(A+="g"),O=k(E,x.lastIndex),x.lastIndex>0&&(!x.multiline||x.multiline&&"\n"!==g(E,x.lastIndex-1))&&(C="(?: "+C+")",O=" "+O,R++),n=new RegExp("^(?:"+C+")",A)),_&&(n=new RegExp("^"+C+"$(?!\\s)",A)),w&&(i=x.lastIndex),u=r(p,S?n:x,O),S?u?(u.input=k(u.input,R),u[0]=k(u[0],R),u.index=x.lastIndex,x.lastIndex+=u[0].length):x.lastIndex=0:w&&u&&(x.lastIndex=x.global?u.index+u[0].length:i),_&&u&&u.length>1&&r(d,u[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(u[s]=void 0)})),u&&T)for(u.groups=f=c(null),s=0;s<T.length;s++)h=T[s],f[h[0]]=u[h[1]];return u}),e.exports=v},7066:function(e,t,n){"use strict";var r=n(9670);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},4706:function(e,t,n){var r=n(6916),i=n(2597),a=n(7976),o=n(7066),u=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in u||i(e,"flags")||!a(u,e)?t:r(o,e)}},2999:function(e,t,n){var r=n(7293),i=n(7854),a=i.RegExp,o=r((function(){var e=a("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),u=o||r((function(){return!a("a","y").sticky})),s=o||r((function(){var e=a("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:u,UNSUPPORTED_Y:o}},9441:function(e,t,n){var r=n(7293),i=n(7854),a=i.RegExp;e.exports=r((function(){var e=a(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},7168:function(e,t,n){var r=n(7293),i=n(7854),a=i.RegExp;e.exports=r((function(){var e=a("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4488:function(e){var t=TypeError;e.exports=function(e){if(void 0==e)throw t("Can't call method on "+e);return e}},1150:function(e){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},6340:function(e,t,n){"use strict";var r=n(5005),i=n(3070),a=n(5112),o=n(9781),u=a("species");e.exports=function(e){var t=r(e),n=i.f;o&&t&&!t[u]&&n(t,u,{configurable:!0,get:function(){return this}})}},8003:function(e,t,n){var r=n(3070).f,i=n(2597),a=n(5112),o=a("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,o)&&r(e,o,{configurable:!0,value:t})}},6200:function(e,t,n){var r=n(2309),i=n(9711),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},5465:function(e,t,n){var r=n(7854),i=n(3072),a="__core-js_shared__",o=r[a]||i(a,{});e.exports=o},2309:function(e,t,n){var r=n(1913),i=n(5465);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.22.8",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.8/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:function(e,t,n){var r=n(9670),i=n(9483),a=n(5112),o=a("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},3429:function(e,t,n){var r=n(7293);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},8710:function(e,t,n){var r=n(1702),i=n(9303),a=n(1340),o=n(4488),u=r("".charAt),s=r("".charCodeAt),c=r("".slice),l=function(e){return function(t,n){var r,l,f=a(o(t)),h=i(n),d=f.length;return h<0||h>=d?e?"":void 0:(r=s(f,h),r<55296||r>56319||h+1===d||(l=s(f,h+1))<56320||l>57343?e?u(f,h):r:e?c(f,h,h+2):l-56320+(r-55296<<10)+65536)}};e.exports={codeAt:l(!1),charAt:l(!0)}},4986:function(e,t,n){var r=n(8113);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},6650:function(e,t,n){var r=n(1702),i=n(7466),a=n(1340),o=n(8415),u=n(4488),s=r(o),c=r("".slice),l=Math.ceil,f=function(e){return function(t,n,r){var o,f,h=a(u(t)),d=i(n),p=h.length,v=void 0===r?" ":a(r);return d<=p||""==v?h:(o=d-p,f=s(v,l(o/v.length)),f.length>o&&(f=c(f,0,o)),e?h+f:f+h)}};e.exports={start:f(!1),end:f(!0)}},3197:function(e,t,n){"use strict";var r=n(1702),i=2147483647,a=36,o=1,u=26,s=38,c=700,l=72,f=128,h="-",d=/[^\0-\u007E]/,p=/[.\u3002\uFF0E\uFF61]/g,v="Overflow: input needs wider integers to process",g=a-o,y=RangeError,m=r(p.exec),k=Math.floor,w=String.fromCharCode,b=r("".charCodeAt),_=r([].join),x=r([].push),I=r("".replace),E=r("".split),Z=r("".toLowerCase),T=function(e){var t=[],n=0,r=e.length;while(n<r){var i=b(e,n++);if(i>=55296&&i<=56319&&n<r){var a=b(e,n++);56320==(64512&a)?x(t,((1023&i)<<10)+(1023&a)+65536):(x(t,i),n--)}else x(t,i)}return t},S=function(e){return e+22+75*(e<26)},A=function(e,t,n){var r=0;e=n?k(e/c):e>>1,e+=k(e/t);while(e>g*u>>1)e=k(e/g),r+=a;return k(r+(g+1)*e/(e+s))},C=function(e){var t=[];e=T(e);var n,r,s=e.length,c=f,d=0,p=l;for(n=0;n<e.length;n++)r=e[n],r<128&&x(t,w(r));var g=t.length,m=g;g&&x(t,h);while(m<s){var b=i;for(n=0;n<e.length;n++)r=e[n],r>=c&&r<b&&(b=r);var I=m+1;if(b-c>k((i-d)/I))throw y(v);for(d+=(b-c)*I,c=b,n=0;n<e.length;n++){if(r=e[n],r<c&&++d>i)throw y(v);if(r==c){var E=d,Z=a;while(1){var C=Z<=p?o:Z>=p+u?u:Z-p;if(E<C)break;var R=E-C,O=a-C;x(t,w(S(C+R%O))),E=k(R/O),Z+=a}x(t,w(S(E))),p=A(d,I,m==g),d=0,m++}}d++,c++}return _(t,"")};e.exports=function(e){var t,n,r=[],i=E(I(Z(e),p,"."),".");for(t=0;t<i.length;t++)n=i[t],x(r,m(d,n)?"xn--"+C(n):n);return _(r,".")}},8415:function(e,t,n){"use strict";var r=n(9303),i=n(1340),a=n(4488),o=RangeError;e.exports=function(e){var t=i(a(this)),n="",u=r(e);if(u<0||u==1/0)throw o("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(t+=t))1&u&&(n+=t);return n}},6091:function(e,t,n){var r=n(6530).PROPER,i=n(7293),a=n(1361),o="​᠎";e.exports=function(e){return i((function(){return!!a[e]()||o[e]()!==o||r&&a[e].name!==e}))}},3111:function(e,t,n){var r=n(1702),i=n(4488),a=n(1340),o=n(1361),u=r("".replace),s="["+o+"]",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),f=function(e){return function(t){var n=a(i(t));return 1&e&&(n=u(n,c,"")),2&e&&(n=u(n,l,"")),n}};e.exports={start:f(1),end:f(2),trim:f(3)}},6532:function(e,t,n){var r=n(6916),i=n(5005),a=n(5112),o=n(8052);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,u=a("toPrimitive");t&&!t[u]&&o(t,u,(function(e){return r(n,this)}),{arity:1})}},261:function(e,t,n){var r,i,a,o,u=n(7854),s=n(2104),c=n(9974),l=n(614),f=n(2597),h=n(7293),d=n(490),p=n(206),v=n(317),g=n(8053),y=n(6833),m=n(5268),k=u.setImmediate,w=u.clearImmediate,b=u.process,_=u.Dispatch,x=u.Function,I=u.MessageChannel,E=u.String,Z=0,T={},S="onreadystatechange";try{r=u.location}catch(N){}var A=function(e){if(f(T,e)){var t=T[e];delete T[e],t()}},C=function(e){return function(){A(e)}},R=function(e){A(e.data)},O=function(e){u.postMessage(E(e),r.protocol+"//"+r.host)};k&&w||(k=function(e){g(arguments.length,1);var t=l(e)?e:x(e),n=p(arguments,1);return T[++Z]=function(){s(t,void 0,n)},i(Z),Z},w=function(e){delete T[e]},m?i=function(e){b.nextTick(C(e))}:_&&_.now?i=function(e){_.now(C(e))}:I&&!y?(a=new I,o=a.port2,a.port1.onmessage=R,i=c(o.postMessage,o)):u.addEventListener&&l(u.postMessage)&&!u.importScripts&&r&&"file:"!==r.protocol&&!h(O)?(i=O,u.addEventListener("message",R,!1)):i=S in v("script")?function(e){d.appendChild(v("script"))[S]=function(){d.removeChild(this),A(e)}}:function(e){setTimeout(C(e),0)}),e.exports={set:k,clear:w}},863:function(e,t,n){var r=n(1702);e.exports=r(1..valueOf)},1400:function(e,t,n){var r=n(9303),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},4599:function(e,t,n){var r=n(7593),i=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw i("Can't convert number to bigint");return BigInt(t)}},7067:function(e,t,n){var r=n(9303),i=n(7466),a=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw a("Wrong length or index");return n}},5656:function(e,t,n){var r=n(8361),i=n(4488);e.exports=function(e){return r(i(e))}},9303:function(e,t,n){var r=n(4758);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},7466:function(e,t,n){var r=n(9303),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},7908:function(e,t,n){var r=n(4488),i=Object;e.exports=function(e){return i(r(e))}},4590:function(e,t,n){var r=n(3002),i=RangeError;e.exports=function(e,t){var n=r(e);if(n%t)throw i("Wrong offset");return n}},3002:function(e,t,n){var r=n(9303),i=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw i("The argument can't be less than 0");return t}},7593:function(e,t,n){var r=n(6916),i=n(111),a=n(2190),o=n(8173),u=n(2140),s=n(5112),c=TypeError,l=s("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var n,s=o(e,l);if(s){if(void 0===t&&(t="default"),n=r(s,e,t),!i(n)||a(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),u(e,t)}},4948:function(e,t,n){var r=n(7593),i=n(2190);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},1694:function(e,t,n){var r=n(5112),i=r("toStringTag"),a={};a[i]="z",e.exports="[object z]"===String(a)},1340:function(e,t,n){var r=n(648),i=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},4038:function(e,t,n){var r=n(5268);e.exports=function(e){try{if(r)return Function('return require("'+e+'")')()}catch(t){}}},6330:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},9843:function(e,t,n){"use strict";var r=n(2109),i=n(7854),a=n(6916),o=n(9781),u=n(3832),s=n(260),c=n(3331),l=n(5787),f=n(9114),h=n(8880),d=n(5988),p=n(7466),v=n(7067),g=n(4590),y=n(4948),m=n(2597),k=n(648),w=n(111),b=n(2190),_=n(30),x=n(7976),I=n(7674),E=n(8006).f,Z=n(7321),T=n(2092).forEach,S=n(6340),A=n(3070),C=n(1236),R=n(9909),O=n(9587),N=R.get,D=R.set,P=A.f,L=C.f,M=Math.round,U=i.RangeError,F=c.ArrayBuffer,j=F.prototype,V=c.DataView,B=s.NATIVE_ARRAY_BUFFER_VIEWS,q=s.TYPED_ARRAY_CONSTRUCTOR,z=s.TYPED_ARRAY_TAG,G=s.TypedArray,K=s.TypedArrayPrototype,H=s.aTypedArrayConstructor,W=s.isTypedArray,Y="BYTES_PER_ELEMENT",Q="Wrong length",J=function(e,t){H(e);var n=0,r=t.length,i=new e(r);while(r>n)i[n]=t[n++];return i},X=function(e,t){P(e,t,{get:function(){return N(this)[t]}})},$=function(e){var t;return x(j,e)||"ArrayBuffer"==(t=k(e))||"SharedArrayBuffer"==t},ee=function(e,t){return W(e)&&!b(t)&&t in e&&d(+t)&&t>=0},te=function(e,t){return t=y(t),ee(e,t)?f(2,e[t]):L(e,t)},ne=function(e,t,n){return t=y(t),!(ee(e,t)&&w(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?P(e,t,n):(e[t]=n.value,e)};o?(B||(C.f=te,A.f=ne,X(K,"buffer"),X(K,"byteOffset"),X(K,"byteLength"),X(K,"length")),r({target:"Object",stat:!0,forced:!B},{getOwnPropertyDescriptor:te,defineProperty:ne}),e.exports=function(e,t,n){var o=e.match(/\d+$/)[0]/8,s=e+(n?"Clamped":"")+"Array",c="get"+e,f="set"+e,d=i[s],y=d,m=y&&y.prototype,k={},b=function(e,t){var n=N(e);return n.view[c](t*o+n.byteOffset,!0)},x=function(e,t,r){var i=N(e);n&&(r=(r=M(r))<0?0:r>255?255:255&r),i.view[f](t*o+i.byteOffset,r,!0)},A=function(e,t){P(e,t,{get:function(){return b(this,t)},set:function(e){return x(this,t,e)},enumerable:!0})};B?u&&(y=t((function(e,t,n,r){return l(e,m),O(function(){return w(t)?$(t)?void 0!==r?new d(t,g(n,o),r):void 0!==n?new d(t,g(n,o)):new d(t):W(t)?J(y,t):a(Z,y,t):new d(v(t))}(),e,y)})),I&&I(y,G),T(E(d),(function(e){e in y||h(y,e,d[e])})),y.prototype=m):(y=t((function(e,t,n,r){l(e,m);var i,u,s,c=0,f=0;if(w(t)){if(!$(t))return W(t)?J(y,t):a(Z,y,t);i=t,f=g(n,o);var h=t.byteLength;if(void 0===r){if(h%o)throw U(Q);if(u=h-f,u<0)throw U(Q)}else if(u=p(r)*o,u+f>h)throw U(Q);s=u/o}else s=v(t),u=s*o,i=new F(u);D(e,{buffer:i,byteOffset:f,byteLength:u,length:s,view:new V(i)});while(c<s)A(e,c++)})),I&&I(y,G),m=y.prototype=_(K)),m.constructor!==y&&h(m,"constructor",y),h(m,q,y),z&&h(m,z,s);var C=y!=d;k[s]=y,r({global:!0,constructor:!0,forced:C,sham:!B},k),Y in y||h(y,Y,o),Y in m||h(m,Y,o),S(s)}):e.exports=function(){}},3832:function(e,t,n){var r=n(7854),i=n(7293),a=n(7072),o=n(260).NATIVE_ARRAY_BUFFER_VIEWS,u=r.ArrayBuffer,s=r.Int8Array;e.exports=!o||!i((function(){s(1)}))||!i((function(){new s(-1)}))||!a((function(e){new s,new s(null),new s(1.5),new s(e)}),!0)||i((function(){return 1!==new s(new u(2),1,void 0).length}))},3074:function(e,t,n){var r=n(7745),i=n(6304);e.exports=function(e,t){return r(i(e),t)}},7321:function(e,t,n){var r=n(9974),i=n(6916),a=n(9483),o=n(7908),u=n(6244),s=n(8554),c=n(1246),l=n(7659),f=n(260).aTypedArrayConstructor;e.exports=function(e){var t,n,h,d,p,v,g=a(this),y=o(e),m=arguments.length,k=m>1?arguments[1]:void 0,w=void 0!==k,b=c(y);if(b&&!l(b)){p=s(y,b),v=p.next,y=[];while(!(d=i(v,p)).done)y.push(d.value)}for(w&&m>2&&(k=r(k,arguments[2])),n=u(y),h=new(f(g))(n),t=0;n>t;t++)h[t]=w?k(y[t],t):y[t];return h}},6304:function(e,t,n){var r=n(260),i=n(6707),a=r.TYPED_ARRAY_CONSTRUCTOR,o=r.aTypedArrayConstructor;e.exports=function(e){return o(i(e,e[a]))}},9711:function(e,t,n){var r=n(1702),i=0,a=Math.random(),o=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+a,36)}},3307:function(e,t,n){var r=n(133);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(e,t,n){var r=n(9781),i=n(7293);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:function(e){var t=TypeError;e.exports=function(e,n){if(e<n)throw t("Not enough arguments");return e}},6061:function(e,t,n){var r=n(5112);t.f=r},5112:function(e,t,n){var r=n(7854),i=n(2309),a=n(2597),o=n(9711),u=n(133),s=n(3307),c=i("wks"),l=r.Symbol,f=l&&l["for"],h=s?l:l&&l.withoutSetter||o;e.exports=function(e){if(!a(c,e)||!u&&"string"!=typeof c[e]){var t="Symbol."+e;u&&a(l,e)?c[e]=l[e]:c[e]=s&&f?f(t):h(t)}return c[e]}},1361:function(e){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},9191:function(e,t,n){"use strict";var r=n(5005),i=n(2597),a=n(8880),o=n(7976),u=n(7674),s=n(9920),c=n(2626),l=n(9587),f=n(6277),h=n(8340),d=n(7741),p=n(2914),v=n(9781),g=n(1913);e.exports=function(e,t,n,y){var m="stackTraceLimit",k=y?2:1,w=e.split("."),b=w[w.length-1],_=r.apply(null,w);if(_){var x=_.prototype;if(!g&&i(x,"cause")&&delete x.cause,!n)return _;var I=r("Error"),E=t((function(e,t){var n=f(y?t:e,void 0),r=y?new _(e):new _;return void 0!==n&&a(r,"message",n),p&&a(r,"stack",d(r.stack,2)),this&&o(x,this)&&l(r,this,E),arguments.length>k&&h(r,arguments[k]),r}));if(E.prototype=x,"Error"!==b?u?u(E,I):s(E,I,{name:!0}):v&&m in _&&(c(E,_,m),c(E,_,"prepareStackTrace")),s(E,_),!g)try{x.name!==b&&a(x,"name",b),x.constructor=E}catch(Z){}return E}}},8264:function(e,t,n){"use strict";var r=n(2109),i=n(7854),a=n(3331),o=n(6340),u="ArrayBuffer",s=a[u],c=i[u];r({global:!0,constructor:!0,forced:c!==s},{ArrayBuffer:s}),o(u)},2262:function(e,t,n){"use strict";var r=n(2109),i=n(7908),a=n(6244),o=n(9303),u=n(1223);r({target:"Array",proto:!0},{at:function(e){var t=i(this),n=a(t),r=o(e),u=r>=0?r:n+r;return u<0||u>=n?void 0:t[u]}}),u("at")},2222:function(e,t,n){"use strict";var r=n(2109),i=n(7293),a=n(3157),o=n(111),u=n(7908),s=n(6244),c=n(7207),l=n(6135),f=n(5417),h=n(1194),d=n(5112),p=n(7392),v=d("isConcatSpreadable"),g=p>=51||!i((function(){var e=[];return e[v]=!1,e.concat()[0]!==e})),y=h("concat"),m=function(e){if(!o(e))return!1;var t=e[v];return void 0!==t?!!t:a(e)},k=!g||!y;r({target:"Array",proto:!0,arity:1,forced:k},{concat:function(e){var t,n,r,i,a,o=u(this),h=f(o,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(a=-1===t?o:arguments[t],m(a))for(i=s(a),c(d+i),n=0;n<i;n++,d++)n in a&&l(h,d,a[n]);else c(d+1),l(h,d++,a);return h.length=d,h}})},7327:function(e,t,n){"use strict";var r=n(2109),i=n(2092).filter,a=n(1194),o=a("filter");r({target:"Array",proto:!0,forced:!o},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},4553:function(e,t,n){"use strict";var r=n(2109),i=n(2092).findIndex,a=n(1223),o="findIndex",u=!0;o in[]&&Array(1)[o]((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},9826:function(e,t,n){"use strict";var r=n(2109),i=n(2092).find,a=n(1223),o="find",u=!0;o in[]&&Array(1)[o]((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},1038:function(e,t,n){var r=n(2109),i=n(8457),a=n(7072),o=!a((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:o},{from:i})},6699:function(e,t,n){"use strict";var r=n(2109),i=n(1318).includes,a=n(7293),o=n(1223),u=a((function(){return!Array(1).includes()}));r({target:"Array",proto:!0,forced:u},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},6992:function(e,t,n){"use strict";var r=n(5656),i=n(1223),a=n(7497),o=n(9909),u=n(3070).f,s=n(654),c=n(1913),l=n(9781),f="Array Iterator",h=o.set,d=o.getterFor(f);e.exports=s(Array,"Array",(function(e,t){h(this,{type:f,target:r(e),index:0,kind:t})}),(function(){var e=d(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var p=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!c&&l&&"values"!==p.name)try{u(p,"name",{value:"values"})}catch(v){}},9600:function(e,t,n){"use strict";var r=n(2109),i=n(1702),a=n(8361),o=n(5656),u=n(9341),s=i([].join),c=a!=Object,l=u("join",",");r({target:"Array",proto:!0,forced:c||!l},{join:function(e){return s(o(this),void 0===e?",":e)}})},1249:function(e,t,n){"use strict";var r=n(2109),i=n(2092).map,a=n(1194),o=a("map");r({target:"Array",proto:!0,forced:!o},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},7042:function(e,t,n){"use strict";var r=n(2109),i=n(3157),a=n(4411),o=n(111),u=n(1400),s=n(6244),c=n(5656),l=n(6135),f=n(5112),h=n(1194),d=n(206),p=h("slice"),v=f("species"),g=Array,y=Math.max;r({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var n,r,f,h=c(this),p=s(h),m=u(e,p),k=u(void 0===t?p:t,p);if(i(h)&&(n=h.constructor,a(n)&&(n===g||i(n.prototype))?n=void 0:o(n)&&(n=n[v],null===n&&(n=void 0)),n===g||void 0===n))return d(h,m,k);for(r=new(void 0===n?g:n)(y(k-m,0)),f=0;m<k;m++,f++)m in h&&l(r,f,h[m]);return r.length=f,r}})},2707:function(e,t,n){"use strict";var r=n(2109),i=n(1702),a=n(9662),o=n(7908),u=n(6244),s=n(5117),c=n(1340),l=n(7293),f=n(4362),h=n(9341),d=n(8886),p=n(256),v=n(7392),g=n(8008),y=[],m=i(y.sort),k=i(y.push),w=l((function(){y.sort(void 0)})),b=l((function(){y.sort(null)})),_=h("sort"),x=!l((function(){if(v)return v<70;if(!(d&&d>3)){if(p)return!0;if(g)return g<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)y.push({k:t+r,v:n})}for(y.sort((function(e,t){return t.v-e.v})),r=0;r<y.length;r++)t=y[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}})),I=w||!b||!_||!x,E=function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:c(t)>c(n)?1:-1}};r({target:"Array",proto:!0,forced:I},{sort:function(e){void 0!==e&&a(e);var t=o(this);if(x)return void 0===e?m(t):m(t,e);var n,r,i=[],c=u(t);for(r=0;r<c;r++)r in t&&k(i,t[r]);f(i,E(e)),n=i.length,r=0;while(r<n)t[r]=i[r++];while(r<c)s(t,r++);return t}})},561:function(e,t,n){"use strict";var r=n(2109),i=n(7908),a=n(1400),o=n(9303),u=n(6244),s=n(7207),c=n(5417),l=n(6135),f=n(5117),h=n(1194),d=h("splice"),p=Math.max,v=Math.min;r({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var n,r,h,d,g,y,m=i(this),k=u(m),w=a(e,k),b=arguments.length;for(0===b?n=r=0:1===b?(n=0,r=k-w):(n=b-2,r=v(p(o(t),0),k-w)),s(k+n-r),h=c(m,r),d=0;d<r;d++)g=w+d,g in m&&l(h,d,m[g]);if(h.length=r,n<r){for(d=w;d<k-r;d++)g=d+r,y=d+n,g in m?m[y]=m[g]:f(m,y);for(d=k;d>k-r+n;d--)f(m,d-1)}else if(n>r)for(d=k-r;d>w;d--)g=d+r-1,y=d+n-1,g in m?m[y]=m[g]:f(m,y);for(d=0;d<n;d++)m[d+w]=arguments[d+2];return m.length=k-r+n,h}})},1703:function(e,t,n){var r=n(2109),i=n(7854),a=n(2104),o=n(9191),u="WebAssembly",s=i[u],c=7!==Error("e",{cause:7}).cause,l=function(e,t){var n={};n[e]=o(e,t,c),r({global:!0,constructor:!0,arity:1,forced:c},n)},f=function(e,t){if(s&&s[e]){var n={};n[e]=o(u+"."+e,t,c),r({target:u,stat:!0,constructor:!0,arity:1,forced:c},n)}};l("Error",(function(e){return function(t){return a(e,this,arguments)}})),l("EvalError",(function(e){return function(t){return a(e,this,arguments)}})),l("RangeError",(function(e){return function(t){return a(e,this,arguments)}})),l("ReferenceError",(function(e){return function(t){return a(e,this,arguments)}})),l("SyntaxError",(function(e){return function(t){return a(e,this,arguments)}})),l("TypeError",(function(e){return function(t){return a(e,this,arguments)}})),l("URIError",(function(e){return function(t){return a(e,this,arguments)}})),f("CompileError",(function(e){return function(t){return a(e,this,arguments)}})),f("LinkError",(function(e){return function(t){return a(e,this,arguments)}})),f("RuntimeError",(function(e){return function(t){return a(e,this,arguments)}}))},8309:function(e,t,n){var r=n(9781),i=n(6530).EXISTS,a=n(1702),o=n(3070).f,u=Function.prototype,s=a(u.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=a(c.exec),f="name";r&&!i&&o(u,f,{configurable:!0,get:function(){try{return l(c,s(this))[1]}catch(e){return""}}})},5837:function(e,t,n){var r=n(2109),i=n(7854);r({global:!0},{globalThis:i})},8862:function(e,t,n){var r=n(2109),i=n(5005),a=n(2104),o=n(6916),u=n(1702),s=n(7293),c=n(3157),l=n(614),f=n(111),h=n(2190),d=n(206),p=n(133),v=i("JSON","stringify"),g=u(/./.exec),y=u("".charAt),m=u("".charCodeAt),k=u("".replace),w=u(1..toString),b=/[\uD800-\uDFFF]/g,_=/^[\uD800-\uDBFF]$/,x=/^[\uDC00-\uDFFF]$/,I=!p||s((function(){var e=i("Symbol")();return"[null]"!=v([e])||"{}"!=v({a:e})||"{}"!=v(Object(e))})),E=s((function(){return'"\\udf06\\ud834"'!==v("\udf06\ud834")||'"\\udead"'!==v("\udead")})),Z=function(e,t){var n=d(arguments),r=t;if((f(t)||void 0!==e)&&!h(e))return c(t)||(t=function(e,t){if(l(r)&&(t=o(r,this,e,t)),!h(t))return t}),n[1]=t,a(v,null,n)},T=function(e,t,n){var r=y(n,t-1),i=y(n,t+1);return g(_,e)&&!g(x,i)||g(x,e)&&!g(_,r)?"\\u"+w(m(e,0),16):e};v&&r({target:"JSON",stat:!0,arity:3,forced:I||E},{stringify:function(e,t,n){var r=d(arguments),i=a(I?Z:v,null,r);return E&&"string"==typeof i?k(i,b,T):i}})},3706:function(e,t,n){var r=n(7854),i=n(8003);i(r.JSON,"JSON",!0)},9098:function(e,t,n){"use strict";var r=n(7710),i=n(5631);r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},1532:function(e,t,n){n(9098)},2703:function(e,t,n){var r=n(8003);r(Math,"Math",!0)},9653:function(e,t,n){"use strict";var r=n(9781),i=n(7854),a=n(1702),o=n(4705),u=n(8052),s=n(2597),c=n(9587),l=n(7976),f=n(2190),h=n(7593),d=n(7293),p=n(8006).f,v=n(1236).f,g=n(3070).f,y=n(863),m=n(3111).trim,k="Number",w=i[k],b=w.prototype,_=i.TypeError,x=a("".slice),I=a("".charCodeAt),E=function(e){var t=h(e,"number");return"bigint"==typeof t?t:Z(t)},Z=function(e){var t,n,r,i,a,o,u,s,c=h(e,"number");if(f(c))throw _("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=m(c),t=I(c,0),43===t||45===t){if(n=I(c,2),88===n||120===n)return NaN}else if(48===t){switch(I(c,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(a=x(c,2),o=a.length,u=0;u<o;u++)if(s=I(a,u),s<48||s>i)return NaN;return parseInt(a,r)}return+c};if(o(k,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var T,S=function(e){var t=arguments.length<1?0:w(E(e)),n=this;return l(b,n)&&d((function(){y(n)}))?c(Object(t),n,S):t},A=r?p(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),C=0;A.length>C;C++)s(w,T=A[C])&&!s(S,T)&&g(S,T,v(w,T));S.prototype=b,b.constructor=S,u(i,k,S,{constructor:!0})}},5192:function(e,t,n){var r=n(2109),i=n(7023);r({target:"Number",stat:!0},{isFinite:i})},3161:function(e,t,n){var r=n(2109),i=n(5988);r({target:"Number",stat:!0},{isInteger:i})},4363:function(e,t,n){var r=n(2109);r({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},5994:function(e,t,n){var r=n(2109);r({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},1874:function(e,t,n){var r=n(2109),i=n(2814);r({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},9494:function(e,t,n){var r=n(2109),i=n(3009);r({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},9601:function(e,t,n){var r=n(2109),i=n(1574);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},9720:function(e,t,n){var r=n(2109),i=n(4699).entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},3371:function(e,t,n){var r=n(2109),i=n(6677),a=n(7293),o=n(111),u=n(2423).onFreeze,s=Object.freeze,c=a((function(){s(1)}));r({target:"Object",stat:!0,forced:c,sham:!i},{freeze:function(e){return s&&o(e)?s(u(e)):e}})},5003:function(e,t,n){var r=n(2109),i=n(7293),a=n(5656),o=n(1236).f,u=n(9781),s=i((function(){o(1)})),c=!u||s;r({target:"Object",stat:!0,forced:c,sham:!u},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},9337:function(e,t,n){var r=n(2109),i=n(9781),a=n(3887),o=n(5656),u=n(1236),s=n(6135);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,n,r=o(e),i=u.f,c=a(r),l={},f=0;while(c.length>f)n=i(r,t=c[f++]),void 0!==n&&s(l,t,n);return l}})},6210:function(e,t,n){var r=n(2109),i=n(7293),a=n(1156).f,o=i((function(){return!Object.getOwnPropertyNames(1)}));r({target:"Object",stat:!0,forced:o},{getOwnPropertyNames:a})},9660:function(e,t,n){var r=n(2109),i=n(133),a=n(7293),o=n(5181),u=n(7908),s=!i||a((function(){o.f(1)}));r({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(e){var t=o.f;return t?t(u(e)):[]}})},489:function(e,t,n){var r=n(2109),i=n(7293),a=n(7908),o=n(9518),u=n(8544),s=i((function(){o(1)}));r({target:"Object",stat:!0,forced:s,sham:!u},{getPrototypeOf:function(e){return o(a(e))}})},1825:function(e,t,n){var r=n(2109),i=n(2050);r({target:"Object",stat:!0,forced:Object.isExtensible!==i},{isExtensible:i})},3304:function(e,t,n){var r=n(2109),i=n(1150);r({target:"Object",stat:!0},{is:i})},7941:function(e,t,n){var r=n(2109),i=n(7908),a=n(1956),o=n(7293),u=o((function(){a(1)}));r({target:"Object",stat:!0,forced:u},{keys:function(e){return a(i(e))}})},1539:function(e,t,n){var r=n(1694),i=n(8052),a=n(288);r||i(Object.prototype,"toString",a,{unsafe:!0})},2479:function(e,t,n){var r=n(2109),i=n(4699).values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},821:function(e,t,n){"use strict";var r=n(2109),i=n(6916),a=n(9662),o=n(8523),u=n(2534),s=n(408),c=n(612);r({target:"Promise",stat:!0,forced:c},{all:function(e){var t=this,n=o.f(t),r=n.resolve,c=n.reject,l=u((function(){var n=a(t.resolve),o=[],u=0,l=1;s(e,(function(e){var a=u++,s=!1;l++,i(n,t,e).then((function(e){s||(s=!0,o[a]=e,--l||r(o))}),c)})),--l||r(o)}));return l.error&&c(l.value),n.promise}})},4164:function(e,t,n){"use strict";var r=n(2109),i=n(1913),a=n(3702).CONSTRUCTOR,o=n(2492),u=n(5005),s=n(614),c=n(8052),l=o&&o.prototype;if(r({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&s(o)){var f=u("Promise").prototype["catch"];l["catch"]!==f&&c(l,"catch",f,{unsafe:!0})}},3401:function(e,t,n){"use strict";var r,i,a,o,u=n(2109),s=n(1913),c=n(5268),l=n(7854),f=n(6916),h=n(8052),d=n(7674),p=n(8003),v=n(6340),g=n(9662),y=n(614),m=n(111),k=n(5787),w=n(6707),b=n(261).set,_=n(5948),x=n(842),I=n(2534),E=n(8572),Z=n(9909),T=n(2492),S=n(3702),A=n(8523),C="Promise",R=S.CONSTRUCTOR,O=S.REJECTION_EVENT,N=S.SUBCLASSING,D=Z.getterFor(C),P=Z.set,L=T&&T.prototype,M=T,U=L,F=l.TypeError,j=l.document,V=l.process,B=A.f,q=B,z=!!(j&&j.createEvent&&l.dispatchEvent),G="unhandledrejection",K="rejectionhandled",H=0,W=1,Y=2,Q=1,J=2,X=function(e){var t;return!(!m(e)||!y(t=e.then))&&t},$=function(e,t){var n,r,i,a=t.value,o=t.state==W,u=o?e.ok:e.fail,s=e.resolve,c=e.reject,l=e.domain;try{u?(o||(t.rejection===J&&ie(t),t.rejection=Q),!0===u?n=a:(l&&l.enter(),n=u(a),l&&(l.exit(),i=!0)),n===e.promise?c(F("Promise-chain cycle")):(r=X(n))?f(r,n,s,c):s(n)):c(a)}catch(h){l&&!i&&l.exit(),c(h)}},ee=function(e,t){e.notified||(e.notified=!0,_((function(){var n,r=e.reactions;while(n=r.get())$(n,e);e.notified=!1,t&&!e.rejection&&ne(e)})))},te=function(e,t,n){var r,i;z?(r=j.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},!O&&(i=l["on"+e])?i(r):e===G&&x("Unhandled promise rejection",n)},ne=function(e){f(b,l,(function(){var t,n=e.facade,r=e.value,i=re(e);if(i&&(t=I((function(){c?V.emit("unhandledRejection",r,n):te(G,n,r)})),e.rejection=c||re(e)?J:Q,t.error))throw t.value}))},re=function(e){return e.rejection!==Q&&!e.parent},ie=function(e){f(b,l,(function(){var t=e.facade;c?V.emit("rejectionHandled",t):te(K,t,e.value)}))},ae=function(e,t,n){return function(r){e(t,r,n)}},oe=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=Y,ee(e,!0))},ue=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw F("Promise can't be resolved itself");var r=X(t);r?_((function(){var n={done:!1};try{f(r,t,ae(ue,n,e),ae(oe,n,e))}catch(i){oe(n,i,e)}})):(e.value=t,e.state=W,ee(e,!1))}catch(i){oe({done:!1},i,e)}}};if(R&&(M=function(e){k(this,U),g(e),f(r,this);var t=D(this);try{e(ae(ue,t),ae(oe,t))}catch(n){oe(t,n)}},U=M.prototype,r=function(e){P(this,{type:C,done:!1,notified:!1,parent:!1,reactions:new E,rejection:!1,state:H,value:void 0})},r.prototype=h(U,"then",(function(e,t){var n=D(this),r=B(w(this,M));return n.parent=!0,r.ok=!y(e)||e,r.fail=y(t)&&t,r.domain=c?V.domain:void 0,n.state==H?n.reactions.add(r):_((function(){$(r,n)})),r.promise})),i=function(){var e=new r,t=D(e);this.promise=e,this.resolve=ae(ue,t),this.reject=ae(oe,t)},A.f=B=function(e){return e===M||e===a?new i(e):q(e)},!s&&y(T)&&L!==Object.prototype)){o=L.then,N||h(L,"then",(function(e,t){var n=this;return new M((function(e,t){f(o,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete L.constructor}catch(se){}d&&d(L,U)}u({global:!0,constructor:!0,wrap:!0,forced:R},{Promise:M}),p(M,C,!1,!0),v(C)},7727:function(e,t,n){"use strict";var r=n(2109),i=n(1913),a=n(2492),o=n(7293),u=n(5005),s=n(614),c=n(6707),l=n(9478),f=n(8052),h=a&&a.prototype,d=!!a&&o((function(){h["finally"].call({then:function(){}},(function(){}))}));if(r({target:"Promise",proto:!0,real:!0,forced:d},{finally:function(e){var t=c(this,u("Promise")),n=s(e);return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),!i&&s(a)){var p=u("Promise").prototype["finally"];h["finally"]!==p&&f(h,"finally",p,{unsafe:!0})}},8674:function(e,t,n){n(3401),n(821),n(4164),n(6027),n(683),n(6294)},6027:function(e,t,n){"use strict";var r=n(2109),i=n(6916),a=n(9662),o=n(8523),u=n(2534),s=n(408),c=n(612);r({target:"Promise",stat:!0,forced:c},{race:function(e){var t=this,n=o.f(t),r=n.reject,c=u((function(){var o=a(t.resolve);s(e,(function(e){i(o,t,e).then(n.resolve,r)}))}));return c.error&&r(c.value),n.promise}})},683:function(e,t,n){"use strict";var r=n(2109),i=n(6916),a=n(8523),o=n(3702).CONSTRUCTOR;r({target:"Promise",stat:!0,forced:o},{reject:function(e){var t=a.f(this);return i(t.reject,void 0,e),t.promise}})},6294:function(e,t,n){"use strict";var r=n(2109),i=n(5005),a=n(1913),o=n(2492),u=n(3702).CONSTRUCTOR,s=n(9478),c=i("Promise"),l=a&&!u;r({target:"Promise",stat:!0,forced:a||u},{resolve:function(e){return s(l&&this===c?o:this,e)}})},2419:function(e,t,n){var r=n(2109),i=n(5005),a=n(2104),o=n(7065),u=n(9483),s=n(9670),c=n(111),l=n(30),f=n(7293),h=i("Reflect","construct"),d=Object.prototype,p=[].push,v=f((function(){function e(){}return!(h((function(){}),[],e)instanceof e)})),g=!f((function(){h((function(){}))})),y=v||g;r({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(e,t){u(e),s(t);var n=arguments.length<3?e:u(arguments[2]);if(g&&!v)return h(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return a(p,r,t),new(a(o,e,r))}var i=n.prototype,f=l(c(i)?i:d),y=a(e,f,t);return c(y)?y:f}})},9596:function(e,t,n){var r=n(2109),i=n(9781),a=n(9670),o=n(4948),u=n(3070),s=n(7293),c=s((function(){Reflect.defineProperty(u.f({},1,{value:1}),1,{value:2})}));r({target:"Reflect",stat:!0,forced:c,sham:!i},{defineProperty:function(e,t,n){a(e);var r=o(t);a(n);try{return u.f(e,r,n),!0}catch(i){return!1}}})},2586:function(e,t,n){var r=n(2109),i=n(9670),a=n(1236).f;r({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var n=a(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},9361:function(e,t,n){var r=n(2109),i=n(9670),a=n(9518),o=n(8544);r({target:"Reflect",stat:!0,sham:!o},{getPrototypeOf:function(e){return a(i(e))}})},4819:function(e,t,n){var r=n(2109),i=n(6916),a=n(111),o=n(9670),u=n(5032),s=n(1236),c=n(9518);function l(e,t){var n,r,f=arguments.length<3?e:arguments[2];return o(e)===f?e[t]:(n=s.f(e,t),n?u(n)?n.value:void 0===n.get?void 0:i(n.get,f):a(r=c(e))?l(r,t,f):void 0)}r({target:"Reflect",stat:!0},{get:l})},1037:function(e,t,n){var r=n(2109);r({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})},7318:function(e,t,n){var r=n(2109),i=n(3887);r({target:"Reflect",stat:!0},{ownKeys:i})},3593:function(e,t,n){var r=n(2109),i=n(6916),a=n(9670),o=n(111),u=n(5032),s=n(7293),c=n(3070),l=n(1236),f=n(9518),h=n(9114);function d(e,t,n){var r,s,p,v=arguments.length<4?e:arguments[3],g=l.f(a(e),t);if(!g){if(o(s=f(e)))return d(s,t,n,v);g=h(0)}if(u(g)){if(!1===g.writable||!o(v))return!1;if(r=l.f(v,t)){if(r.get||r.set||!1===r.writable)return!1;r.value=n,c.f(v,t,r)}else c.f(v,t,h(0,n))}else{if(p=g.set,void 0===p)return!1;i(p,v,n)}return!0}var p=s((function(){var e=function(){},t=c.f(new e,"a",{configurable:!0});return!1!==Reflect.set(e.prototype,"a",1,t)}));r({target:"Reflect",stat:!0,forced:p},{set:d})},1299:function(e,t,n){var r=n(2109),i=n(7854),a=n(8003);r({global:!0},{Reflect:{}}),a(i.Reflect,"Reflect",!0)},4603:function(e,t,n){var r=n(9781),i=n(7854),a=n(1702),o=n(4705),u=n(9587),s=n(8880),c=n(8006).f,l=n(7976),f=n(7850),h=n(1340),d=n(4706),p=n(2999),v=n(2626),g=n(8052),y=n(7293),m=n(2597),k=n(9909).enforce,w=n(6340),b=n(5112),_=n(9441),x=n(7168),I=b("match"),E=i.RegExp,Z=E.prototype,T=i.SyntaxError,S=a(Z.exec),A=a("".charAt),C=a("".replace),R=a("".indexOf),O=a("".slice),N=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,D=/a/g,P=/a/g,L=new E(D)!==D,M=p.MISSED_STICKY,U=p.UNSUPPORTED_Y,F=r&&(!L||M||_||x||y((function(){return P[I]=!1,E(D)!=D||E(P)==P||"/a/i"!=E(D,"i")}))),j=function(e){for(var t,n=e.length,r=0,i="",a=!1;r<=n;r++)t=A(e,r),"\\"!==t?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),i+=t):i+="[\\s\\S]":i+=t+A(e,++r);return i},V=function(e){for(var t,n=e.length,r=0,i="",a=[],o={},u=!1,s=!1,c=0,l="";r<=n;r++){if(t=A(e,r),"\\"===t)t+=A(e,++r);else if("]"===t)u=!1;else if(!u)switch(!0){case"["===t:u=!0;break;case"("===t:S(N,O(e,r+1))&&(r+=2,s=!0),i+=t,c++;continue;case">"===t&&s:if(""===l||m(o,l))throw new T("Invalid capture group name");o[l]=!0,a[a.length]=[l,c],s=!1,l="";continue}s?l+=t:i+=t}return[i,a]};if(o("RegExp",F)){for(var B=function(e,t){var n,r,i,a,o,c,p=l(Z,this),v=f(e),g=void 0===t,y=[],m=e;if(!p&&v&&g&&e.constructor===B)return e;if((v||l(Z,e))&&(e=e.source,g&&(t=d(m))),e=void 0===e?"":h(e),t=void 0===t?"":h(t),m=e,_&&"dotAll"in D&&(r=!!t&&R(t,"s")>-1,r&&(t=C(t,/s/g,""))),n=t,M&&"sticky"in D&&(i=!!t&&R(t,"y")>-1,i&&U&&(t=C(t,/y/g,""))),x&&(a=V(e),e=a[0],y=a[1]),o=u(E(e,t),p?this:Z,B),(r||i||y.length)&&(c=k(o),r&&(c.dotAll=!0,c.raw=B(j(e),n)),i&&(c.sticky=!0),y.length&&(c.groups=y)),e!==m)try{s(o,"source",""===m?"(?:)":m)}catch(w){}return o},q=c(E),z=0;q.length>z;)v(B,E,q[z++]);Z.constructor=B,B.prototype=Z,g(i,"RegExp",B,{constructor:!0})}w("RegExp")},8450:function(e,t,n){var r=n(9781),i=n(9441),a=n(4326),o=n(7045),u=n(9909).get,s=RegExp.prototype,c=TypeError;r&&i&&o(s,"dotAll",{configurable:!0,get:function(){if(this!==s){if("RegExp"===a(this))return!!u(this).dotAll;throw c("Incompatible receiver, RegExp required")}}})},4916:function(e,t,n){"use strict";var r=n(2109),i=n(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},8386:function(e,t,n){var r=n(9781),i=n(2999).MISSED_STICKY,a=n(4326),o=n(7045),u=n(9909).get,s=RegExp.prototype,c=TypeError;r&&i&&o(s,"sticky",{configurable:!0,get:function(){if(this!==s){if("RegExp"===a(this))return!!u(this).sticky;throw c("Incompatible receiver, RegExp required")}}})},7601:function(e,t,n){"use strict";n(4916);var r=n(2109),i=n(6916),a=n(1702),o=n(614),u=n(111),s=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),c=TypeError,l=a(/./.test);r({target:"RegExp",proto:!0,forced:!s},{test:function(e){var t=this.exec;if(!o(t))return l(this,e);var n=i(t,this,e);if(null!==n&&!u(n))throw new c("RegExp exec method returned something other than an Object or null");return!!n}})},9714:function(e,t,n){"use strict";var r=n(6530).PROPER,i=n(8052),a=n(9670),o=n(1340),u=n(7293),s=n(4706),c="toString",l=RegExp.prototype,f=l[c],h=u((function(){return"/a/b"!=f.call({source:"a",flags:"b"})})),d=r&&f.name!=c;(h||d)&&i(RegExp.prototype,c,(function(){var e=a(this),t=o(e.source),n=o(s(e));return"/"+t+"/"+n}),{unsafe:!0})},7227:function(e,t,n){"use strict";var r=n(7710),i=n(5631);r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},189:function(e,t,n){n(7227)},5218:function(e,t,n){"use strict";var r=n(2109),i=n(4230),a=n(3429);r({target:"String",proto:!0,forced:a("anchor")},{anchor:function(e){return i(this,"a","name",e)}})},4506:function(e,t,n){"use strict";var r=n(2109),i=n(1702),a=n(4488),o=n(9303),u=n(1340),s=n(7293),c=i("".charAt),l=s((function(){return"\ud842"!=="𠮷".at(-2)}));r({target:"String",proto:!0,forced:l},{at:function(e){var t=u(a(this)),n=t.length,r=o(e),i=r>=0?r:n+r;return i<0||i>=n?void 0:c(t,i)}})},9841:function(e,t,n){"use strict";var r=n(2109),i=n(8710).codeAt;r({target:"String",proto:!0},{codePointAt:function(e){return i(this,e)}})},7852:function(e,t,n){"use strict";var r=n(2109),i=n(1702),a=n(1236).f,o=n(7466),u=n(1340),s=n(3929),c=n(4488),l=n(4964),f=n(1913),h=i("".endsWith),d=i("".slice),p=Math.min,v=l("endsWith"),g=!f&&!v&&!!function(){var e=a(String.prototype,"endsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!g&&!v},{endsWith:function(e){var t=u(c(this));s(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,i=void 0===n?r:p(o(n),r),a=u(e);return h?h(t,a,i):d(t,i-a.length,i)===a}})},2023:function(e,t,n){"use strict";var r=n(2109),i=n(1702),a=n(3929),o=n(4488),u=n(1340),s=n(4964),c=i("".indexOf);r({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~c(u(o(this)),u(a(e)),arguments.length>1?arguments[1]:void 0)}})},8783:function(e,t,n){"use strict";var r=n(8710).charAt,i=n(1340),a=n(9909),o=n(654),u="String Iterator",s=a.set,c=a.getterFor(u);o(String,"String",(function(e){s(this,{type:u,string:i(e),index:0})}),(function(){var e,t=c(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},9254:function(e,t,n){"use strict";var r=n(2109),i=n(4230),a=n(3429);r({target:"String",proto:!0,forced:a("link")},{link:function(e){return i(this,"a","href",e)}})},4723:function(e,t,n){"use strict";var r=n(6916),i=n(7007),a=n(9670),o=n(7466),u=n(1340),s=n(4488),c=n(8173),l=n(1530),f=n(7651);i("match",(function(e,t,n){return[function(t){var n=s(this),i=void 0==t?void 0:c(t,e);return i?r(i,t,n):new RegExp(t)[e](u(n))},function(e){var r=a(this),i=u(e),s=n(t,r,i);if(s.done)return s.value;if(!r.global)return f(r,i);var c=r.unicode;r.lastIndex=0;var h,d=[],p=0;while(null!==(h=f(r,i))){var v=u(h[0]);d[p]=v,""===v&&(r.lastIndex=l(i,o(r.lastIndex),c)),p++}return 0===p?null:d}]}))},3112:function(e,t,n){"use strict";var r=n(2109),i=n(6650).start,a=n(4986);r({target:"String",proto:!0,forced:a},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},2481:function(e,t,n){var r=n(2109),i=n(8415);r({target:"String",proto:!0},{repeat:i})},5306:function(e,t,n){"use strict";var r=n(2104),i=n(6916),a=n(1702),o=n(7007),u=n(7293),s=n(9670),c=n(614),l=n(9303),f=n(7466),h=n(1340),d=n(4488),p=n(1530),v=n(8173),g=n(647),y=n(7651),m=n(5112),k=m("replace"),w=Math.max,b=Math.min,_=a([].concat),x=a([].push),I=a("".indexOf),E=a("".slice),Z=function(e){return void 0===e?e:String(e)},T=function(){return"$0"==="a".replace(/./,"$0")}(),S=function(){return!!/./[k]&&""===/./[k]("a","$0")}(),A=!u((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));o("replace",(function(e,t,n){var a=S?"$":"$0";return[function(e,n){var r=d(this),a=void 0==e?void 0:v(e,k);return a?i(a,e,r,n):i(t,h(r),e,n)},function(e,i){var o=s(this),u=h(e);if("string"==typeof i&&-1===I(i,a)&&-1===I(i,"$<")){var d=n(t,o,u,i);if(d.done)return d.value}var v=c(i);v||(i=h(i));var m=o.global;if(m){var k=o.unicode;o.lastIndex=0}var T=[];while(1){var S=y(o,u);if(null===S)break;if(x(T,S),!m)break;var A=h(S[0]);""===A&&(o.lastIndex=p(u,f(o.lastIndex),k))}for(var C="",R=0,O=0;O<T.length;O++){S=T[O];for(var N=h(S[0]),D=w(b(l(S.index),u.length),0),P=[],L=1;L<S.length;L++)x(P,Z(S[L]));var M=S.groups;if(v){var U=_([N],P,D,u);void 0!==M&&x(U,M);var F=h(r(i,void 0,U))}else F=g(N,u,D,P,M,i);D>=R&&(C+=E(u,R,D)+F,R=D+N.length)}return C+E(u,R)}]}),!A||!T||S)},4765:function(e,t,n){"use strict";var r=n(6916),i=n(7007),a=n(9670),o=n(4488),u=n(1150),s=n(1340),c=n(8173),l=n(7651);i("search",(function(e,t,n){return[function(t){var n=o(this),i=void 0==t?void 0:c(t,e);return i?r(i,t,n):new RegExp(t)[e](s(n))},function(e){var r=a(this),i=s(e),o=n(t,r,i);if(o.done)return o.value;var c=r.lastIndex;u(c,0)||(r.lastIndex=0);var f=l(r,i);return u(r.lastIndex,c)||(r.lastIndex=c),null===f?-1:f.index}]}))},3123:function(e,t,n){"use strict";var r=n(2104),i=n(6916),a=n(1702),o=n(7007),u=n(7850),s=n(9670),c=n(4488),l=n(6707),f=n(1530),h=n(7466),d=n(1340),p=n(8173),v=n(1589),g=n(7651),y=n(2261),m=n(2999),k=n(7293),w=m.UNSUPPORTED_Y,b=4294967295,_=Math.min,x=[].push,I=a(/./.exec),E=a(x),Z=a("".slice),T=!k((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));o("split",(function(e,t,n){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var a=d(c(this)),o=void 0===n?b:n>>>0;if(0===o)return[];if(void 0===e)return[a];if(!u(e))return i(t,a,e,o);var s,l,f,h=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),g=0,m=new RegExp(e.source,p+"g");while(s=i(y,m,a)){if(l=m.lastIndex,l>g&&(E(h,Z(a,g,s.index)),s.length>1&&s.index<a.length&&r(x,h,v(s,1)),f=s[0].length,g=l,h.length>=o))break;m.lastIndex===s.index&&m.lastIndex++}return g===a.length?!f&&I(m,"")||E(h,""):E(h,Z(a,g)),h.length>o?v(h,0,o):h}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:i(t,this,e,n)}:t,[function(t,n){var r=c(this),o=void 0==t?void 0:p(t,e);return o?i(o,t,r,n):i(a,d(r),t,n)},function(e,r){var i=s(this),o=d(e),u=n(a,i,o,r,a!==t);if(u.done)return u.value;var c=l(i,RegExp),p=i.unicode,v=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(w?"g":"y"),y=new c(w?"^(?:"+i.source+")":i,v),m=void 0===r?b:r>>>0;if(0===m)return[];if(0===o.length)return null===g(y,o)?[o]:[];var k=0,x=0,I=[];while(x<o.length){y.lastIndex=w?0:x;var T,S=g(y,w?Z(o,x):o);if(null===S||(T=_(h(y.lastIndex+(w?x:0)),o.length))===k)x=f(o,x,p);else{if(E(I,Z(o,k,x)),I.length===m)return I;for(var A=1;A<=S.length-1;A++)if(E(I,S[A]),I.length===m)return I;x=k=T}}return E(I,Z(o,k)),I}]}),!T,w)},6755:function(e,t,n){"use strict";var r=n(2109),i=n(1702),a=n(1236).f,o=n(7466),u=n(1340),s=n(3929),c=n(4488),l=n(4964),f=n(1913),h=i("".startsWith),d=i("".slice),p=Math.min,v=l("startsWith"),g=!f&&!v&&!!function(){var e=a(String.prototype,"startsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!g&&!v},{startsWith:function(e){var t=u(c(this));s(e);var n=o(p(arguments.length>1?arguments[1]:void 0,t.length)),r=u(e);return h?h(t,r,n):d(t,n,n+r.length)===r}})},86:function(e,t,n){"use strict";var r=n(2109),i=n(4230),a=n(3429);r({target:"String",proto:!0,forced:a("sub")},{sub:function(){return i(this,"sub","","")}})},3210:function(e,t,n){"use strict";var r=n(2109),i=n(3111).trim,a=n(6091);r({target:"String",proto:!0,forced:a("trim")},{trim:function(){return i(this)}})},2443:function(e,t,n){var r=n(7235);r("asyncIterator")},4032:function(e,t,n){"use strict";var r=n(2109),i=n(7854),a=n(6916),o=n(1702),u=n(1913),s=n(9781),c=n(133),l=n(7293),f=n(2597),h=n(7976),d=n(9670),p=n(5656),v=n(4948),g=n(1340),y=n(9114),m=n(30),k=n(1956),w=n(8006),b=n(1156),_=n(5181),x=n(1236),I=n(3070),E=n(6048),Z=n(5296),T=n(8052),S=n(2309),A=n(6200),C=n(3501),R=n(9711),O=n(5112),N=n(6061),D=n(7235),P=n(6532),L=n(8003),M=n(9909),U=n(2092).forEach,F=A("hidden"),j="Symbol",V="prototype",B=M.set,q=M.getterFor(j),z=Object[V],G=i.Symbol,K=G&&G[V],H=i.TypeError,W=i.QObject,Y=x.f,Q=I.f,J=b.f,X=Z.f,$=o([].push),ee=S("symbols"),te=S("op-symbols"),ne=S("wks"),re=!W||!W[V]||!W[V].findChild,ie=s&&l((function(){return 7!=m(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Y(z,t);r&&delete z[t],Q(e,t,n),r&&e!==z&&Q(z,t,r)}:Q,ae=function(e,t){var n=ee[e]=m(K);return B(n,{type:j,tag:e,description:t}),s||(n.description=t),n},oe=function(e,t,n){e===z&&oe(te,t,n),d(e);var r=v(t);return d(n),f(ee,r)?(n.enumerable?(f(e,F)&&e[F][r]&&(e[F][r]=!1),n=m(n,{enumerable:y(0,!1)})):(f(e,F)||Q(e,F,y(1,{})),e[F][r]=!0),ie(e,r,n)):Q(e,r,n)},ue=function(e,t){d(e);var n=p(t),r=k(n).concat(he(n));return U(r,(function(t){s&&!a(ce,n,t)||oe(e,t,n[t])})),e},se=function(e,t){return void 0===t?m(e):ue(m(e),t)},ce=function(e){var t=v(e),n=a(X,this,t);return!(this===z&&f(ee,t)&&!f(te,t))&&(!(n||!f(this,t)||!f(ee,t)||f(this,F)&&this[F][t])||n)},le=function(e,t){var n=p(e),r=v(t);if(n!==z||!f(ee,r)||f(te,r)){var i=Y(n,r);return!i||!f(ee,r)||f(n,F)&&n[F][r]||(i.enumerable=!0),i}},fe=function(e){var t=J(p(e)),n=[];return U(t,(function(e){f(ee,e)||f(C,e)||$(n,e)})),n},he=function(e){var t=e===z,n=J(t?te:p(e)),r=[];return U(n,(function(e){!f(ee,e)||t&&!f(z,e)||$(r,ee[e])})),r};c||(G=function(){if(h(K,this))throw H("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,t=R(e),n=function(e){this===z&&a(n,te,e),f(this,F)&&f(this[F],t)&&(this[F][t]=!1),ie(this,t,y(1,e))};return s&&re&&ie(z,t,{configurable:!0,set:n}),ae(t,e)},K=G[V],T(K,"toString",(function(){return q(this).tag})),T(G,"withoutSetter",(function(e){return ae(R(e),e)})),Z.f=ce,I.f=oe,E.f=ue,x.f=le,w.f=b.f=fe,_.f=he,N.f=function(e){return ae(O(e),e)},s&&(Q(K,"description",{configurable:!0,get:function(){return q(this).description}}),u||T(z,"propertyIsEnumerable",ce,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:G}),U(k(ne),(function(e){D(e)})),r({target:j,stat:!0,forced:!c},{useSetter:function(){re=!0},useSimple:function(){re=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!s},{create:se,defineProperty:oe,defineProperties:ue,getOwnPropertyDescriptor:le}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:fe}),P(),L(G,j),C[F]=!0},1817:function(e,t,n){"use strict";var r=n(2109),i=n(9781),a=n(7854),o=n(1702),u=n(2597),s=n(614),c=n(7976),l=n(1340),f=n(3070).f,h=n(9920),d=a.Symbol,p=d&&d.prototype;if(i&&s(d)&&(!("description"in p)||void 0!==d().description)){var v={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=c(p,this)?new d(e):void 0===e?d():d(e);return""===e&&(v[t]=!0),t};h(g,d),g.prototype=p,p.constructor=g;var y="Symbol(test)"==String(d("test")),m=o(p.toString),k=o(p.valueOf),w=/^Symbol\((.*)\)[^)]+$/,b=o("".replace),_=o("".slice);f(p,"description",{configurable:!0,get:function(){var e=k(this),t=m(e);if(u(v,e))return"";var n=y?_(t,7,-1):b(t,w,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:g})}},763:function(e,t,n){var r=n(2109),i=n(5005),a=n(2597),o=n(1340),u=n(2309),s=n(735),c=u("string-to-symbol-registry"),l=u("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!s},{for:function(e){var t=o(e);if(a(c,t))return c[t];var n=i("Symbol")(t);return c[t]=n,l[n]=t,n}})},2165:function(e,t,n){var r=n(7235);r("iterator")},2526:function(e,t,n){n(4032),n(763),n(6620),n(8862),n(9660)},6620:function(e,t,n){var r=n(2109),i=n(2597),a=n(2190),o=n(6330),u=n(2309),s=n(735),c=u("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!s},{keyFor:function(e){if(!a(e))throw TypeError(o(e)+" is not a symbol");if(i(c,e))return c[e]}})},3680:function(e,t,n){var r=n(5005),i=n(7235),a=n(8003);i("toStringTag"),a(r("Symbol"),"Symbol")},543:function(e,t,n){var r=n(7235);r("unscopables")},8675:function(e,t,n){"use strict";var r=n(260),i=n(6244),a=n(9303),o=r.aTypedArray,u=r.exportTypedArrayMethod;u("at",(function(e){var t=o(this),n=i(t),r=a(e),u=r>=0?r:n+r;return u<0||u>=n?void 0:t[u]}))},2990:function(e,t,n){"use strict";var r=n(1702),i=n(260),a=n(1048),o=r(a),u=i.aTypedArray,s=i.exportTypedArrayMethod;s("copyWithin",(function(e,t){return o(u(this),e,t,arguments.length>2?arguments[2]:void 0)}))},8927:function(e,t,n){"use strict";var r=n(260),i=n(2092).every,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("every",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},3105:function(e,t,n){"use strict";var r=n(260),i=n(1285),a=n(4599),o=n(648),u=n(6916),s=n(1702),c=n(7293),l=r.aTypedArray,f=r.exportTypedArrayMethod,h=s("".slice),d=c((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e}));f("fill",(function(e){var t=arguments.length;l(this);var n="Big"===h(o(this),0,3)?a(e):+e;return u(i,this,n,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),d)},5035:function(e,t,n){"use strict";var r=n(260),i=n(2092).filter,a=n(3074),o=r.aTypedArray,u=r.exportTypedArrayMethod;u("filter",(function(e){var t=i(o(this),e,arguments.length>1?arguments[1]:void 0);return a(this,t)}))},7174:function(e,t,n){"use strict";var r=n(260),i=n(2092).findIndex,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("findIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},4345:function(e,t,n){"use strict";var r=n(260),i=n(2092).find,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("find",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},2846:function(e,t,n){"use strict";var r=n(260),i=n(2092).forEach,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("forEach",(function(e){i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},4731:function(e,t,n){"use strict";var r=n(260),i=n(1318).includes,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("includes",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},7209:function(e,t,n){"use strict";var r=n(260),i=n(1318).indexOf,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("indexOf",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},6319:function(e,t,n){"use strict";var r=n(7854),i=n(7293),a=n(1702),o=n(260),u=n(6992),s=n(5112),c=s("iterator"),l=r.Uint8Array,f=a(u.values),h=a(u.keys),d=a(u.entries),p=o.aTypedArray,v=o.exportTypedArrayMethod,g=l&&l.prototype,y=!i((function(){g[c].call([1])})),m=!!g&&g.values&&g[c]===g.values&&"values"===g.values.name,k=function(){return f(p(this))};v("entries",(function(){return d(p(this))}),y),v("keys",(function(){return h(p(this))}),y),v("values",k,y||!m,{name:"values"}),v(c,k,y||!m,{name:"values"})},8867:function(e,t,n){"use strict";var r=n(260),i=n(1702),a=r.aTypedArray,o=r.exportTypedArrayMethod,u=i([].join);o("join",(function(e){return u(a(this),e)}))},7789:function(e,t,n){"use strict";var r=n(260),i=n(2104),a=n(6583),o=r.aTypedArray,u=r.exportTypedArrayMethod;u("lastIndexOf",(function(e){var t=arguments.length;return i(a,o(this),t>1?[e,arguments[1]]:[e])}))},3739:function(e,t,n){"use strict";var r=n(260),i=n(2092).map,a=n(6304),o=r.aTypedArray,u=r.exportTypedArrayMethod;u("map",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(a(e))(t)}))}))},4483:function(e,t,n){"use strict";var r=n(260),i=n(3671).right,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("reduceRight",(function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)}))},9368:function(e,t,n){"use strict";var r=n(260),i=n(3671).left,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("reduce",(function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)}))},2056:function(e,t,n){"use strict";var r=n(260),i=r.aTypedArray,a=r.exportTypedArrayMethod,o=Math.floor;a("reverse",(function(){var e,t=this,n=i(t).length,r=o(n/2),a=0;while(a<r)e=t[a],t[a++]=t[--n],t[n]=e;return t}))},3462:function(e,t,n){"use strict";var r=n(7854),i=n(6916),a=n(260),o=n(6244),u=n(4590),s=n(7908),c=n(7293),l=r.RangeError,f=r.Int8Array,h=f&&f.prototype,d=h&&h.set,p=a.aTypedArray,v=a.exportTypedArrayMethod,g=!c((function(){var e=new Uint8ClampedArray(2);return i(d,e,{length:1,0:3},1),3!==e[1]})),y=g&&a.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new f(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));v("set",(function(e){p(this);var t=u(arguments.length>1?arguments[1]:void 0,1),n=s(e);if(g)return i(d,this,n,t);var r=this.length,a=o(n),c=0;if(a+t>r)throw l("Wrong length");while(c<a)this[t+c]=n[c++]}),!g||y)},678:function(e,t,n){"use strict";var r=n(260),i=n(6304),a=n(7293),o=n(206),u=r.aTypedArray,s=r.exportTypedArrayMethod,c=a((function(){new Int8Array(1).slice()}));s("slice",(function(e,t){var n=o(u(this),e,t),r=i(this),a=0,s=n.length,c=new r(s);while(s>a)c[a]=n[a++];return c}),c)},7462:function(e,t,n){"use strict";var r=n(260),i=n(2092).some,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("some",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},3824:function(e,t,n){"use strict";var r=n(7854),i=n(1702),a=n(7293),o=n(9662),u=n(4362),s=n(260),c=n(8886),l=n(256),f=n(7392),h=n(8008),d=s.aTypedArray,p=s.exportTypedArrayMethod,v=r.Uint16Array,g=v&&i(v.prototype.sort),y=!!g&&!(a((function(){g(new v(2),null)}))&&a((function(){g(new v(2),{})}))),m=!!g&&!a((function(){if(f)return f<74;if(c)return c<67;if(l)return!0;if(h)return h<602;var e,t,n=new v(516),r=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(g(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0})),k=function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!==n?-1:t!==t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}};p("sort",(function(e){return void 0!==e&&o(e),m?g(this,e):u(d(this),k(e))}),!m||y)},5021:function(e,t,n){"use strict";var r=n(260),i=n(7466),a=n(1400),o=n(6304),u=r.aTypedArray,s=r.exportTypedArrayMethod;s("subarray",(function(e,t){var n=u(this),r=n.length,s=a(e,r),c=o(n);return new c(n.buffer,n.byteOffset+s*n.BYTES_PER_ELEMENT,i((void 0===t?r:a(t,r))-s))}))},2974:function(e,t,n){"use strict";var r=n(7854),i=n(2104),a=n(260),o=n(7293),u=n(206),s=r.Int8Array,c=a.aTypedArray,l=a.exportTypedArrayMethod,f=[].toLocaleString,h=!!s&&o((function(){f.call(new s(1))})),d=o((function(){return[1,2].toLocaleString()!=new s([1,2]).toLocaleString()}))||!o((function(){s.prototype.toLocaleString.call([1,2])}));l("toLocaleString",(function(){return i(f,h?u(c(this)):c(this),u(arguments))}),d)},5016:function(e,t,n){"use strict";var r=n(260).exportTypedArrayMethod,i=n(7293),a=n(7854),o=n(1702),u=a.Uint8Array,s=u&&u.prototype||{},c=[].toString,l=o([].join);i((function(){c.call({})}))&&(c=function(){return l(this)});var f=s.toString!=c;r("toString",c,f)},2472:function(e,t,n){var r=n(9843);r("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},1202:function(e,t,n){"use strict";var r,i=n(7854),a=n(1702),o=n(9190),u=n(2423),s=n(7710),c=n(9320),l=n(111),f=n(2050),h=n(9909).enforce,d=n(8536),p=!i.ActiveXObject&&"ActiveXObject"in i,v=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},g=s("WeakMap",v,c);if(d&&p){r=c.getConstructor(v,"WeakMap",!0),u.enable();var y=g.prototype,m=a(y["delete"]),k=a(y.has),w=a(y.get),b=a(y.set);o(y,{delete:function(e){if(l(e)&&!f(e)){var t=h(this);return t.frozen||(t.frozen=new r),m(this,e)||t.frozen["delete"](e)}return m(this,e)},has:function(e){if(l(e)&&!f(e)){var t=h(this);return t.frozen||(t.frozen=new r),k(this,e)||t.frozen.has(e)}return k(this,e)},get:function(e){if(l(e)&&!f(e)){var t=h(this);return t.frozen||(t.frozen=new r),k(this,e)?w(this,e):t.frozen.get(e)}return w(this,e)},set:function(e,t){if(l(e)&&!f(e)){var n=h(this);n.frozen||(n.frozen=new r),k(this,e)?b(this,e,t):n.frozen.set(e,t)}else b(this,e,t);return this}})}},4129:function(e,t,n){n(1202)},5505:function(e,t,n){var r=n(2109),i=n(5005),a=n(1702),o=n(7293),u=n(1340),s=n(2597),c=n(8053),l=n(4170).ctoi,f=/[^\d+/a-z]/i,h=/[\t\n\f\r ]+/g,d=/[=]+$/,p=i("atob"),v=String.fromCharCode,g=a("".charAt),y=a("".replace),m=a(f.exec),k=o((function(){return""!==p(" ")})),w=!o((function(){p("a")})),b=!k&&!w&&!o((function(){p()})),_=!k&&!w&&1!==p.length;r({global:!0,enumerable:!0,forced:k||w||b||_},{atob:function(e){if(c(arguments.length,1),b||_)return p(e);var t,n,r=y(u(e),h,""),a="",o=0,k=0;if(r.length%4==0&&(r=y(r,d,"")),r.length%4==1||m(f,r))throw new(i("DOMException"))("The string is not correctly encoded","InvalidCharacterError");while(t=g(r,o++))s(l,t)&&(n=k%4?64*n+l[t]:l[t],k++%4&&(a+=v(255&n>>(-2*k&6))));return a}})},7479:function(e,t,n){var r=n(2109),i=n(5005),a=n(1702),o=n(7293),u=n(1340),s=n(8053),c=n(4170).itoc,l=i("btoa"),f=a("".charAt),h=a("".charCodeAt),d=!!l&&!o((function(){l()})),p=!!l&&o((function(){return"bnVsbA=="!==l(null)})),v=!!l&&1!==l.length;r({global:!0,enumerable:!0,forced:d||p||v},{btoa:function(e){if(s(arguments.length,1),d||p||v)return l(u(e));var t,n,r=u(e),a="",o=0,g=c;while(f(r,o)||(g="=",o%1)){if(n=h(r,o+=3/4),n>255)throw new(i("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");t=t<<8|n,a+=f(g,63&t>>8-o%1*8)}return a}})},4747:function(e,t,n){var r=n(7854),i=n(8324),a=n(8509),o=n(8533),u=n(8880),s=function(e){if(e&&e.forEach!==o)try{u(e,"forEach",o)}catch(t){e.forEach=o}};for(var c in i)i[c]&&s(r[c]&&r[c].prototype);s(a)},3948:function(e,t,n){var r=n(7854),i=n(8324),a=n(8509),o=n(6992),u=n(8880),s=n(5112),c=s("iterator"),l=s("toStringTag"),f=o.values,h=function(e,t){if(e){if(e[c]!==f)try{u(e,c,f)}catch(r){e[c]=f}if(e[l]||u(e,l,t),i[t])for(var n in o)if(e[n]!==o[n])try{u(e,n,o[n])}catch(r){e[n]=o[n]}}};for(var d in i)h(r[d]&&r[d].prototype,d);h(a,"DOMTokenList")},7714:function(e,t,n){"use strict";var r=n(2109),i=n(4038),a=n(5005),o=n(7293),u=n(30),s=n(9114),c=n(3070).f,l=n(8052),f=n(7045),h=n(2597),d=n(5787),p=n(9670),v=n(7762),g=n(6277),y=n(3678),m=n(7741),k=n(9909),w=n(9781),b=n(1913),_="DOMException",x="DATA_CLONE_ERR",I=a("Error"),E=a(_)||function(){try{var e=a("MessageChannel")||i("worker_threads").MessageChannel;(new e).port1.postMessage(new WeakMap)}catch(t){if(t.name==x&&25==t.code)return t.constructor}}(),Z=E&&E.prototype,T=I.prototype,S=k.set,A=k.getterFor(_),C="stack"in I(_),R=function(e){return h(y,e)&&y[e].m?y[e].c:0},O=function(){d(this,N);var e=arguments.length,t=g(e<1?void 0:arguments[0]),n=g(e<2?void 0:arguments[1],"Error"),r=R(n);if(S(this,{type:_,name:n,message:t,code:r}),w||(this.name=n,this.message=t,this.code=r),C){var i=I(t);i.name=_,c(this,"stack",s(1,m(i.stack,1)))}},N=O.prototype=u(T),D=function(e){return{enumerable:!0,configurable:!0,get:e}},P=function(e){return D((function(){return A(this)[e]}))};w&&(f(N,"code",P("code")),f(N,"message",P("message")),f(N,"name",P("name"))),c(N,"constructor",s(1,O));var L=o((function(){return!(new E instanceof I)})),M=L||o((function(){return T.toString!==v||"2: 1"!==String(new E(1,2))})),U=L||o((function(){return 25!==new E(1,"DataCloneError").code})),F=L||25!==E[x]||25!==Z[x],j=b?M||U||F:L;r({global:!0,constructor:!0,forced:j},{DOMException:j?O:E});var V=a(_),B=V.prototype;for(var q in M&&(b||E===V)&&l(B,"toString",v),U&&w&&E===V&&f(B,"code",D((function(){return R(p(this).name)}))),y)if(h(y,q)){var z=y[q],G=z.s,K=s(6,z.c);h(V,G)||c(V,G,K),h(B,G)||c(B,G,K)}},2801:function(e,t,n){"use strict";var r=n(2109),i=n(5005),a=n(9114),o=n(3070).f,u=n(2597),s=n(5787),c=n(9587),l=n(6277),f=n(3678),h=n(7741),d=n(1913),p="DOMException",v=i("Error"),g=i(p),y=function(){s(this,m);var e=arguments.length,t=l(e<1?void 0:arguments[0]),n=l(e<2?void 0:arguments[1],"Error"),r=new g(t,n),i=v(t);return i.name=p,o(r,"stack",a(1,h(i.stack,1))),c(r,this,y),r},m=y.prototype=g.prototype,k="stack"in v(p),w="stack"in new g(1,2),b=k&&!w;r({global:!0,constructor:!0,forced:d||b},{DOMException:b?y:g});var _=i(p),x=_.prototype;if(x.constructor!==_)for(var I in d||o(x,"constructor",a(1,_)),f)if(u(f,I)){var E=f[I],Z=E.s;u(_,Z)||o(_,Z,a(6,E.c))}},1174:function(e,t,n){var r=n(5005),i=n(8003),a="DOMException";i(r(a),a)},5556:function(e,t,n){"use strict";n(6992);var r=n(2109),i=n(7854),a=n(6916),o=n(1702),u=n(9781),s=n(590),c=n(8052),l=n(9190),f=n(8003),h=n(4994),d=n(9909),p=n(5787),v=n(614),g=n(2597),y=n(9974),m=n(648),k=n(9670),w=n(111),b=n(1340),_=n(30),x=n(9114),I=n(8554),E=n(1246),Z=n(8053),T=n(5112),S=n(4362),A=T("iterator"),C="URLSearchParams",R=C+"Iterator",O=d.set,N=d.getterFor(C),D=d.getterFor(R),P=Object.getOwnPropertyDescriptor,L=function(e){if(!u)return i[e];var t=P(i,e);return t&&t.value},M=L("fetch"),U=L("Request"),F=L("Headers"),j=U&&U.prototype,V=F&&F.prototype,B=i.RegExp,q=i.TypeError,z=i.decodeURIComponent,G=i.encodeURIComponent,K=o("".charAt),H=o([].join),W=o([].push),Y=o("".replace),Q=o([].shift),J=o([].splice),X=o("".split),$=o("".slice),ee=/\+/g,te=Array(4),ne=function(e){return te[e-1]||(te[e-1]=B("((?:%[\\da-f]{2}){"+e+"})","gi"))},re=function(e){try{return z(e)}catch(t){return e}},ie=function(e){var t=Y(e,ee," "),n=4;try{return z(t)}catch(r){while(n)t=Y(t,ne(n--),re);return t}},ae=/[!'()~]|%20/g,oe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ue=function(e){return oe[e]},se=function(e){return Y(G(e),ae,ue)},ce=h((function(e,t){O(this,{type:R,iterator:I(N(e).entries),kind:t})}),"Iterator",(function(){var e=D(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),le=function(e){this.entries=[],this.url=null,void 0!==e&&(w(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===K(e,0)?$(e,1):e:b(e)))};le.prototype={type:C,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,o,u,s,c=E(e);if(c){t=I(e,c),n=t.next;while(!(r=a(n,t)).done){if(i=I(k(r.value)),o=i.next,(u=a(o,i)).done||(s=a(o,i)).done||!a(o,i).done)throw q("Expected sequence with length 2");W(this.entries,{key:b(u.value),value:b(s.value)})}}else for(var l in e)g(e,l)&&W(this.entries,{key:l,value:b(e[l])})},parseQuery:function(e){if(e){var t,n,r=X(e,"&"),i=0;while(i<r.length)t=r[i++],t.length&&(n=X(t,"="),W(this.entries,{key:ie(Q(n)),value:ie(H(n,"="))}))}},serialize:function(){var e,t=this.entries,n=[],r=0;while(r<t.length)e=t[r++],W(n,se(e.key)+"="+se(e.value));return H(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var fe=function(){p(this,he);var e=arguments.length>0?arguments[0]:void 0;O(this,new le(e))},he=fe.prototype;if(l(he,{append:function(e,t){Z(arguments.length,2);var n=N(this);W(n.entries,{key:b(e),value:b(t)}),n.updateURL()},delete:function(e){Z(arguments.length,1);var t=N(this),n=t.entries,r=b(e),i=0;while(i<n.length)n[i].key===r?J(n,i,1):i++;t.updateURL()},get:function(e){Z(arguments.length,1);for(var t=N(this).entries,n=b(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){Z(arguments.length,1);for(var t=N(this).entries,n=b(e),r=[],i=0;i<t.length;i++)t[i].key===n&&W(r,t[i].value);return r},has:function(e){Z(arguments.length,1);var t=N(this).entries,n=b(e),r=0;while(r<t.length)if(t[r++].key===n)return!0;return!1},set:function(e,t){Z(arguments.length,1);for(var n,r=N(this),i=r.entries,a=!1,o=b(e),u=b(t),s=0;s<i.length;s++)n=i[s],n.key===o&&(a?J(i,s--,1):(a=!0,n.value=u));a||W(i,{key:o,value:u}),r.updateURL()},sort:function(){var e=N(this);S(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){var t,n=N(this).entries,r=y(e,arguments.length>1?arguments[1]:void 0),i=0;while(i<n.length)t=n[i++],r(t.value,t.key,this)},keys:function(){return new ce(this,"keys")},values:function(){return new ce(this,"values")},entries:function(){return new ce(this,"entries")}},{enumerable:!0}),c(he,A,he.entries,{name:"entries"}),c(he,"toString",(function(){return N(this).serialize()}),{enumerable:!0}),f(fe,C),r({global:!0,constructor:!0,forced:!s},{URLSearchParams:fe}),!s&&v(F)){var de=o(V.has),pe=o(V.set),ve=function(e){if(w(e)){var t,n=e.body;if(m(n)===C)return t=e.headers?new F(e.headers):new F,de(t,"content-type")||pe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),_(e,{body:x(0,b(n)),headers:x(0,t)})}return e};if(v(M)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return M(e,arguments.length>1?ve(arguments[1]):{})}}),v(U)){var ge=function(e){return p(this,j),new U(e,arguments.length>1?ve(arguments[1]):{})};j.constructor=ge,ge.prototype=j,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ge})}}e.exports={URLSearchParams:fe,getState:N}},1637:function(e,t,n){n(5556)},8789:function(e,t,n){"use strict";n(8783);var r,i=n(2109),a=n(9781),o=n(590),u=n(7854),s=n(9974),c=n(1702),l=n(8052),f=n(7045),h=n(5787),d=n(2597),p=n(1574),v=n(8457),g=n(1589),y=n(8710).codeAt,m=n(3197),k=n(1340),w=n(8003),b=n(8053),_=n(5556),x=n(9909),I=x.set,E=x.getterFor("URL"),Z=_.URLSearchParams,T=_.getState,S=u.URL,A=u.TypeError,C=u.parseInt,R=Math.floor,O=Math.pow,N=c("".charAt),D=c(/./.exec),P=c([].join),L=c(1..toString),M=c([].pop),U=c([].push),F=c("".replace),j=c([].shift),V=c("".split),B=c("".slice),q=c("".toLowerCase),z=c([].unshift),G="Invalid authority",K="Invalid scheme",H="Invalid host",W="Invalid port",Y=/[a-z]/i,Q=/[\d+-.a-z]/i,J=/\d/,X=/^0x/i,$=/^[0-7]+$/,ee=/^\d+$/,te=/^[\da-f]+$/i,ne=/[\0\t\n\r #%/:<>?@[\\\]^|]/,re=/[\0\t\n\r #/:<>?@[\\\]^|]/,ie=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,ae=/[\t\n\r]/g,oe=function(e){var t,n,r,i,a,o,u,s=V(e,".");if(s.length&&""==s[s.length-1]&&s.length--,t=s.length,t>4)return e;for(n=[],r=0;r<t;r++){if(i=s[r],""==i)return e;if(a=10,i.length>1&&"0"==N(i,0)&&(a=D(X,i)?16:8,i=B(i,8==a?1:2)),""===i)o=0;else{if(!D(10==a?ee:8==a?$:te,i))return e;o=C(i,a)}U(n,o)}for(r=0;r<t;r++)if(o=n[r],r==t-1){if(o>=O(256,5-t))return null}else if(o>255)return null;for(u=M(n),r=0;r<n.length;r++)u+=n[r]*O(256,3-r);return u},ue=function(e){var t,n,r,i,a,o,u,s=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,h=function(){return N(e,f)};if(":"==h()){if(":"!=N(e,1))return;f+=2,c++,l=c}while(h()){if(8==c)return;if(":"!=h()){t=n=0;while(n<4&&D(te,h()))t=16*t+C(h(),16),f++,n++;if("."==h()){if(0==n)return;if(f-=n,c>6)return;r=0;while(h()){if(i=null,r>0){if(!("."==h()&&r<4))return;f++}if(!D(J,h()))return;while(D(J,h())){if(a=C(h(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;f++}s[c]=256*s[c]+i,r++,2!=r&&4!=r||c++}if(4!=r)return;break}if(":"==h()){if(f++,!h())return}else if(h())return;s[c++]=t}else{if(null!==l)return;f++,c++,l=c}}if(null!==l){o=c-l,c=7;while(0!=c&&o>0)u=s[c],s[c--]=s[l+o-1],s[l+--o]=u}else if(8!=c)return;return s},se=function(e){for(var t=null,n=1,r=null,i=0,a=0;a<8;a++)0!==e[a]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=a),++i);return i>n&&(t=r,n=i),t},ce=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)z(t,e%256),e=R(e/256);return P(t,".")}if("object"==typeof e){for(t="",r=se(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=L(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},le={},fe=p({},le,{" ":1,'"':1,"<":1,">":1,"`":1}),he=p({},fe,{"#":1,"?":1,"{":1,"}":1}),de=p({},he,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),pe=function(e,t){var n=y(e,0);return n>32&&n<127&&!d(t,e)?e:encodeURIComponent(e)},ve={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ge=function(e,t){var n;return 2==e.length&&D(Y,N(e,0))&&(":"==(n=N(e,1))||!t&&"|"==n)},ye=function(e){var t;return e.length>1&&ge(B(e,0,2))&&(2==e.length||"/"===(t=N(e,2))||"\\"===t||"?"===t||"#"===t)},me=function(e){return"."===e||"%2e"===q(e)},ke=function(e){return e=q(e),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},we={},be={},_e={},xe={},Ie={},Ee={},Ze={},Te={},Se={},Ae={},Ce={},Re={},Oe={},Ne={},De={},Pe={},Le={},Me={},Ue={},Fe={},je={},Ve=function(e,t,n){var r,i,a,o=k(e);if(t){if(i=this.parse(o),i)throw A(i);this.searchParams=null}else{if(void 0!==n&&(r=new Ve(n,!0)),i=this.parse(o,null,r),i)throw A(i);a=T(new Z),a.bindURL(this),this.searchParams=a}};Ve.prototype={type:"URL",parse:function(e,t,n){var i,a,o,u,s=this,c=t||we,l=0,f="",h=!1,p=!1,y=!1;e=k(e),t||(s.scheme="",s.username="",s.password="",s.host=null,s.port=null,s.path=[],s.query=null,s.fragment=null,s.cannotBeABaseURL=!1,e=F(e,ie,"")),e=F(e,ae,""),i=v(e);while(l<=i.length){switch(a=i[l],c){case we:if(!a||!D(Y,a)){if(t)return K;c=_e;continue}f+=q(a),c=be;break;case be:if(a&&(D(Q,a)||"+"==a||"-"==a||"."==a))f+=q(a);else{if(":"!=a){if(t)return K;f="",c=_e,l=0;continue}if(t&&(s.isSpecial()!=d(ve,f)||"file"==f&&(s.includesCredentials()||null!==s.port)||"file"==s.scheme&&!s.host))return;if(s.scheme=f,t)return void(s.isSpecial()&&ve[s.scheme]==s.port&&(s.port=null));f="","file"==s.scheme?c=Ne:s.isSpecial()&&n&&n.scheme==s.scheme?c=xe:s.isSpecial()?c=Te:"/"==i[l+1]?(c=Ie,l++):(s.cannotBeABaseURL=!0,U(s.path,""),c=Ue)}break;case _e:if(!n||n.cannotBeABaseURL&&"#"!=a)return K;if(n.cannotBeABaseURL&&"#"==a){s.scheme=n.scheme,s.path=g(n.path),s.query=n.query,s.fragment="",s.cannotBeABaseURL=!0,c=je;break}c="file"==n.scheme?Ne:Ee;continue;case xe:if("/"!=a||"/"!=i[l+1]){c=Ee;continue}c=Se,l++;break;case Ie:if("/"==a){c=Ae;break}c=Me;continue;case Ee:if(s.scheme=n.scheme,a==r)s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=g(n.path),s.query=n.query;else if("/"==a||"\\"==a&&s.isSpecial())c=Ze;else if("?"==a)s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=g(n.path),s.query="",c=Fe;else{if("#"!=a){s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=g(n.path),s.path.length--,c=Me;continue}s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=g(n.path),s.query=n.query,s.fragment="",c=je}break;case Ze:if(!s.isSpecial()||"/"!=a&&"\\"!=a){if("/"!=a){s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,c=Me;continue}c=Ae}else c=Se;break;case Te:if(c=Se,"/"!=a||"/"!=N(f,l+1))continue;l++;break;case Se:if("/"!=a&&"\\"!=a){c=Ae;continue}break;case Ae:if("@"==a){h&&(f="%40"+f),h=!0,o=v(f);for(var m=0;m<o.length;m++){var w=o[m];if(":"!=w||y){var b=pe(w,de);y?s.password+=b:s.username+=b}else y=!0}f=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&s.isSpecial()){if(h&&""==f)return G;l-=v(f).length+1,f="",c=Ce}else f+=a;break;case Ce:case Re:if(t&&"file"==s.scheme){c=Pe;continue}if(":"!=a||p){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&s.isSpecial()){if(s.isSpecial()&&""==f)return H;if(t&&""==f&&(s.includesCredentials()||null!==s.port))return;if(u=s.parseHost(f),u)return u;if(f="",c=Le,t)return;continue}"["==a?p=!0:"]"==a&&(p=!1),f+=a}else{if(""==f)return H;if(u=s.parseHost(f),u)return u;if(f="",c=Oe,t==Re)return}break;case Oe:if(!D(J,a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&s.isSpecial()||t){if(""!=f){var _=C(f,10);if(_>65535)return W;s.port=s.isSpecial()&&_===ve[s.scheme]?null:_,f=""}if(t)return;c=Le;continue}return W}f+=a;break;case Ne:if(s.scheme="file","/"==a||"\\"==a)c=De;else{if(!n||"file"!=n.scheme){c=Me;continue}if(a==r)s.host=n.host,s.path=g(n.path),s.query=n.query;else if("?"==a)s.host=n.host,s.path=g(n.path),s.query="",c=Fe;else{if("#"!=a){ye(P(g(i,l),""))||(s.host=n.host,s.path=g(n.path),s.shortenPath()),c=Me;continue}s.host=n.host,s.path=g(n.path),s.query=n.query,s.fragment="",c=je}}break;case De:if("/"==a||"\\"==a){c=Pe;break}n&&"file"==n.scheme&&!ye(P(g(i,l),""))&&(ge(n.path[0],!0)?U(s.path,n.path[0]):s.host=n.host),c=Me;continue;case Pe:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!t&&ge(f))c=Me;else if(""==f){if(s.host="",t)return;c=Le}else{if(u=s.parseHost(f),u)return u;if("localhost"==s.host&&(s.host=""),t)return;f="",c=Le}continue}f+=a;break;case Le:if(s.isSpecial()){if(c=Me,"/"!=a&&"\\"!=a)continue}else if(t||"?"!=a)if(t||"#"!=a){if(a!=r&&(c=Me,"/"!=a))continue}else s.fragment="",c=je;else s.query="",c=Fe;break;case Me:if(a==r||"/"==a||"\\"==a&&s.isSpecial()||!t&&("?"==a||"#"==a)){if(ke(f)?(s.shortenPath(),"/"==a||"\\"==a&&s.isSpecial()||U(s.path,"")):me(f)?"/"==a||"\\"==a&&s.isSpecial()||U(s.path,""):("file"==s.scheme&&!s.path.length&&ge(f)&&(s.host&&(s.host=""),f=N(f,0)+":"),U(s.path,f)),f="","file"==s.scheme&&(a==r||"?"==a||"#"==a))while(s.path.length>1&&""===s.path[0])j(s.path);"?"==a?(s.query="",c=Fe):"#"==a&&(s.fragment="",c=je)}else f+=pe(a,he);break;case Ue:"?"==a?(s.query="",c=Fe):"#"==a?(s.fragment="",c=je):a!=r&&(s.path[0]+=pe(a,le));break;case Fe:t||"#"!=a?a!=r&&("'"==a&&s.isSpecial()?s.query+="%27":s.query+="#"==a?"%23":pe(a,le)):(s.fragment="",c=je);break;case je:a!=r&&(s.fragment+=pe(a,fe));break}l++}},parseHost:function(e){var t,n,r;if("["==N(e,0)){if("]"!=N(e,e.length-1))return H;if(t=ue(B(e,1,-1)),!t)return H;this.host=t}else if(this.isSpecial()){if(e=m(e),D(ne,e))return H;if(t=oe(e),null===t)return H;this.host=t}else{if(D(re,e))return H;for(t="",n=v(e),r=0;r<n.length;r++)t+=pe(n[r],le);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return d(ve,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&ge(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,a=e.port,o=e.path,u=e.query,s=e.fragment,c=t+":";return null!==i?(c+="//",e.includesCredentials()&&(c+=n+(r?":"+r:"")+"@"),c+=ce(i),null!==a&&(c+=":"+a)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+P(o,"/"):"",null!==u&&(c+="?"+u),null!==s&&(c+="#"+s),c},setHref:function(e){var t=this.parse(e);if(t)throw A(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Be(e.path[0]).origin}catch(n){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+ce(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(k(e)+":",we)},getUsername:function(){return this.username},setUsername:function(e){var t=v(k(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=pe(t[n],de)}},getPassword:function(){return this.password},setPassword:function(e){var t=v(k(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=pe(t[n],de)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ce(e):ce(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Ce)},getHostname:function(){var e=this.host;return null===e?"":ce(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Re)},getPort:function(){var e=this.port;return null===e?"":k(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=k(e),""==e?this.port=null:this.parse(e,Oe))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+P(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Le))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=k(e),""==e?this.query=null:("?"==N(e,0)&&(e=B(e,1)),this.query="",this.parse(e,Fe)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){e=k(e),""!=e?("#"==N(e,0)&&(e=B(e,1)),this.fragment="",this.parse(e,je)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Be=function(e){var t=h(this,qe),n=b(arguments.length,1)>1?arguments[1]:void 0,r=I(t,new Ve(e,!1,n));a||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},qe=Be.prototype,ze=function(e,t){return{get:function(){return E(this)[e]()},set:t&&function(e){return E(this)[t](e)},configurable:!0,enumerable:!0}};if(a&&(f(qe,"href",ze("serialize","setHref")),f(qe,"origin",ze("getOrigin")),f(qe,"protocol",ze("getProtocol","setProtocol")),f(qe,"username",ze("getUsername","setUsername")),f(qe,"password",ze("getPassword","setPassword")),f(qe,"host",ze("getHost","setHost")),f(qe,"hostname",ze("getHostname","setHostname")),f(qe,"port",ze("getPort","setPort")),f(qe,"pathname",ze("getPathname","setPathname")),f(qe,"search",ze("getSearch","setSearch")),f(qe,"searchParams",ze("getSearchParams")),f(qe,"hash",ze("getHash","setHash"))),l(qe,"toJSON",(function(){return E(this).serialize()}),{enumerable:!0}),l(qe,"toString",(function(){return E(this).serialize()}),{enumerable:!0}),S){var Ge=S.createObjectURL,Ke=S.revokeObjectURL;Ge&&l(Be,"createObjectURL",s(Ge,S)),Ke&&l(Be,"revokeObjectURL",s(Ke,S))}w(Be,"URL"),i({global:!0,constructor:!0,forced:!o,sham:!a},{URL:Be})},285:function(e,t,n){n(8789)},3753:function(e,t,n){"use strict";var r=n(2109),i=n(6916);r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},9933:function(e){function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=t,e.exports.__esModule=!0,e.exports["default"]=e.exports},8419:function(e){function t(e){if(Array.isArray(e))return e}e.exports=t,e.exports.__esModule=!0,e.exports["default"]=e.exports},4548:function(e,t,n){n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),n(1703);var r=n(7486);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},6066:function(e,t,n){function r(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(s){u=!0,i=s}finally{try{o||null==n["return"]||n["return"]()}finally{if(u)throw i}}return a}}n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},8826:function(e,t,n){function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n(1703),e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},2:function(e,t,n){var r=n(8419),i=n(6066),a=n(7486),o=n(8826);function u(e,t){return r(e)||i(e,t)||a(e,t)||o()}e.exports=u,e.exports.__esModule=!0,e.exports["default"]=e.exports},7486:function(e,t,n){n(7042),n(1539),n(8309),n(1038),n(8783),n(4916),n(7601);var r=n(9933);function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},5287:function(e,t,n){"use strict";n.d(t,{BH:function(){return I},LL:function(){return j},ZR:function(){return F},tV:function(){return b},L:function(){return w},r3:function(){return q},Sg:function(){return E},ne:function(){return Q},vZ:function(){return G},ZB:function(){return _},pd:function(){return Y},m9:function(){return ee},z$:function(){return Z},jU:function(){return A},ru:function(){return C},d:function(){return O},xb:function(){return z},w1:function(){return N},hl:function(){return L},uI:function(){return T},UG:function(){return S},b$:function(){return R},G6:function(){return P},Mn:function(){return D},xO:function(){return H},zd:function(){return W},eu:function(){return M}});var r=n(6347),i=n(4621),a=n(2417),o=n(9110),u=n(7946),s=(n(1532),n(1539),n(8783),n(3948),n(1703),n(2040)),c=n(3967);n(9714);function l(e){return-1!==Function.toString.call(e).indexOf("[native code]")}var f=n(5507);function h(e){var t="function"===typeof Map?new Map:void 0;return h=function(e){if(null===e||!l(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return(0,f.Z)(e,arguments,(0,s.Z)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,c.Z)(n,e)},h(e)}var d=n(3336),p=n(3087),v=n(2833),g=(n(9600),n(5505),n(7714),n(2801),n(1174),n(7479),n(4916),n(5306),n(86),n(8862),n(7601),n(6699),n(2023),n(8309),n(2222),n(3123),n(7941),n(9720),n(4747),n(5192),n(9653),function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}),y=function(e){var t=[],n=0,r=0;while(n<e.length){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=e[n++],u=e[n++],s=e[n++],c=((7&i)<<18|(63&o)<<12|(63&u)<<6|63&s)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(1023&c))}else{var l=e[n++],f=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&l)<<6|63&f)}}return t.join("")},m={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(g(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):y(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length,u=o?n[e.charAt(i)]:0;++i;var s=i<e.length,c=s?n[e.charAt(i)]:64;++i;var l=i<e.length,f=l?n[e.charAt(i)]:64;if(++i,null==a||null==u||null==c||null==f)throw Error();var h=a<<2|u>>4;if(r.push(h),64!==c){var d=u<<4&240|c>>2;if(r.push(d),64!==f){var p=c<<6&192|f;r.push(p)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},k=function(e){var t=g(e);return m.encodeByteArray(t,!0)},w=function(e){return k(e).replace(/\./g,"")},b=function(e){try{return m.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function _(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)t.hasOwnProperty(r)&&x(r)&&(e[r]=_(e[r],t[r]));return e}function x(e){return"__proto__"!==e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I=function(){function e(){var t=this;(0,p.Z)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return(0,v.Z)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Object.assign({iss:"https://securetoken.google.com/".concat(r),aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e),u="";return[w(JSON.stringify(n)),w(JSON.stringify(o)),u].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function T(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Z())}function S(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function A(){return"object"===("undefined"===typeof self?"undefined":(0,d.Z)(self))&&self.self===self}function C(){var e="object"===("undefined"===typeof chrome?"undefined":(0,d.Z)(chrome))?chrome.runtime:"object"===("undefined"===typeof browser?"undefined":(0,d.Z)(browser))?browser.runtime:void 0;return"object"===(0,d.Z)(e)&&void 0!==e.id}function R(){return"object"===("undefined"===typeof navigator?"undefined":(0,d.Z)(navigator))&&"ReactNative"===navigator["product"]}function O(){return Z().indexOf("Electron/")>=0}function N(){var e=Z();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function D(){return Z().indexOf("MSAppHost/")>=0}function P(){return!S()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L(){return"object"===("undefined"===typeof indexedDB?"undefined":(0,d.Z)(indexedDB))}function M(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var U="FirebaseError",F=function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(e,r,i){var o;return(0,p.Z)(this,n),o=t.call(this,r),o.code=e,o.customData=i,o.name=U,Object.setPrototypeOf((0,a.Z)(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,a.Z)(o),j.prototype.create),o}return(0,v.Z)(n)}(h(Error)),j=function(){function e(t,n,r){(0,p.Z)(this,e),this.service=t,this.serviceName=n,this.errors=r}return(0,v.Z)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?V(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new F(n,a,t);return o}}]),e}();function V(e,t){return e.replace(B,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var B=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function q(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function z(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function G(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(K(u)&&K(s)){if(!G(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function K(e){return null!==e&&"object"===(0,d.Z)(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H(e){for(var t=[],n=function(){var e=(0,i.Z)(a[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,a=Object.entries(e);r<a.length;r++)n();return t.length?"&"+t.join("&"):""}function W(e){var t={},n=e.replace(/^\?/,"").split("&");return n.forEach((function(e){if(e){var n=e.split("="),r=(0,i.Z)(n,2),a=r[0],o=r[1];t[decodeURIComponent(a)]=decodeURIComponent(o)}})),t}function Y(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(e,t){var n=new J(e,t);return n.subscribe.bind(n)}var J=function(){function e(t,n){var r=this;(0,p.Z)(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return(0,v.Z)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=X(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=$),void 0===r.error&&(r.error=$),void 0===r.complete&&(r.complete=$);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function X(e,t){if("object"!==(0,d.Z)(e)||null===e)return!1;var n,i=(0,r.Z)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in e&&"function"===typeof e[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}function $(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ee(e){return e&&e._delegate?e._delegate:e}},4870:function(e,t,n){"use strict";n.d(t,{Bj:function(){return f},Fl:function(){return He},IU:function(){return Le},Jd:function(){return A},PG:function(){return Oe},Um:function(){return Ae},WL:function(){return Ge},X$:function(){return N},X3:function(){return Pe},Xl:function(){return Me},dq:function(){return Be},j:function(){return R},lk:function(){return C},qj:function(){return Se},qq:function(){return E},yT:function(){return De}});var r,i=n(4621),a=n(2482),o=n(6347),u=n(8478),s=n(3087),c=n(2833),l=(n(2222),n(1539),n(189),n(8783),n(3948),n(4129),n(2526),n(1817),n(1532),n(4747),n(7327),n(1249),n(6210),n(4819),n(1299),n(9653),n(3593),n(2586),n(1037),n(7318),n(9361),n(2165),n(1825),n(7139));var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,s.Z)(this,e),this.active=!0,this.effects=[],this.cleanups=[],!t&&r&&(this.parent=r,this.index=(r.scopes||(r.scopes=[])).push(this)-1)}return(0,c.Z)(e,[{key:"run",value:function(e){if(this.active){var t=r;try{return r=this,e()}finally{r=t}}else 0}},{key:"on",value:function(){r=this}},{key:"off",value:function(){r=this.parent}},{key:"stop",value:function(e){if(this.active){var t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(this.parent&&!e){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}}]),e}();function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;t&&t.active&&t.effects.push(e)}var d,p=function(e){var t=new Set(e);return t.w=0,t.n=0,t},v=function(e){return(e.w&b)>0},g=function(e){return(e.n&b)>0},y=function(e){var t=e.deps;if(t.length)for(var n=0;n<t.length;n++)t[n].w|=b},m=function(e){var t=e.deps;if(t.length){for(var n=0,r=0;r<t.length;r++){var i=t[r];v(i)&&!g(i)?i.delete(e):t[n++]=i,i.w&=~b,i.n&=~b}t.length=n}},k=new WeakMap,w=0,b=1,_=30,x=Symbol(""),I=Symbol(""),E=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0;(0,s.Z)(this,e),this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,h(this,r)}return(0,c.Z)(e,[{key:"run",value:function(){if(!this.active)return this.fn();var e=d,t=T;while(e){if(e===this)return;e=e.parent}try{return this.parent=d,d=this,T=!0,b=1<<++w,w<=_?y(this):Z(this),this.fn()}finally{w<=_&&m(this),b=1<<--w,d=this.parent,T=t,this.parent=void 0,this.deferStop&&this.stop()}}},{key:"stop",value:function(){d===this?this.deferStop=!0:this.active&&(Z(this),this.onStop&&this.onStop(),this.active=!1)}}]),e}();function Z(e){var t=e.deps;if(t.length){for(var n=0;n<t.length;n++)t[n].delete(e);t.length=0}}var T=!0,S=[];function A(){S.push(T),T=!1}function C(){var e=S.pop();T=void 0===e||e}function R(e,t,n){if(T&&d){var r=k.get(e);r||k.set(e,r=new Map);var i=r.get(n);i||r.set(n,i=p());var a=void 0;O(i,a)}}function O(e,t){var n=!1;w<=_?g(e)||(e.n|=b,n=!v(e)):n=!e.has(d),n&&(e.add(d),d.deps.push(e))}function N(e,t,n,r,i,a){var s=k.get(e);if(s){var c=[];if("clear"===t)c=(0,u.Z)(s.values());else if("length"===n&&(0,l.kJ)(e))s.forEach((function(e,t){("length"===t||t>=r)&&c.push(e)}));else switch(void 0!==n&&c.push(s.get(n)),t){case"add":(0,l.kJ)(e)?(0,l.S0)(n)&&c.push(s.get("length")):(c.push(s.get(x)),(0,l._N)(e)&&c.push(s.get(I)));break;case"delete":(0,l.kJ)(e)||(c.push(s.get(x)),(0,l._N)(e)&&c.push(s.get(I)));break;case"set":(0,l._N)(e)&&c.push(s.get(x));break}if(1===c.length)c[0]&&D(c[0]);else{var f,h=[],d=(0,o.Z)(c);try{for(d.s();!(f=d.n()).done;){var v=f.value;v&&h.push.apply(h,(0,u.Z)(v))}}catch(g){d.e(g)}finally{d.f()}D(p(h))}}}function D(e,t){var n,r=(0,l.kJ)(e)?e:(0,u.Z)(e),i=(0,o.Z)(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.computed&&P(a,t)}}catch(h){i.e(h)}finally{i.f()}var s,c=(0,o.Z)(r);try{for(c.s();!(s=c.n()).done;){var f=s.value;f.computed||P(f,t)}}catch(h){c.e(h)}finally{c.f()}}function P(e,t){(e!==d||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}var L=(0,l.fY)("__proto__,__v_isRef,__isVue"),M=new Set(Object.getOwnPropertyNames(Symbol).filter((function(e){return"arguments"!==e&&"caller"!==e})).map((function(e){return Symbol[e]})).filter(l.yk)),U=q(),F=q(!1,!0),j=q(!0),V=B();function B(){var e={};return["includes","indexOf","lastIndexOf"].forEach((function(t){e[t]=function(){for(var e=Le(this),n=0,r=this.length;n<r;n++)R(e,"get",n+"");for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=e[t].apply(e,a);return-1===s||!1===s?e[t].apply(e,(0,u.Z)(a.map(Le))):s}})),["push","pop","shift","unshift","splice"].forEach((function(t){e[t]=function(){A();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=Le(this)[t].apply(this,n);return C(),i}})),e}function q(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r,i){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_isShallow"===r)return t;if("__v_raw"===r&&i===(e?t?Ee:Ie:t?xe:_e).get(n))return n;var a=(0,l.kJ)(n);if(!e&&a&&(0,l.RI)(V,r))return Reflect.get(V,r,i);var o=Reflect.get(n,r,i);return((0,l.yk)(r)?M.has(r):L(r))?o:(e||R(n,"get",r),t?o:Be(o)?a&&(0,l.S0)(r)?o:o.value:(0,l.Kn)(o)?e?Ce(o):Se(o):o)}}var z=K(),G=K(!0);function K(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n,r,i){var a=t[n];if(Ne(a)&&Be(a)&&!Be(r))return!1;if(!e&&!Ne(r)&&(De(r)||(r=Le(r),a=Le(a)),!(0,l.kJ)(t)&&Be(a)&&!Be(r)))return a.value=r,!0;var o=(0,l.kJ)(t)&&(0,l.S0)(n)?Number(n)<t.length:(0,l.RI)(t,n),u=Reflect.set(t,n,r,i);return t===Le(i)&&(o?(0,l.aU)(r,a)&&N(t,"set",n,r,a):N(t,"add",n,r)),u}}function H(e,t){var n=(0,l.RI)(e,t),r=e[t],i=Reflect.deleteProperty(e,t);return i&&n&&N(e,"delete",t,void 0,r),i}function W(e,t){var n=Reflect.has(e,t);return(0,l.yk)(t)&&M.has(t)||R(e,"has",t),n}function Y(e){return R(e,"iterate",(0,l.kJ)(e)?"length":x),Reflect.ownKeys(e)}var Q={get:U,set:z,deleteProperty:H,has:W,ownKeys:Y},J={get:j,set:function(e,t){return!0},deleteProperty:function(e,t){return!0}},X=(0,l.l7)({},Q,{get:F,set:G}),$=function(e){return e},ee=function(e){return Reflect.getPrototypeOf(e)};function te(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e=e["__v_raw"];var i=Le(e),a=Le(t);n||(t!==a&&R(i,"get",t),R(i,"get",a));var o=ee(i),u=o.has,s=r?$:n?Fe:Ue;return u.call(i,t)?s(e.get(t)):u.call(i,a)?s(e.get(a)):void(e!==i&&e.get(t))}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this["__v_raw"],r=Le(n),i=Le(e);return t||(e!==i&&R(r,"has",e),R(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function re(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e=e["__v_raw"],!t&&R(Le(e),"iterate",x),Reflect.get(e,"size",e)}function ie(e){e=Le(e);var t=Le(this),n=ee(t),r=n.has.call(t,e);return r||(t.add(e),N(t,"add",e,e)),this}function ae(e,t){t=Le(t);var n=Le(this),r=ee(n),i=r.has,a=r.get,o=i.call(n,e);o||(e=Le(e),o=i.call(n,e));var u=a.call(n,e);return n.set(e,t),o?(0,l.aU)(t,u)&&N(n,"set",e,t,u):N(n,"add",e,t),this}function oe(e){var t=Le(this),n=ee(t),r=n.has,i=n.get,a=r.call(t,e);a||(e=Le(e),a=r.call(t,e));var o=i?i.call(t,e):void 0,u=t.delete(e);return a&&N(t,"delete",e,void 0,o),u}function ue(){var e=Le(this),t=0!==e.size,n=void 0,r=e.clear();return t&&N(e,"clear",void 0,void 0,n),r}function se(e,t){return function(n,r){var i=this,a=i["__v_raw"],o=Le(a),u=t?$:e?Fe:Ue;return!e&&R(o,"iterate",x),a.forEach((function(e,t){return n.call(r,u(e),u(t),i)}))}}function ce(e,t,n){return function(){var r=this["__v_raw"],i=Le(r),o=(0,l._N)(i),u="entries"===e||e===Symbol.iterator&&o,s="keys"===e&&o,c=r[e].apply(r,arguments),f=n?$:t?Fe:Ue;return!t&&R(i,"iterate",s?I:x),(0,a.Z)({next:function(){var e=c.next(),t=e.value,n=e.done;return n?{value:t,done:n}:{value:u?[f(t[0]),f(t[1])]:f(t),done:n}}},Symbol.iterator,(function(){return this}))}}function le(e){return function(){return"delete"!==e&&this}}function fe(){var e={get:function(e){return te(this,e)},get size(){return re(this)},has:ne,add:ie,set:ae,delete:oe,clear:ue,forEach:se(!1,!1)},t={get:function(e){return te(this,e,!1,!0)},get size(){return re(this)},has:ne,add:ie,set:ae,delete:oe,clear:ue,forEach:se(!1,!0)},n={get:function(e){return te(this,e,!0)},get size(){return re(this,!0)},has:function(e){return ne.call(this,e,!0)},add:le("add"),set:le("set"),delete:le("delete"),clear:le("clear"),forEach:se(!0,!1)},r={get:function(e){return te(this,e,!0,!0)},get size(){return re(this,!0)},has:function(e){return ne.call(this,e,!0)},add:le("add"),set:le("set"),delete:le("delete"),clear:le("clear"),forEach:se(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach((function(i){e[i]=ce(i,!1,!1),n[i]=ce(i,!0,!1),t[i]=ce(i,!1,!0),r[i]=ce(i,!0,!0)})),[e,n,t,r]}var he=fe(),de=(0,i.Z)(he,4),pe=de[0],ve=de[1],ge=de[2],ye=de[3];function me(e,t){var n=t?e?ye:ge:e?ve:pe;return function(t,r,i){return"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get((0,l.RI)(n,r)&&r in t?n:t,r,i)}}var ke={get:me(!1,!1)},we={get:me(!1,!0)},be={get:me(!0,!1)};var _e=new WeakMap,xe=new WeakMap,Ie=new WeakMap,Ee=new WeakMap;function Ze(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Te(e){return e["__v_skip"]||!Object.isExtensible(e)?0:Ze((0,l.W7)(e))}function Se(e){return Ne(e)?e:Re(e,!1,Q,ke,_e)}function Ae(e){return Re(e,!1,X,we,xe)}function Ce(e){return Re(e,!0,J,be,Ie)}function Re(e,t,n,r,i){if(!(0,l.Kn)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;var a=i.get(e);if(a)return a;var o=Te(e);if(0===o)return e;var u=new Proxy(e,2===o?r:n);return i.set(e,u),u}function Oe(e){return Ne(e)?Oe(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function Ne(e){return!(!e||!e["__v_isReadonly"])}function De(e){return!(!e||!e["__v_isShallow"])}function Pe(e){return Oe(e)||Ne(e)}function Le(e){var t=e&&e["__v_raw"];return t?Le(t):e}function Me(e){return(0,l.Nj)(e,"__v_skip",!0),e}var Ue=function(e){return(0,l.Kn)(e)?Se(e):e},Fe=function(e){return(0,l.Kn)(e)?Ce(e):e};function je(e){T&&d&&(e=Le(e),O(e.dep||(e.dep=p())))}function Ve(e,t){e=Le(e),e.dep&&D(e.dep)}function Be(e){return!(!e||!0!==e.__v_isRef)}function qe(e){return Be(e)?e.value:e}var ze={get:function(e,t,n){return qe(Reflect.get(e,t,n))},set:function(e,t,n,r){var i=e[t];return Be(i)&&!Be(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Ge(e){return Oe(e)?e:new Proxy(e,ze)}var Ke=function(){function e(t,n,r,i){var a=this;(0,s.Z)(this,e),this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new E(t,(function(){a._dirty||(a._dirty=!0,Ve(a))})),this.effect.computed=this,this.effect.active=this._cacheable=!i,this["__v_isReadonly"]=r}return(0,c.Z)(e,[{key:"value",get:function(){var e=Le(this);return je(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value},set:function(e){this._setter(e)}}]),e}();function He(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=(0,l.mf)(e);a?(n=e,r=l.dG):(n=e.get,r=e.set);var o=new Ke(n,r,a||!r,i);return o}},3396:function(e,t,n){"use strict";n.d(t,{$d:function(){return h},FN:function(){return kn},HY:function(){return jt},Ko:function(){return qe},P$:function(){return he},Q6:function(){return me},U2:function(){return pe},Us:function(){return At},Wm:function(){return an},Y8:function(){return ce},_:function(){return rn},h:function(){return Ln},iD:function(){return Jt},ic:function(){return Ne},nK:function(){return ye},wg:function(){return Kt},wy:function(){return je}});var r,i=n(3336),a=n(4621),o=n(6347),u=n(2482),s=n(8478),c=(n(9600),n(1249),n(2222),n(1539),n(4747),n(7941),n(7042),n(8862),n(8309),n(6699),n(561),n(2023),n(189),n(8783),n(3948),n(1532),n(2707),n(6755),n(3210),n(4916),n(5306),n(1703),n(5218),n(7327),n(3123),n(3680),n(3706),n(2703),n(2526),n(1817),n(4603),n(8450),n(8386),n(9714),n(9653),n(7601),n(3161),n(2165),n(1038),n(9596),n(1299),n(7318),n(543),n(4723),n(4553),n(4129),n(7852),n(3371),n(4870)),l=n(7139);r={},(0,u.Z)(r,"sp","serverPrefetch hook"),(0,u.Z)(r,"bc","beforeCreate hook"),(0,u.Z)(r,"c","created hook"),(0,u.Z)(r,"bm","beforeMount hook"),(0,u.Z)(r,"m","mounted hook"),(0,u.Z)(r,"bu","beforeUpdate hook"),(0,u.Z)(r,"u","updated"),(0,u.Z)(r,"bum","beforeUnmount hook"),(0,u.Z)(r,"um","unmounted hook"),(0,u.Z)(r,"a","activated hook"),(0,u.Z)(r,"da","deactivated hook"),(0,u.Z)(r,"ec","errorCaptured hook"),(0,u.Z)(r,"rtc","renderTracked hook"),(0,u.Z)(r,"rtg","renderTriggered hook"),(0,u.Z)(r,0,"setup function"),(0,u.Z)(r,1,"render function"),(0,u.Z)(r,2,"watcher getter"),(0,u.Z)(r,3,"watcher callback"),(0,u.Z)(r,4,"watcher cleanup function"),(0,u.Z)(r,5,"native event handler"),(0,u.Z)(r,6,"component event handler"),(0,u.Z)(r,7,"vnode hook"),(0,u.Z)(r,8,"directive hook"),(0,u.Z)(r,9,"transition hook"),(0,u.Z)(r,10,"app errorHandler"),(0,u.Z)(r,11,"app warnHandler"),(0,u.Z)(r,12,"ref function"),(0,u.Z)(r,13,"async component loader"),(0,u.Z)(r,14,"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core");function f(e,t,n,r){var i;try{i=r?e.apply(void 0,(0,s.Z)(r)):e()}catch(a){d(a,t,n)}return i}function h(e,t,n,r){if((0,l.mf)(e)){var i=f(e,t,n,r);return i&&(0,l.tI)(i)&&i.catch((function(e){d(e,t,n)})),i}for(var a=[],o=0;o<e.length;o++)a.push(h(e[o],t,n,r));return a}function d(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=t?t.vnode:null;if(t){var a=t.parent,o=t.proxy,u=n;while(a){var s=a.ec;if(s)for(var c=0;c<s.length;c++)if(!1===s[c](e,o,u))return;a=a.parent}var l=t.appContext.config.errorHandler;if(l)return void f(l,null,10,[e,o,u])}p(e,n,i,r)}function p(e,t,n){console.error(e)}var v=!1,g=!1,y=[],m=0,k=[],w=null,b=0,_=[],x=null,I=0,E=Promise.resolve(),Z=null,T=null;function S(e){var t=Z||E;return e?t.then(this?e.bind(this):e):t}function A(e){var t=m+1,n=y.length;while(t<n){var r=t+n>>>1,i=U(y[r]);i<e?t=r+1:n=r}return t}function C(e){y.length&&y.includes(e,v&&e.allowRecurse?m+1:m)||e===T||(null==e.id?y.push(e):y.splice(A(e.id),0,e),R())}function R(){v||g||(g=!0,Z=E.then(F))}function O(e){var t=y.indexOf(e);t>m&&y.splice(t,1)}function N(e,t,n,r){(0,l.kJ)(e)?n.push.apply(n,(0,s.Z)(e)):t&&t.includes(e,e.allowRecurse?r+1:r)||n.push(e),R()}function D(e){N(e,w,k,b)}function P(e){N(e,x,_,I)}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(k.length){for(T=t,w=(0,s.Z)(new Set(k)),k.length=0,b=0;b<w.length;b++)w[b]();w=null,b=0,T=null,L(e,t)}}function M(e){if(L(),_.length){var t,n=(0,s.Z)(new Set(_));if(_.length=0,x)return void(t=x).push.apply(t,(0,s.Z)(n));for(x=n,x.sort((function(e,t){return U(e)-U(t)})),I=0;I<x.length;I++)x[I]();x=null,I=0}}var U=function(e){return null==e.id?1/0:e.id};function F(e){g=!1,v=!0,L(e),y.sort((function(e,t){return U(e)-U(t)}));l.dG;try{for(m=0;m<y.length;m++){var t=y[m];t&&!1!==t.active&&f(t,null,14)}}finally{m=0,y.length=0,M(e),v=!1,Z=null,(y.length||k.length||_.length)&&F(e)}}new Set;new Map;function j(e,t){if(!e.isUnmounted){for(var n=e.vnode.props||l.kT,r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];var o,u=i,s=t.startsWith("update:"),c=s&&t.slice(7);if(c&&c in n){var f="".concat("modelValue"===c?"model":c,"Modifiers"),d=n[f]||l.kT,p=d.number,v=d.trim;v&&(u=i.map((function(e){return e.trim()}))),p&&(u=i.map(l.He))}0;var g=n[o=(0,l.hR)(t)]||n[o=(0,l.hR)((0,l._A)(t))];!g&&s&&(g=n[o=(0,l.hR)((0,l.rs)(t))]),g&&h(g,e,6,u);var y=n[o+"Once"];if(y){if(e.emitted){if(e.emitted[o])return}else e.emitted={};e.emitted[o]=!0,h(y,e,6,u)}}}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.emitsCache,i=r.get(e);if(void 0!==i)return i;var a=e.emits,o={},u=!1;if(!(0,l.mf)(e)){var s=function(e){var n=V(e,t,!0);n&&(u=!0,(0,l.l7)(o,n))};!n&&t.mixins.length&&t.mixins.forEach(s),e.extends&&s(e.extends),e.mixins&&e.mixins.forEach(s)}return a||u?((0,l.kJ)(a)?a.forEach((function(e){return o[e]=null})):(0,l.l7)(o,a),r.set(e,o),o):(r.set(e,null),null)}function B(e,t){return!(!e||!(0,l.F7)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,l.RI)(e,t[0].toLowerCase()+t.slice(1))||(0,l.RI)(e,(0,l.rs)(t))||(0,l.RI)(e,t))}var q=null,z=null;function G(e){var t=q;return q=e,z=e&&e.type.__scopeId||null,t}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q;if(!t)return e;if(e._n)return e;var n=function n(){n._d&&Yt(-1);var r=G(t),i=e.apply(void 0,arguments);return G(r),n._d&&Yt(1),i};return n._n=!0,n._c=!0,n._d=!0,n}function H(e){var t,n,r=e.type,i=e.vnode,o=e.proxy,u=e.withProxy,s=e.props,c=(0,a.Z)(e.propsOptions,1),f=c[0],h=e.slots,p=e.attrs,v=e.emit,g=e.render,y=e.renderCache,m=e.data,k=e.setupState,w=e.ctx,b=e.inheritAttrs,_=G(e);try{if(4&i.shapeFlag){var x=u||o;t=ln(g.call(x,x,y,s,k,m,w)),n=p}else{var I=r;0,t=ln(I.length>1?I(s,{attrs:p,slots:h,emit:v}):I(s,null)),n=r.props?p:W(p)}}catch(A){zt.length=0,d(A,e,1),t=an(Bt)}var E=t;if(n&&!1!==b){var Z=Object.keys(n),T=E,S=T.shapeFlag;if(Z.length)if(7&S)f&&Z.some(l.tR)&&(n=Y(n,f)),E=sn(E,n);else;}return i.dirs&&(E=sn(E),E.dirs=E.dirs?E.dirs.concat(i.dirs):i.dirs),i.transition&&(E.transition=i.transition),t=E,G(_),t}var W=function(e){var t;for(var n in e)("class"===n||"style"===n||(0,l.F7)(n))&&((t||(t={}))[n]=e[n]);return t},Y=function(e,t){var n={};for(var r in e)(0,l.tR)(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function Q(e,t,n){var r=e.props,i=e.children,a=e.component,o=t.props,u=t.children,s=t.patchFlag,c=a.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&s>=0))return!(!i&&!u||u&&u.$stable)||r!==o&&(r?!o||J(r,o,c):!!o);if(1024&s)return!0;if(16&s)return r?J(r,o,c):!!o;if(8&s)for(var l=t.dynamicProps,f=0;f<l.length;f++){var h=l[f];if(o[h]!==r[h]&&!B(c,h))return!0}return!1}function J(e,t,n){var r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(var i=0;i<r.length;i++){var a=r[i];if(t[a]!==e[a]&&!B(n,a))return!0}return!1}function X(e,t){var n=e.vnode,r=e.parent;while(r&&r.subTree===n)(n=r.vnode).el=t,r=r.parent}var $=function(e){return e.__isSuspense};function ee(e,t){var n;t&&t.pendingBranch?(0,l.kJ)(e)?(n=t.effects).push.apply(n,(0,s.Z)(e)):t.effects.push(e):P(e)}function te(e,t){if(mn){var n=mn.provides,r=mn.parent&&mn.parent.provides;r===n&&(n=mn.provides=Object.create(r)),n[e]=t}else 0}function ne(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=mn||q;if(r){var i=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&(0,l.mf)(t)?t.call(r.proxy):t}else 0}var re={};function ie(e,t,n){return ae(e,t,n)}function ae(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.kT,r=n.immediate,i=n.deep,a=n.flush;n.onTrack,n.onTrigger;var o,u,s=mn,d=!1,p=!1;if((0,c.dq)(e)?(o=function(){return e.value},d=(0,c.yT)(e)):(0,c.PG)(e)?(o=function(){return e},i=!0):(0,l.kJ)(e)?(p=!0,d=e.some((function(e){return(0,c.PG)(e)||(0,c.yT)(e)})),o=function(){return e.map((function(e){return(0,c.dq)(e)?e.value:(0,c.PG)(e)?se(e):(0,l.mf)(e)?f(e,s,2):void 0}))}):o=(0,l.mf)(e)?t?function(){return f(e,s,2)}:function(){if(!s||!s.isUnmounted)return u&&u(),h(e,s,3,[g])}:l.dG,t&&i){var v=o;o=function(){return se(v())}}var g=function(e){u=w.onStop=function(){f(e,s,4)}};if(En)return g=l.dG,t?r&&h(t,s,3,[o(),p?[]:void 0,g]):o(),l.dG;var y,m=p?[]:re,k=function(){if(w.active)if(t){var e=w.run();(i||d||(p?e.some((function(e,t){return(0,l.aU)(e,m[t])})):(0,l.aU)(e,m)))&&(u&&u(),h(t,s,3,[e,m===re?void 0:m,g]),m=e)}else w.run()};k.allowRecurse=!!t,y="sync"===a?k:"post"===a?function(){return St(k,s&&s.suspense)}:function(){return D(k)};var w=new c.qq(o,y);return t?r?k():m=w.run():"post"===a?St(w.run.bind(w),s&&s.suspense):w.run(),function(){w.stop(),s&&s.scope&&(0,l.Od)(s.scope.effects,w)}}function oe(e,t,n){var r,i=this.proxy,a=(0,l.HD)(e)?e.includes(".")?ue(i,e):function(){return i[e]}:e.bind(i,i);(0,l.mf)(t)?r=t:(r=t.handler,n=t);var o=mn;wn(this);var u=ae(a,r.bind(i),n);return o?wn(o):bn(),u}function ue(e,t){var n=t.split(".");return function(){for(var t=e,r=0;r<n.length&&t;r++)t=t[n[r]];return t}}function se(e,t){if(!(0,l.Kn)(e)||e["__v_skip"])return e;if(t=t||new Set,t.has(e))return e;if(t.add(e),(0,c.dq)(e))se(e.value,t);else if((0,l.kJ)(e))for(var n=0;n<e.length;n++)se(e[n],t);else if((0,l.DM)(e)||(0,l._N)(e))e.forEach((function(e){se(e,t)}));else if((0,l.PO)(e))for(var r in e)se(e[r],t);return e}function ce(){var e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Re((function(){e.isMounted=!0})),De((function(){e.isUnmounting=!0})),e}var le=[Function,Array],fe={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:le,onEnter:le,onAfterEnter:le,onEnterCancelled:le,onBeforeLeave:le,onLeave:le,onAfterLeave:le,onLeaveCancelled:le,onBeforeAppear:le,onAppear:le,onAfterAppear:le,onAppearCancelled:le},setup:function(e,t){var n,r=t.slots,i=kn(),a=ce();return function(){var t=r.default&&me(r.default(),!0);if(t&&t.length){var u=t[0];if(t.length>1){var s,l=(0,o.Z)(t);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(f.type!==Bt){0,u=f,!0;break}}}catch(_){l.e(_)}finally{l.f()}}var h=(0,c.IU)(e),d=h.mode;if(a.isLeaving)return ve(u);var p=ge(u);if(!p)return ve(u);var v=pe(p,h,a,i);ye(p,v);var g=i.subTree,y=g&&ge(g),m=!1,k=p.type.getTransitionKey;if(k){var w=k();void 0===n?n=w:w!==n&&(n=w,m=!0)}if(y&&y.type!==Bt&&(!$t(p,y)||m)){var b=pe(y,h,a,i);if(ye(y,b),"out-in"===d)return a.isLeaving=!0,b.afterLeave=function(){a.isLeaving=!1,i.update()},ve(u);"in-out"===d&&p.type!==Bt&&(b.delayLeave=function(e,t,n){var r=de(a,y);r[String(y.key)]=y,e._leaveCb=function(){t(),e._leaveCb=void 0,delete v.delayedLeave},v.delayedLeave=n})}return u}}}},he=fe;function de(e,t){var n=e.leavingVNodes,r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function pe(e,t,n,r){var i=t.appear,a=t.mode,o=t.persisted,u=void 0!==o&&o,s=t.onBeforeEnter,c=t.onEnter,f=t.onAfterEnter,d=t.onEnterCancelled,p=t.onBeforeLeave,v=t.onLeave,g=t.onAfterLeave,y=t.onLeaveCancelled,m=t.onBeforeAppear,k=t.onAppear,w=t.onAfterAppear,b=t.onAppearCancelled,_=String(e.key),x=de(n,e),I=function(e,t){e&&h(e,r,9,t)},E=function(e,t){var n=t[1];I(e,t),(0,l.kJ)(e)?e.every((function(e){return e.length<=1}))&&n():e.length<=1&&n()},Z={mode:a,persisted:u,beforeEnter:function(t){var r=s;if(!n.isMounted){if(!i)return;r=m||s}t._leaveCb&&t._leaveCb(!0);var a=x[_];a&&$t(e,a)&&a.el._leaveCb&&a.el._leaveCb(),I(r,[t])},enter:function(e){var t=c,r=f,a=d;if(!n.isMounted){if(!i)return;t=k||c,r=w||f,a=b||d}var o=!1,u=e._enterCb=function(t){o||(o=!0,I(t?a:r,[e]),Z.delayedLeave&&Z.delayedLeave(),e._enterCb=void 0)};t?E(t,[e,u]):u()},leave:function(t,r){var i=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();I(p,[t]);var a=!1,o=t._leaveCb=function(n){a||(a=!0,r(),I(n?y:g,[t]),t._leaveCb=void 0,x[i]===e&&delete x[i])};x[i]=e,v?E(v,[t,o]):o()},clone:function(e){return pe(e,t,n,r)}};return Z}function ve(e){if(we(e))return e=sn(e),e.children=null,e}function ge(e){return we(e)?e.children?e.children[0]:void 0:e}function ye(e,t){6&e.shapeFlag&&e.component?ye(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function me(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=[],i=0,a=0;a<e.length;a++){var o=e[a],u=null==n?o.key:String(n)+String(null!=o.key?o.key:a);o.type===jt?(128&o.patchFlag&&i++,r=r.concat(me(o.children,t,u))):(t||o.type!==Bt)&&r.push(null!=u?sn(o,{key:u}):o)}if(i>1)for(var s=0;s<r.length;s++)r[s].patchFlag=-2;return r}var ke=function(e){return!!e.type.__asyncLoader};var we=function(e){return e.type.__isKeepAlive};RegExp,RegExp;function be(e,t){return(0,l.kJ)(e)?e.some((function(e){return be(e,t)})):(0,l.HD)(e)?e.split(",").includes(t):!!e.test&&e.test(t)}function _e(e,t){Ie(e,"a",t)}function xe(e,t){Ie(e,"da",t)}function Ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mn,r=e.__wdc||(e.__wdc=function(){var t=n;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(Se(t,r,n),n){var i=n.parent;while(i&&i.parent)we(i.parent.vnode)&&Ee(r,t,n,i),i=i.parent}}function Ee(e,t,n,r){var i=Se(t,e,r,!0);Pe((function(){(0,l.Od)(r[t],i)}),n)}function Ze(e){var t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function Te(e){return 128&e.shapeFlag?e.ssContent:e}function Se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mn,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(n){var i=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=function(){if(!n.isUnmounted){(0,c.Jd)(),wn(n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=h(t,n,e,i);return bn(),(0,c.lk)(),o}});return r?i.unshift(a):i.push(a),a}}var Ae=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mn;return(!En||"sp"===e)&&Se(e,t,n)}},Ce=Ae("bm"),Re=Ae("m"),Oe=Ae("bu"),Ne=Ae("u"),De=Ae("bum"),Pe=Ae("um"),Le=Ae("sp"),Me=Ae("rtg"),Ue=Ae("rtc");function Fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mn;Se("ec",e,t)}function je(e,t){var n=q;if(null===n)return e;for(var r=On(n)||n.proxy,i=e.dirs||(e.dirs=[]),o=0;o<t.length;o++){var u=(0,a.Z)(t[o],4),s=u[0],c=u[1],f=u[2],h=u[3],d=void 0===h?l.kT:h;(0,l.mf)(s)&&(s={mounted:s,updated:s}),s.deep&&se(c),i.push({dir:s,instance:r,value:c,oldValue:void 0,arg:f,modifiers:d})}return e}function Ve(e,t,n,r){for(var i=e.dirs,a=t&&t.dirs,o=0;o<i.length;o++){var u=i[o];a&&(u.oldValue=a[o].value);var s=u.dir[r];s&&((0,c.Jd)(),h(s,n,8,[e.el,u,e,t]),(0,c.lk)())}}var Be=Symbol();function qe(e,t,n,r){var i,a=n&&n[r];if((0,l.kJ)(e)||(0,l.HD)(e)){i=new Array(e.length);for(var o=0,u=e.length;o<u;o++)i[o]=t(e[o],o,void 0,a&&a[o])}else if("number"===typeof e){0,i=new Array(e);for(var s=0;s<e;s++)i[s]=t(s+1,s,void 0,a&&a[s])}else if((0,l.Kn)(e))if(e[Symbol.iterator])i=Array.from(e,(function(e,n){return t(e,n,void 0,a&&a[n])}));else{var c=Object.keys(e);i=new Array(c.length);for(var f=0,h=c.length;f<h;f++){var d=c[f];i[f]=t(e[d],d,f,a&&a[f])}}else i=[];return n&&(n[r]=i),i}var ze=function e(t){return t?_n(t)?On(t)||t.proxy:e(t.parent):null},Ge=(0,l.l7)(Object.create(null),{$:function(e){return e},$el:function(e){return e.vnode.el},$data:function(e){return e.data},$props:function(e){return e.props},$attrs:function(e){return e.attrs},$slots:function(e){return e.slots},$refs:function(e){return e.refs},$parent:function(e){return ze(e.parent)},$root:function(e){return ze(e.root)},$emit:function(e){return e.emit},$options:function(e){return Xe(e)},$forceUpdate:function(e){return e.f||(e.f=function(){return C(e.update)})},$nextTick:function(e){return e.n||(e.n=S.bind(e.proxy))},$watch:function(e){return oe.bind(e)}}),Ke={get:function(e,t){var n,r=e._,i=r.ctx,a=r.setupState,o=r.data,u=r.props,s=r.accessCache,f=r.type,h=r.appContext;if("$"!==t[0]){var d=s[t];if(void 0!==d)switch(d){case 1:return a[t];case 2:return o[t];case 4:return i[t];case 3:return u[t]}else{if(a!==l.kT&&(0,l.RI)(a,t))return s[t]=1,a[t];if(o!==l.kT&&(0,l.RI)(o,t))return s[t]=2,o[t];if((n=r.propsOptions[0])&&(0,l.RI)(n,t))return s[t]=3,u[t];if(i!==l.kT&&(0,l.RI)(i,t))return s[t]=4,i[t];He&&(s[t]=0)}}var p,v,g=Ge[t];return g?("$attrs"===t&&(0,c.j)(r,"get",t),g(r)):(p=f.__cssModules)&&(p=p[t])?p:i!==l.kT&&(0,l.RI)(i,t)?(s[t]=4,i[t]):(v=h.config.globalProperties,(0,l.RI)(v,t)?v[t]:void 0)},set:function(e,t,n){var r=e._,i=r.data,a=r.setupState,o=r.ctx;return a!==l.kT&&(0,l.RI)(a,t)?(a[t]=n,!0):i!==l.kT&&(0,l.RI)(i,t)?(i[t]=n,!0):!(0,l.RI)(r.props,t)&&(("$"!==t[0]||!(t.slice(1)in r))&&(o[t]=n,!0))},has:function(e,t){var n,r=e._,i=r.data,a=r.setupState,o=r.accessCache,u=r.ctx,s=r.appContext,c=r.propsOptions;return!!o[t]||i!==l.kT&&(0,l.RI)(i,t)||a!==l.kT&&(0,l.RI)(a,t)||(n=c[0])&&(0,l.RI)(n,t)||(0,l.RI)(u,t)||(0,l.RI)(Ge,t)||(0,l.RI)(s.config.globalProperties,t)},defineProperty:function(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,l.RI)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};var He=!0;function We(e){var t=Xe(e),n=e.proxy,r=e.ctx;He=!1,t.beforeCreate&&Qe(t.beforeCreate,e,"bc");var i=t.data,a=t.computed,o=t.methods,u=t.watch,s=t.provide,f=t.inject,h=t.created,d=t.beforeMount,p=t.mounted,v=t.beforeUpdate,g=t.updated,y=t.activated,m=t.deactivated,k=(t.beforeDestroy,t.beforeUnmount),w=(t.destroyed,t.unmounted),b=t.render,_=t.renderTracked,x=t.renderTriggered,I=t.errorCaptured,E=t.serverPrefetch,Z=t.expose,T=t.inheritAttrs,S=t.components,A=t.directives,C=(t.filters,null);if(f&&Ye(f,r,C,e.appContext.config.unwrapInjectedRef),o)for(var R in o){var O=o[R];(0,l.mf)(O)&&(r[R]=O.bind(n))}if(i&&function(){var t=i.call(n,n);(0,l.Kn)(t)&&(e.data=(0,c.qj)(t))}(),He=!0,a){var N=function(e){var t=a[e],i=(0,l.mf)(t)?t.bind(n,n):(0,l.mf)(t.get)?t.get.bind(n,n):l.dG;var o=!(0,l.mf)(t)&&(0,l.mf)(t.set)?t.set.bind(n):l.dG,u=Pn({get:i,set:o});Object.defineProperty(r,e,{enumerable:!0,configurable:!0,get:function(){return u.value},set:function(e){return u.value=e}})};for(var D in a)N(D)}if(u)for(var P in u)Je(u[P],r,n,P);if(s){var L=(0,l.mf)(s)?s.call(n):s;Reflect.ownKeys(L).forEach((function(e){te(e,L[e])}))}function M(e,t){(0,l.kJ)(t)?t.forEach((function(t){return e(t.bind(n))})):t&&e(t.bind(n))}if(h&&Qe(h,e,"c"),M(Ce,d),M(Re,p),M(Oe,v),M(Ne,g),M(_e,y),M(xe,m),M(Fe,I),M(Ue,_),M(Me,x),M(De,k),M(Pe,w),M(Le,E),(0,l.kJ)(Z))if(Z.length){var U=e.exposed||(e.exposed={});Z.forEach((function(e){Object.defineProperty(U,e,{get:function(){return n[e]},set:function(t){return n[e]=t}})}))}else e.exposed||(e.exposed={});b&&e.render===l.dG&&(e.render=b),null!=T&&(e.inheritAttrs=T),S&&(e.components=S),A&&(e.directives=A)}function Ye(e,t){arguments.length>2&&void 0!==arguments[2]||l.dG;var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,l.kJ)(e)&&(e=rt(e));var r=function(r){var i=e[r],a=void 0;a=(0,l.Kn)(i)?"default"in i?ne(i.from||r,i.default,!0):ne(i.from||r):ne(i),(0,c.dq)(a)&&n?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:function(){return a.value},set:function(e){return a.value=e}}):t[r]=a};for(var i in e)r(i)}function Qe(e,t,n){h((0,l.kJ)(e)?e.map((function(e){return e.bind(t.proxy)})):e.bind(t.proxy),t,n)}function Je(e,t,n,r){var i=r.includes(".")?ue(n,r):function(){return n[r]};if((0,l.HD)(e)){var a=t[e];(0,l.mf)(a)&&ie(i,a)}else if((0,l.mf)(e))ie(i,e.bind(n));else if((0,l.Kn)(e))if((0,l.kJ)(e))e.forEach((function(e){return Je(e,t,n,r)}));else{var o=(0,l.mf)(e.handler)?e.handler.bind(n):t[e.handler];(0,l.mf)(o)&&ie(i,o,e)}else 0}function Xe(e){var t,n=e.type,r=n.mixins,i=n.extends,a=e.appContext,o=a.mixins,u=a.optionsCache,s=a.config.optionMergeStrategies,c=u.get(n);return c?t=c:o.length||r||i?(t={},o.length&&o.forEach((function(e){return $e(t,e,s,!0)})),$e(t,n,s)):t=n,u.set(n,t),t}function $e(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t.mixins,a=t.extends;for(var o in a&&$e(e,a,n,!0),i&&i.forEach((function(t){return $e(e,t,n,!0)})),t)if(r&&"expose"===o);else{var u=et[o]||n&&n[o];e[o]=u?u(e[o],t[o]):t[o]}return e}var et={data:tt,props:at,emits:at,methods:at,computed:at,beforeCreate:it,created:it,beforeMount:it,mounted:it,beforeUpdate:it,updated:it,beforeDestroy:it,beforeUnmount:it,destroyed:it,unmounted:it,activated:it,deactivated:it,errorCaptured:it,serverPrefetch:it,components:at,directives:at,watch:ot,provide:tt,inject:nt};function tt(e,t){return t?e?function(){return(0,l.l7)((0,l.mf)(e)?e.call(this,this):e,(0,l.mf)(t)?t.call(this,this):t)}:t:e}function nt(e,t){return at(rt(e),rt(t))}function rt(e){if((0,l.kJ)(e)){for(var t={},n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function it(e,t){return e?(0,s.Z)(new Set([].concat(e,t))):t}function at(e,t){return e?(0,l.l7)((0,l.l7)(Object.create(null),e),t):t}function ot(e,t){if(!e)return t;if(!t)return e;var n=(0,l.l7)(Object.create(null),e);for(var r in t)n[r]=it(e[r],t[r]);return n}function ut(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i={},a={};for(var o in(0,l.Nj)(a,en,1),e.propsDefaults=Object.create(null),ct(e,t,i,a),e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=r?i:(0,c.Um)(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function st(e,t,n,r){var i=e.props,o=e.attrs,u=e.vnode.patchFlag,s=(0,c.IU)(i),f=(0,a.Z)(e.propsOptions,1),h=f[0],d=!1;if(!(r||u>0)||16&u){var p;for(var v in ct(e,t,i,o)&&(d=!0),s)t&&((0,l.RI)(t,v)||(p=(0,l.rs)(v))!==v&&(0,l.RI)(t,p))||(h?!n||void 0===n[v]&&void 0===n[p]||(i[v]=lt(h,s,v,void 0,e,!0)):delete i[v]);if(o!==s)for(var g in o)t&&(0,l.RI)(t,g)||(delete o[g],d=!0)}else if(8&u)for(var y=e.vnode.dynamicProps,m=0;m<y.length;m++){var k=y[m];if(!B(e.emitsOptions,k)){var w=t[k];if(h)if((0,l.RI)(o,k))w!==o[k]&&(o[k]=w,d=!0);else{var b=(0,l._A)(k);i[b]=lt(h,s,b,w,e,!1)}else w!==o[k]&&(o[k]=w,d=!0)}}d&&(0,c.X$)(e,"set","$attrs")}function ct(e,t,n,r){var i,o=(0,a.Z)(e.propsOptions,2),u=o[0],s=o[1],f=!1;if(t)for(var h in t)if(!(0,l.Gg)(h)){var d=t[h],p=void 0;u&&(0,l.RI)(u,p=(0,l._A)(h))?s&&s.includes(p)?(i||(i={}))[p]=d:n[p]=d:B(e.emitsOptions,h)||h in r&&d===r[h]||(r[h]=d,f=!0)}if(s)for(var v=(0,c.IU)(n),g=i||l.kT,y=0;y<s.length;y++){var m=s[y];n[m]=lt(u,v,m,g[m],e,!(0,l.RI)(g,m))}return f}function lt(e,t,n,r,i,a){var o=e[n];if(null!=o){var u=(0,l.RI)(o,"default");if(u&&void 0===r){var s=o.default;if(o.type!==Function&&(0,l.mf)(s)){var c=i.propsDefaults;n in c?r=c[n]:(wn(i),r=c[n]=s.call(null,t),bn())}else r=s}o[0]&&(a&&!u?r=!1:!o[1]||""!==r&&r!==(0,l.rs)(n)||(r=!0))}return r}function ft(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.propsCache,i=r.get(e);if(i)return i;var o=e.props,u={},c=[],f=!1;if(!(0,l.mf)(e)){var h=function(e){f=!0;var n=ft(e,t,!0),r=(0,a.Z)(n,2),i=r[0],o=r[1];(0,l.l7)(u,i),o&&c.push.apply(c,(0,s.Z)(o))};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!o&&!f)return r.set(e,l.Z6),l.Z6;if((0,l.kJ)(o))for(var d=0;d<o.length;d++){0;var p=(0,l._A)(o[d]);ht(p)&&(u[p]=l.kT)}else if(o)for(var v in o){var g=(0,l._A)(v);if(ht(g)){var y=o[v],m=u[g]=(0,l.kJ)(y)||(0,l.mf)(y)?{type:y}:y;if(m){var k=vt(Boolean,m.type),w=vt(String,m.type);m[0]=k>-1,m[1]=w<0||k<w,(k>-1||(0,l.RI)(m,"default"))&&c.push(g)}}}var b=[u,c];return r.set(e,b),b}function ht(e){return"$"!==e[0]}function dt(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function pt(e,t){return dt(e)===dt(t)}function vt(e,t){return(0,l.kJ)(t)?t.findIndex((function(t){return pt(t,e)})):(0,l.mf)(t)&&pt(t,e)?0:-1}var gt=function(e){return"_"===e[0]||"$stable"===e},yt=function(e){return(0,l.kJ)(e)?e.map(ln):[ln(e)]},mt=function(e,t,n){if(t._n)return t;var r=K((function(){return yt(t.apply(void 0,arguments))}),n);return r._c=!1,r},kt=function(e,t,n){var r=e._ctx;for(var i in e)if(!gt(i)){var a=e[i];(0,l.mf)(a)?t[i]=mt(i,a,r):null!=a&&function(){var e=yt(a);t[i]=function(){return e}}()}},wt=function(e,t){var n=yt(t);e.slots.default=function(){return n}},bt=function(e,t){if(32&e.vnode.shapeFlag){var n=t._;n?(e.slots=(0,c.IU)(t),(0,l.Nj)(t,"_",n)):kt(t,e.slots={})}else e.slots={},t&&wt(e,t);(0,l.Nj)(e.slots,en,1)},_t=function(e,t,n){var r=e.vnode,i=e.slots,a=!0,o=l.kT;if(32&r.shapeFlag){var u=t._;u?n&&1===u?a=!1:((0,l.l7)(i,t),n||1!==u||delete i._):(a=!t.$stable,kt(t,i)),o=t}else t&&(wt(e,t),o={default:1});if(a)for(var s in i)gt(s)||s in o||delete i[s]};function xt(){return{app:null,config:{isNativeTag:l.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}var It=0;function Et(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,l.mf)(n)||(n=Object.assign({},n)),null==r||(0,l.Kn)(r)||(r=null);var i=xt(),a=new Set,o=!1,u=i.app={_uid:It++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:Mn,get config(){return i.config},set config(e){0},use:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a.has(e)||(e&&(0,l.mf)(e.install)?(a.add(e),e.install.apply(e,[u].concat(n))):(0,l.mf)(e)&&(a.add(e),e.apply(void 0,[u].concat(n)))),u},mixin:function(e){return i.mixins.includes(e)||i.mixins.push(e),u},component:function(e,t){return t?(i.components[e]=t,u):i.components[e]},directive:function(e,t){return t?(i.directives[e]=t,u):i.directives[e]},mount:function(a,s,c){if(!o){0;var l=an(n,r);return l.appContext=i,s&&t?t(l,a):e(l,a,c),o=!0,u._container=a,a.__vue_app__=u,On(l.component)||l.component.proxy}},unmount:function(){o&&(e(null,u._container),delete u._container.__vue_app__)},provide:function(e,t){return i.provides[e]=t,u}};return u}}function Zt(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,l.kJ)(e))e.forEach((function(e,a){return Zt(e,t&&((0,l.kJ)(t)?t[a]:t),n,r,i)}));else if(!ke(r)||i){var a=4&r.shapeFlag?On(r.component)||r.component.proxy:r.el,o=i?null:a,u=e.i,s=e.r;0;var h=t&&t.r,d=u.refs===l.kT?u.refs={}:u.refs,p=u.setupState;if(null!=h&&h!==s&&((0,l.HD)(h)?(d[h]=null,(0,l.RI)(p,h)&&(p[h]=null)):(0,c.dq)(h)&&(h.value=null)),(0,l.mf)(s))f(s,u,12,[o,d]);else{var v=(0,l.HD)(s),g=(0,c.dq)(s);if(v||g){var y=function(){if(e.f){var t=v?d[s]:s.value;i?(0,l.kJ)(t)&&(0,l.Od)(t,a):(0,l.kJ)(t)?t.includes(a)||t.push(a):v?(d[s]=[a],(0,l.RI)(p,s)&&(p[s]=d[s])):(s.value=[a],e.k&&(d[e.k]=s.value))}else v?(d[s]=o,(0,l.RI)(p,s)&&(p[s]=o)):(0,c.dq)(s)&&(s.value=o,e.k&&(d[e.k]=o))};o?(y.id=-1,St(y,n)):y()}else 0}}}function Tt(){}var St=ee;function At(e){return Ct(e)}function Ct(e,t){Tt();var n=(0,l.E9)();n.__VUE__=!0;var r,i,o=e.insert,u=e.remove,s=e.patchProp,f=e.createElement,h=e.createText,d=e.createComment,p=e.setText,v=e.setElementText,g=e.parentNode,y=e.nextSibling,m=e.setScopeId,k=void 0===m?l.dG:m,w=e.cloneNode,b=e.insertStaticContent,_=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:!!t.dynamicChildren;if(e!==t){e&&!$t(e,t)&&(r=re(e),J(e,i,a,!0),e=null),-2===t.patchFlag&&(s=!1,t.dynamicChildren=null);var c=t.type,l=t.ref,f=t.shapeFlag;switch(c){case Vt:x(e,t,n,r);break;case Bt:I(e,t,n,r);break;case qt:null==e&&E(t,n,r,o);break;case jt:F(e,t,n,r,i,a,o,u,s);break;default:1&f?S(e,t,n,r,i,a,o,u,s):6&f?j(e,t,n,r,i,a,o,u,s):(64&f||128&f)&&c.process(e,t,n,r,i,a,o,u,s,ae)}null!=l&&i&&Zt(l,e&&e.ref,a,t||e,!t)}},x=function(e,t,n,r){if(null==e)o(t.el=h(t.children),n,r);else{var i=t.el=e.el;t.children!==e.children&&p(i,t.children)}},I=function(e,t,n,r){null==e?o(t.el=d(t.children||""),n,r):t.el=e.el},E=function(e,t,n,r){var i=b(e.children,t,n,r,e.el,e.anchor),o=(0,a.Z)(i,2);e.el=o[0],e.anchor=o[1]},Z=function(e,t,n){var r,i=e.el,a=e.anchor;while(i&&i!==a)r=y(i),o(i,t,n),i=r;o(a,t,n)},T=function(e){var t,n=e.el,r=e.anchor;while(n&&n!==r)t=y(n),u(n),n=t;u(r)},S=function(e,t,n,r,i,a,o,u,s){o=o||"svg"===t.type,null==e?A(t,n,r,i,a,o,u,s):D(e,t,i,a,o,u,s)},A=function(e,t,n,r,i,a,u,c){var h,d,p=e.type,g=e.props,y=e.shapeFlag,m=e.transition,k=e.patchFlag,b=e.dirs;if(e.el&&void 0!==w&&-1===k)h=e.el=w(e.el);else{if(h=e.el=f(e.type,a,g&&g.is,g),8&y?v(h,e.children):16&y&&N(e.children,h,null,r,i,a&&"foreignObject"!==p,u,c),b&&Ve(e,null,r,"created"),g){for(var _ in g)"value"===_||(0,l.Gg)(_)||s(h,_,null,g[_],a,e.children,r,i,ne);"value"in g&&s(h,"value",null,g.value),(d=g.onVnodeBeforeMount)&&pn(d,r,e)}R(h,e,e.scopeId,u,r)}b&&Ve(e,null,r,"beforeMount");var x=(!i||i&&!i.pendingBranch)&&m&&!m.persisted;x&&m.beforeEnter(h),o(h,t,n),((d=g&&g.onVnodeMounted)||x||b)&&St((function(){d&&pn(d,r,e),x&&m.enter(h),b&&Ve(e,null,r,"mounted")}),i)},R=function e(t,n,r,i,a){if(r&&k(t,r),i)for(var o=0;o<i.length;o++)k(t,i[o]);if(a){var u=a.subTree;if(n===u){var s=a.vnode;e(t,s,s.scopeId,s.slotScopeIds,a.parent)}}},N=function(e,t,n,r,i,a,o,u){for(var s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,c=s;c<e.length;c++){var l=e[c]=u?fn(e[c]):ln(e[c]);_(null,l,t,n,r,i,a,o,u)}},D=function(e,t,n,r,i,a,o){var u=t.el=e.el,c=t.patchFlag,f=t.dynamicChildren,h=t.dirs;c|=16&e.patchFlag;var d,p=e.props||l.kT,g=t.props||l.kT;n&&Rt(n,!1),(d=g.onVnodeBeforeUpdate)&&pn(d,n,t,e),h&&Ve(t,e,n,"beforeUpdate"),n&&Rt(n,!0);var y=i&&"foreignObject"!==t.type;if(f?P(e.dynamicChildren,f,u,n,r,y,a):o||G(e,t,u,null,n,r,y,a,!1),c>0){if(16&c)U(u,t,p,g,n,r,i);else if(2&c&&p.class!==g.class&&s(u,"class",null,g.class,i),4&c&&s(u,"style",p.style,g.style,i),8&c)for(var m=t.dynamicProps,k=0;k<m.length;k++){var w=m[k],b=p[w],_=g[w];_===b&&"value"!==w||s(u,w,b,_,i,e.children,n,r,ne)}1&c&&e.children!==t.children&&v(u,t.children)}else o||null!=f||U(u,t,p,g,n,r,i);((d=g.onVnodeUpdated)||h)&&St((function(){d&&pn(d,n,t,e),h&&Ve(t,e,n,"updated")}),r)},P=function(e,t,n,r,i,a,o){for(var u=0;u<t.length;u++){var s=e[u],c=t[u],l=s.el&&(s.type===jt||!$t(s,c)||70&s.shapeFlag)?g(s.el):n;_(s,c,l,null,r,i,a,o,!0)}},U=function(e,t,n,r,i,a,o){if(n!==r){for(var u in r)if(!(0,l.Gg)(u)){var c=r[u],f=n[u];c!==f&&"value"!==u&&s(e,u,f,c,o,t.children,i,a,ne)}if(n!==l.kT)for(var h in n)(0,l.Gg)(h)||h in r||s(e,h,n[h],null,o,t.children,i,a,ne);"value"in r&&s(e,"value",n.value,r.value)}},F=function(e,t,n,r,i,a,u,s,c){var l=t.el=e?e.el:h(""),f=t.anchor=e?e.anchor:h(""),d=t.patchFlag,p=t.dynamicChildren,v=t.slotScopeIds;v&&(s=s?s.concat(v):v),null==e?(o(l,n,r),o(f,n,r),N(t.children,n,f,i,a,u,s,c)):d>0&&64&d&&p&&e.dynamicChildren?(P(e.dynamicChildren,p,n,i,a,u,s),(null!=t.key||i&&t===i.subTree)&&Ot(e,t,!0)):G(e,t,n,f,i,a,u,s,c)},j=function(e,t,n,r,i,a,o,u,s){t.slotScopeIds=u,null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,o,s):V(t,n,r,i,a,o,s):B(e,t,s)},V=function(e,t,n,r,i,a,o){var u=e.component=yn(e,r,i);if(we(e)&&(u.ctx.renderer=ae),Zn(u),u.asyncDep){if(i&&i.registerDep(u,q),!e.el){var s=u.subTree=an(Bt);I(null,s,t,n)}}else q(u,e,t,n,i,a,o)},B=function(e,t,n){var r=t.component=e.component;if(Q(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void z(r,t,n);r.next=t,O(r.update),r.update()}else t.el=e.el,r.vnode=t},q=function(e,t,n,r,a,o,u){var s=function(){if(e.isMounted){var s,c=e.next,f=e.bu,h=e.u,d=e.parent,p=e.vnode,v=c;0,Rt(e,!1),c?(c.el=p.el,z(e,c,u)):c=p,f&&(0,l.ir)(f),(s=c.props&&c.props.onVnodeBeforeUpdate)&&pn(s,d,c,p),Rt(e,!0);var y=H(e);0;var m=e.subTree;e.subTree=y,_(m,y,g(m.el),re(m),e,a,o),c.el=y.el,null===v&&X(e,y.el),h&&St(h,a),(s=c.props&&c.props.onVnodeUpdated)&&St((function(){return pn(s,d,c,p)}),a)}else{var k,w=t,b=w.el,x=w.props,I=e.bm,E=e.m,Z=e.parent,T=ke(t);if(Rt(e,!1),I&&(0,l.ir)(I),!T&&(k=x&&x.onVnodeBeforeMount)&&pn(k,Z,t),Rt(e,!0),b&&i){var S=function(){e.subTree=H(e),i(b,e.subTree,e,a,null)};T?t.type.__asyncLoader().then((function(){return!e.isUnmounted&&S()})):S()}else{0;var A=e.subTree=H(e);0,_(null,A,n,r,e,a,o),t.el=A.el}if(E&&St(E,a),!T&&(k=x&&x.onVnodeMounted)){var C=t;St((function(){return pn(k,Z,C)}),a)}(256&t.shapeFlag||Z&&ke(Z.vnode)&&256&Z.vnode.shapeFlag)&&e.a&&St(e.a,a),e.isMounted=!0,t=n=r=null}},f=e.effect=new c.qq(s,(function(){return C(h)}),e.scope),h=e.update=function(){return f.run()};h.id=e.uid,Rt(e,!0),h()},z=function(e,t,n){t.component=e;var r=e.vnode.props;e.vnode=t,e.next=null,st(e,t.props,r,n),_t(e,t.children,n),(0,c.Jd)(),L(void 0,e.update),(0,c.lk)()},G=function(e,t,n,r,i,a,o,u){var s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],c=e&&e.children,l=e?e.shapeFlag:0,f=t.children,h=t.patchFlag,d=t.shapeFlag;if(h>0){if(128&h)return void W(c,f,n,r,i,a,o,u,s);if(256&h)return void K(c,f,n,r,i,a,o,u,s)}8&d?(16&l&&ne(c,i,a),f!==c&&v(n,f)):16&l?16&d?W(c,f,n,r,i,a,o,u,s):ne(c,i,a,!0):(8&l&&v(n,""),16&d&&N(f,n,r,i,a,o,u,s))},K=function(e,t,n,r,i,a,o,u,s){e=e||l.Z6,t=t||l.Z6;var c,f=e.length,h=t.length,d=Math.min(f,h);for(c=0;c<d;c++){var p=t[c]=s?fn(t[c]):ln(t[c]);_(e[c],p,n,null,i,a,o,u,s)}f>h?ne(e,i,a,!0,!1,d):N(t,n,r,i,a,o,u,s,d)},W=function(e,t,n,r,i,a,o,u,s){var c=0,f=t.length,h=e.length-1,d=f-1;while(c<=h&&c<=d){var p=e[c],v=t[c]=s?fn(t[c]):ln(t[c]);if(!$t(p,v))break;_(p,v,n,null,i,a,o,u,s),c++}while(c<=h&&c<=d){var g=e[h],y=t[d]=s?fn(t[d]):ln(t[d]);if(!$t(g,y))break;_(g,y,n,null,i,a,o,u,s),h--,d--}if(c>h){if(c<=d){var m=d+1,k=m<f?t[m].el:r;while(c<=d)_(null,t[c]=s?fn(t[c]):ln(t[c]),n,k,i,a,o,u,s),c++}}else if(c>d)while(c<=h)J(e[c],i,a,!0),c++;else{var w,b=c,x=c,I=new Map;for(c=x;c<=d;c++){var E=t[c]=s?fn(t[c]):ln(t[c]);null!=E.key&&I.set(E.key,c)}var Z=0,T=d-x+1,S=!1,A=0,C=new Array(T);for(c=0;c<T;c++)C[c]=0;for(c=b;c<=h;c++){var R=e[c];if(Z>=T)J(R,i,a,!0);else{var O=void 0;if(null!=R.key)O=I.get(R.key);else for(w=x;w<=d;w++)if(0===C[w-x]&&$t(R,t[w])){O=w;break}void 0===O?J(R,i,a,!0):(C[O-x]=c+1,O>=A?A=O:S=!0,_(R,t[O],n,null,i,a,o,u,s),Z++)}}var N=S?Nt(C):l.Z6;for(w=N.length-1,c=T-1;c>=0;c--){var D=x+c,P=t[D],L=D+1<f?t[D+1].el:r;0===C[c]?_(null,P,n,L,i,a,o,u,s):S&&(w<0||c!==N[w]?Y(P,n,L,2):w--)}}},Y=function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=t.el,s=t.type,c=t.transition,l=t.children,f=t.shapeFlag;if(6&f)e(t.component.subTree,n,r,i);else if(128&f)t.suspense.move(n,r,i);else if(64&f)s.move(t,n,r,ae);else if(s!==jt)if(s!==qt){var h=2!==i&&1&f&&c;if(h)if(0===i)c.beforeEnter(u),o(u,n,r),St((function(){return c.enter(u)}),a);else{var d=c.leave,p=c.delayLeave,v=c.afterLeave,g=function(){return o(u,n,r)},y=function(){d(u,(function(){g(),v&&v()}))};p?p(u,g,y):y()}else o(u,n,r)}else Z(t,n,r);else{o(u,n,r);for(var m=0;m<l.length;m++)e(l[m],n,r,i);o(t.anchor,n,r)}},J=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=e.type,o=e.props,u=e.ref,s=e.children,c=e.dynamicChildren,l=e.shapeFlag,f=e.patchFlag,h=e.dirs;if(null!=u&&Zt(u,null,n,e,!0),256&l)t.ctx.deactivate(e);else{var d,p=1&l&&h,v=!ke(e);if(v&&(d=o&&o.onVnodeBeforeUnmount)&&pn(d,t,e),6&l)te(e.component,n,r);else{if(128&l)return void e.suspense.unmount(n,r);p&&Ve(e,null,t,"beforeUnmount"),64&l?e.type.remove(e,t,n,i,ae,r):c&&(a!==jt||f>0&&64&f)?ne(c,t,n,!1,!0):(a===jt&&384&f||!i&&16&l)&&ne(s,t,n),r&&$(e)}(v&&(d=o&&o.onVnodeUnmounted)||p)&&St((function(){d&&pn(d,t,e),p&&Ve(e,null,t,"unmounted")}),n)}},$=function(e){var t=e.type,n=e.el,r=e.anchor,i=e.transition;if(t!==jt)if(t!==qt){var a=function(){u(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){var o=i.leave,s=i.delayLeave,c=function(){return o(n,a)};s?s(e.el,a,c):c()}else a()}else T(e);else ee(n,r)},ee=function(e,t){var n;while(e!==t)n=y(e),u(e),e=n;u(t)},te=function(e,t,n){var r=e.bum,i=e.scope,a=e.update,o=e.subTree,u=e.um;r&&(0,l.ir)(r),i.stop(),a&&(a.active=!1,J(o,e,t,n)),u&&St(u,t),St((function(){e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},ne=function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=a;o<e.length;o++)J(e[o],t,n,r,i)},re=function e(t){return 6&t.shapeFlag?e(t.component.subTree):128&t.shapeFlag?t.suspense.next():y(t.anchor||t.el)},ie=function(e,t,n){null==e?t._vnode&&J(t._vnode,null,null,!0):_(t._vnode||null,e,t,null,null,null,n),M(),t._vnode=e},ae={p:_,um:J,m:Y,r:$,mt:V,mc:N,pc:G,pbc:P,n:re,o:e};if(t){var oe=t(ae),ue=(0,a.Z)(oe,2);r=ue[0],i=ue[1]}return{render:ie,hydrate:r,createApp:Et(ie,r)}}function Rt(e,t){var n=e.effect,r=e.update;n.allowRecurse=r.allowRecurse=t}function Ot(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.children,i=t.children;if((0,l.kJ)(r)&&(0,l.kJ)(i))for(var a=0;a<r.length;a++){var o=r[a],u=i[a];1&u.shapeFlag&&!u.dynamicChildren&&((u.patchFlag<=0||32===u.patchFlag)&&(u=i[a]=fn(i[a]),u.el=o.el),n||Ot(o,u))}}function Nt(e){var t,n,r,i,a,o=e.slice(),u=[0],s=e.length;for(t=0;t<s;t++){var c=e[t];if(0!==c){if(n=u[u.length-1],e[n]<c){o[t]=n,u.push(t);continue}r=0,i=u.length-1;while(r<i)a=r+i>>1,e[u[a]]<c?r=a+1:i=a;c<e[u[r]]&&(r>0&&(o[t]=u[r-1]),u[r]=t)}}r=u.length,i=u[r-1];while(r-- >0)u[r]=i,i=o[i];return u}var Dt=function(e){return e.__isTeleport},Pt=function(e){return e&&(e.disabled||""===e.disabled)},Lt=function(e){return"undefined"!==typeof SVGElement&&e instanceof SVGElement},Mt=function(e,t){var n=e&&e.to;if((0,l.HD)(n)){if(t){var r=t(n);return r}return null}return n};(function(e){function t(t,n,r,i,a,o,u,s,c,l){return e.apply(this,arguments)}t.toString=function(){return e.toString()}})((function(e,t,n,r,i,a,o,u,s,c){var l=c.mc,f=c.pc,h=c.pbc,d=c.o,p=d.insert,v=d.querySelector,g=d.createText,y=(d.createComment,Pt(t.props)),m=t.shapeFlag,k=t.children,w=t.dynamicChildren;if(null==e){var b=t.el=g(""),_=t.anchor=g("");p(b,n,r),p(_,n,r);var x=t.target=Mt(t.props,v),I=t.targetAnchor=g("");x&&(p(I,x),o=o||Lt(x));var E=function(e,t){16&m&&l(k,e,t,i,a,o,u,s)};y?E(n,_):x&&E(x,I)}else{t.el=e.el;var Z=t.anchor=e.anchor,T=t.target=e.target,S=t.targetAnchor=e.targetAnchor,A=Pt(e.props),C=A?n:T,R=A?Z:S;if(o=o||Lt(T),w?(h(e.dynamicChildren,w,C,i,a,o,u),Ot(e,t,!0)):s||f(e,t,C,R,i,a,o,u,!1),y)A||Ut(t,n,Z,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){var O=t.target=Mt(t.props,v);O&&Ut(t,O,null,c,0)}else A&&Ut(t,T,S,c,1)}}));function Ut(e,t,n,r){var i=r.o.insert,a=r.m,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2;0===o&&i(e.targetAnchor,t,n);var u=e.el,s=e.anchor,c=e.shapeFlag,l=e.children,f=e.props,h=2===o;if(h&&i(u,t,n),(!h||Pt(f))&&16&c)for(var d=0;d<l.length;d++)a(l[d],t,n,2);h&&i(s,t,n)}function Ft(e,t,n,r,i,a,o,u){var s=o.o,c=s.nextSibling,l=s.parentNode,f=s.querySelector,h=t.target=Mt(t.props,f);if(h){var d=h._lpa||h.firstChild;if(16&t.shapeFlag)if(Pt(t.props))t.anchor=u(c(e),t,l(e),n,r,i,a),t.targetAnchor=d;else{t.anchor=c(e);var p=d;while(p)if(p=c(p),p&&8===p.nodeType&&"teleport anchor"===p.data){t.targetAnchor=p,h._lpa=t.targetAnchor&&c(t.targetAnchor);break}u(d,t,h,n,r,i,a)}}return t.anchor&&c(t.anchor)}var jt=Symbol(void 0),Vt=Symbol(void 0),Bt=Symbol(void 0),qt=Symbol(void 0),zt=[],Gt=null;function Kt(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];zt.push(Gt=e?null:[])}function Ht(){zt.pop(),Gt=zt[zt.length-1]||null}var Wt=1;function Yt(e){Wt+=e}function Qt(e){return e.dynamicChildren=Wt>0?Gt||l.Z6:null,Ht(),Wt>0&&Gt&&Gt.push(e),e}function Jt(e,t,n,r,i,a){return Qt(rn(e,t,n,r,i,a,!0))}function Xt(e){return!!e&&!0===e.__v_isVNode}function $t(e,t){return e.type===t.type&&e.key===t.key}var en="__vInternal",tn=function(e){var t=e.key;return null!=t?t:null},nn=function(e){var t=e.ref,n=e.ref_key,r=e.ref_for;return null!=t?(0,l.HD)(t)||(0,c.dq)(t)||(0,l.mf)(t)?{i:q,r:t,k:n,f:!!r}:t:null};function rn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e===jt?0:1,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],s={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&tn(t),ref:t&&nn(t),scopeId:z,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};return u?(hn(s,n),128&a&&e.normalize(s)):n&&(s.shapeFlag|=(0,l.HD)(n)?8:16),Wt>0&&!o&&Gt&&(s.patchFlag>0||6&a)&&32!==s.patchFlag&&Gt.push(s),s}var an=on;function on(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e&&e!==Be||(e=Bt),Xt(e)){var o=sn(e,t,!0);return n&&hn(o,n),Wt>0&&!a&&Gt&&(6&o.shapeFlag?Gt[Gt.indexOf(e)]=o:Gt.push(o)),o.patchFlag|=-2,o}if(Dn(e)&&(e=e.__vccOpts),t){t=un(t);var u=t,s=u.class,f=u.style;s&&!(0,l.HD)(s)&&(t.class=(0,l.C_)(s)),(0,l.Kn)(f)&&((0,c.X3)(f)&&!(0,l.kJ)(f)&&(f=(0,l.l7)({},f)),t.style=(0,l.j5)(f))}var h=(0,l.HD)(e)?1:$(e)?128:Dt(e)?64:(0,l.Kn)(e)?4:(0,l.mf)(e)?2:0;return rn(e,t,n,r,i,h,a,!0)}function un(e){return e?(0,c.X3)(e)||en in e?(0,l.l7)({},e):e:null}function sn(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.props,i=e.ref,a=e.patchFlag,o=e.children,u=t?dn(r||{},t):r,s={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&tn(u),ref:t&&t.ref?n&&i?(0,l.kJ)(i)?i.concat(nn(t)):[i,nn(t)]:nn(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==jt?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&sn(e.ssContent),ssFallback:e.ssFallback&&sn(e.ssFallback),el:e.el,anchor:e.anchor};return s}function cn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return an(Vt,null,e,t)}function ln(e){return null==e||"boolean"===typeof e?an(Bt):(0,l.kJ)(e)?an(jt,null,e.slice()):"object"===(0,i.Z)(e)?fn(e):an(Vt,null,String(e))}function fn(e){return null===e.el||e.memo?e:sn(e)}function hn(e,t){var n=0,r=e.shapeFlag;if(null==t)t=null;else if((0,l.kJ)(t))n=16;else if("object"===(0,i.Z)(t)){if(65&r){var a=t.default;return void(a&&(a._c&&(a._d=!1),hn(e,a()),a._c&&(a._d=!0)))}n=32;var o=t._;o||en in t?3===o&&q&&(1===q.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=q}else(0,l.mf)(t)?(t={default:t,_ctx:q},n=32):(t=String(t),64&r?(n=16,t=[cn(t)]):n=8);e.children=t,e.shapeFlag|=n}function dn(){for(var e={},t=0;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t];for(var r in n)if("class"===r)e.class!==n.class&&(e.class=(0,l.C_)([e.class,n.class]));else if("style"===r)e.style=(0,l.j5)([e.style,n.style]);else if((0,l.F7)(r)){var i=e[r],a=n[r];!a||i===a||(0,l.kJ)(i)&&i.includes(a)||(e[r]=i?[].concat(i,a):a)}else""!==r&&(e[r]=n[r])}return e}function pn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(e,t,7,[n,r])}var vn=xt(),gn=0;function yn(e,t,n){var r=e.type,i=(t?t.appContext:e.appContext)||vn,a={uid:gn++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new c.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ft(r,i),emitsOptions:V(r,i),emit:null,emitted:null,propsDefaults:l.kT,inheritAttrs:r.inheritAttrs,ctx:l.kT,data:l.kT,props:l.kT,attrs:l.kT,slots:l.kT,refs:l.kT,setupState:l.kT,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=j.bind(null,a),e.ce&&e.ce(a),a}var mn=null,kn=function(){return mn||q},wn=function(e){mn=e,e.scope.on()},bn=function(){mn&&mn.scope.off(),mn=null};function _n(e){return 4&e.vnode.shapeFlag}var xn,In,En=!1;function Zn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];En=t;var n=e.vnode,r=n.props,i=n.children,a=_n(e);ut(e,r,a,t),bt(e,i);var o=a?Tn(e,t):void 0;return En=!1,o}function Tn(e,t){var n=e.type;e.accessCache=Object.create(null),e.proxy=(0,c.Xl)(new Proxy(e.ctx,Ke));var r=n.setup;if(r){var i=e.setupContext=r.length>1?Rn(e):null;wn(e),(0,c.Jd)();var a=f(r,e,0,[e.props,i]);if((0,c.lk)(),bn(),(0,l.tI)(a)){if(a.then(bn,bn),t)return a.then((function(n){Sn(e,n,t)})).catch((function(t){d(t,e,0)}));e.asyncDep=a}else Sn(e,a,t)}else An(e,t)}function Sn(e,t,n){(0,l.mf)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,l.Kn)(t)&&(e.setupState=(0,c.WL)(t)),An(e,n)}function An(e,t,n){var r=e.type;if(!e.render){if(!t&&xn&&!r.render){var i=r.template;if(i){0;var a=e.appContext.config,o=a.isCustomElement,u=a.compilerOptions,s=r.delimiters,f=r.compilerOptions,h=(0,l.l7)((0,l.l7)({isCustomElement:o,delimiters:s},u),f);r.render=xn(i,h)}}e.render=r.render||l.dG,In&&In(e)}wn(e),(0,c.Jd)(),We(e),(0,c.lk)(),bn()}function Cn(e){return new Proxy(e.attrs,{get:function(t,n){return(0,c.j)(e,"get","$attrs"),t[n]}})}function Rn(e){var t,n=function(t){e.exposed=t||{}};return{get attrs(){return t||(t=Cn(e))},slots:e.slots,emit:e.emit,expose:n}}function On(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,c.WL)((0,c.Xl)(e.exposed)),{get:function(t,n){return n in t?t[n]:n in Ge?Ge[n](e):void 0}}))}function Nn(e){return(0,l.mf)(e)&&e.displayName||e.name}function Dn(e){return(0,l.mf)(e)&&"__vccOpts"in e}var Pn=function(e,t){return(0,c.Fl)(e,t,En)};function Ln(e,t,n){var r=arguments.length;return 2===r?(0,l.Kn)(t)&&!(0,l.kJ)(t)?Xt(t)?an(e,null,[t]):an(e,t):an(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&Xt(n)&&(n=[n]),an(e,t,n))}Symbol("");var Mn="3.2.36"},9242:function(e,t,n){"use strict";n.d(t,{F8:function(){return le},nr:function(){return ce},ri:function(){return ve}});n(6347);var r=n(2833),i=n(3087),a=(n(9110),n(7946),n(4621)),o=n(3336),u=n(8478),s=(n(9600),n(2222),n(1539),n(4747),n(6755),n(4916),n(7601),n(5306),n(7042),n(6699),n(2023),n(4723),n(9653),n(1249),n(8309),n(7941),n(5218),n(8862),n(3123),n(189),n(8783),n(3948),n(4129),n(7327),n(3210),n(561),n(7139)),c=n(3396),l=(n(4870),"http://www.w3.org/2000/svg"),f="undefined"!==typeof document?document:null,h=f&&f.createElement("template"),d={insert:function(e,t,n){t.insertBefore(e,n||null)},remove:function(e){var t=e.parentNode;t&&t.removeChild(e)},createElement:function(e,t,n,r){var i=t?f.createElementNS(l,e):f.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:function(e){return f.createTextNode(e)},createComment:function(e){return f.createComment(e)},setText:function(e,t){e.nodeValue=t},setElementText:function(e,t){e.textContent=t},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},querySelector:function(e){return f.querySelector(e)},setScopeId:function(e,t){e.setAttribute(t,"")},cloneNode:function(e){var t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent:function(e,t,n,r,i,a){var o=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling)){while(1)if(t.insertBefore(i.cloneNode(!0),n),i===a||!(i=i.nextSibling))break}else{h.innerHTML=r?"<svg>".concat(e,"</svg>"):e;var u=h.content;if(r){var s=u.firstChild;while(s.firstChild)u.appendChild(s.firstChild);u.removeChild(s)}t.insertBefore(u,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function p(e,t,n){var r=e._vtc;r&&(t=(t?[t].concat((0,u.Z)(r)):(0,u.Z)(r)).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function v(e,t,n){var r=e.style,i=(0,s.HD)(n);if(n&&!i){for(var a in n)y(r,a,n[a]);if(t&&!(0,s.HD)(t))for(var o in t)null==n[o]&&y(r,o,"")}else{var u=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=u)}}var g=/\s*!important$/;function y(e,t,n){if((0,s.kJ)(n))n.forEach((function(n){return y(e,t,n)}));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{var r=w(e,t);g.test(n)?e.setProperty((0,s.rs)(r),n.replace(g,""),"important"):e[r]=n}}var m=["Webkit","Moz","ms"],k={};function w(e,t){var n=k[t];if(n)return n;var r=(0,s._A)(t);if("filter"!==r&&r in e)return k[t]=r;r=(0,s.kC)(r);for(var i=0;i<m.length;i++){var a=m[i]+r;if(a in e)return k[t]=a}return t}var b="http://www.w3.org/1999/xlink";function _(e,t,n,r,i){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(b,t.slice(6,t.length)):e.setAttributeNS(b,t,n);else{var a=(0,s.Pq)(t);null==n||a&&!(0,s.yA)(n)?e.removeAttribute(t):e.setAttribute(t,a?"":n)}}function x(e,t,n,r,i,a,u){if("innerHTML"===t||"textContent"===t)return r&&u(r,i,a),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;var c=null==n?"":n;return e.value===c&&"OPTION"!==e.tagName||(e.value=c),void(null==n&&e.removeAttribute(t))}var l=!1;if(""===n||null==n){var f=(0,o.Z)(e[t]);"boolean"===f?n=(0,s.yA)(n):null==n&&"string"===f?(n="",l=!0):"number"===f&&(n=0,l=!0)}try{e[t]=n}catch(h){0}l&&e.removeAttribute(t)}var I=function(){var e=Date.now,t=!1;if("undefined"!==typeof window){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));var n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]}(),E=(0,a.Z)(I,2),Z=E[0],T=E[1],S=0,A=Promise.resolve(),C=function(){S=0},R=function(){return S||(A.then(C),S=Z())};function O(e,t,n,r){e.addEventListener(t,n,r)}function N(e,t,n,r){e.removeEventListener(t,n,r)}function D(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=e._vei||(e._vei={}),u=o[t];if(r&&u)u.value=r;else{var s=L(t),c=(0,a.Z)(s,2),l=c[0],f=c[1];if(r){var h=o[t]=M(r,i);O(e,l,h,f)}else u&&(N(e,l,u,f),o[t]=void 0)}}var P=/(?:Once|Passive|Capture)$/;function L(e){var t;if(P.test(e)){var n;t={};while(n=e.match(P))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[(0,s.rs)(e.slice(2)),t]}function M(e,t){var n=function e(n){var r=n.timeStamp||Z();(T||r>=e.attached-1)&&(0,c.$d)(U(n,e.value),t,5,[n])};return n.value=e,n.attached=R(),n}function U(e,t){if((0,s.kJ)(t)){var n=e.stopImmediatePropagation;return e.stopImmediatePropagation=function(){n.call(e),e._stopped=!0},t.map((function(e){return function(t){return!t._stopped&&e&&e(t)}}))}return t}var F=/^on[a-z]/,j=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0;"class"===t?p(e,r,i):"style"===t?v(e,n,r):(0,s.F7)(t)?(0,s.tR)(t)||D(e,t,n,r,o):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):V(e,t,r,i))?x(e,t,r,a,o,u,c):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),_(e,t,r,i))};function V(e,t,n,r){return r?"innerHTML"===t||"textContent"===t||!!(t in e&&F.test(t)&&(0,s.mf)(n)):"spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!F.test(t)||!(0,s.HD)(n))&&t in e))))}"undefined"!==typeof HTMLElement&&HTMLElement;var B="transition",q="animation",z=function(e,t){var n=t.slots;return(0,c.h)(c.P$,W(e),n)};z.displayName="Transition";var G={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},K=(z.props=(0,s.l7)({},c.P$.props,G),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,s.kJ)(e)?e.forEach((function(e){return e.apply(void 0,(0,u.Z)(t))})):e&&e.apply(void 0,(0,u.Z)(t))}),H=function(e){return!!e&&((0,s.kJ)(e)?e.some((function(e){return e.length>1})):e.length>1)};function W(e){var t={};for(var n in e)n in G||(t[n]=e[n]);if(!1===e.css)return t;var r=e.name,i=void 0===r?"v":r,a=e.type,o=e.duration,u=e.enterFromClass,c=void 0===u?"".concat(i,"-enter-from"):u,l=e.enterActiveClass,f=void 0===l?"".concat(i,"-enter-active"):l,h=e.enterToClass,d=void 0===h?"".concat(i,"-enter-to"):h,p=e.appearFromClass,v=void 0===p?c:p,g=e.appearActiveClass,y=void 0===g?f:g,m=e.appearToClass,k=void 0===m?d:m,w=e.leaveFromClass,b=void 0===w?"".concat(i,"-leave-from"):w,_=e.leaveActiveClass,x=void 0===_?"".concat(i,"-leave-active"):_,I=e.leaveToClass,E=void 0===I?"".concat(i,"-leave-to"):I,Z=Y(o),T=Z&&Z[0],S=Z&&Z[1],A=t.onBeforeEnter,C=t.onEnter,R=t.onEnterCancelled,O=t.onLeave,N=t.onLeaveCancelled,D=t.onBeforeAppear,P=void 0===D?A:D,L=t.onAppear,M=void 0===L?C:L,U=t.onAppearCancelled,F=void 0===U?R:U,j=function(e,t,n){X(e,t?k:d),X(e,t?y:f),n&&n()},V=function(e,t){e._isLeaving=!1,X(e,b),X(e,E),X(e,x),t&&t()},B=function(e){return function(t,n){var r=e?M:C,i=function(){return j(t,e,n)};K(r,[t,i]),$((function(){X(t,e?v:c),J(t,e?k:d),H(r)||te(t,a,T,i)}))}};return(0,s.l7)(t,{onBeforeEnter:function(e){K(A,[e]),J(e,c),J(e,f)},onBeforeAppear:function(e){K(P,[e]),J(e,v),J(e,y)},onEnter:B(!1),onAppear:B(!0),onLeave:function(e,t){e._isLeaving=!0;var n=function(){return V(e,t)};J(e,b),ae(),J(e,x),$((function(){e._isLeaving&&(X(e,b),J(e,E),H(O)||te(e,a,S,n))})),K(O,[e,n])},onEnterCancelled:function(e){j(e,!1),K(R,[e])},onAppearCancelled:function(e){j(e,!0),K(F,[e])},onLeaveCancelled:function(e){V(e),K(N,[e])}})}function Y(e){if(null==e)return null;if((0,s.Kn)(e))return[Q(e.enter),Q(e.leave)];var t=Q(e);return[t,t]}function Q(e){var t=(0,s.He)(e);return t}function J(e,t){t.split(/\s+/).forEach((function(t){return t&&e.classList.add(t)})),(e._vtc||(e._vtc=new Set)).add(t)}function X(e,t){t.split(/\s+/).forEach((function(t){return t&&e.classList.remove(t)}));var n=e._vtc;n&&(n.delete(t),n.size||(e._vtc=void 0))}function $(e){requestAnimationFrame((function(){requestAnimationFrame(e)}))}var ee=0;function te(e,t,n,r){var i=e._endId=++ee,a=function(){i===e._endId&&r()};if(n)return setTimeout(a,n);var o=ne(e,t),u=o.type,s=o.timeout,c=o.propCount;if(!u)return r();var l=u+"end",f=0,h=function(){e.removeEventListener(l,d),a()},d=function(t){t.target===e&&++f>=c&&h()};setTimeout((function(){f<c&&h()}),s+1),e.addEventListener(l,d)}function ne(e,t){var n=window.getComputedStyle(e),r=function(e){return(n[e]||"").split(", ")},i=r(B+"Delay"),a=r(B+"Duration"),o=re(i,a),u=r(q+"Delay"),s=r(q+"Duration"),c=re(u,s),l=null,f=0,h=0;t===B?o>0&&(l=B,f=o,h=a.length):t===q?c>0&&(l=q,f=c,h=s.length):(f=Math.max(o,c),l=f>0?o>c?B:q:null,h=l?l===B?a.length:s.length:0);var d=l===B&&/\b(transform|all)(,|$)/.test(n[B+"Property"]);return{type:l,timeout:f,propCount:h,hasTransform:d}}function re(e,t){while(e.length<t.length)e=e.concat(e);return Math.max.apply(Math,(0,u.Z)(t.map((function(t,n){return ie(t)+ie(e[n])}))))}function ie(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function ae(){return document.body.offsetHeight}new WeakMap,new WeakMap;var oe=function(e){var t=e.props["onUpdate:modelValue"]||!1;return(0,s.kJ)(t)?function(e){return(0,s.ir)(t,e)}:t};function ue(e){e.target.composing=!0}function se(e){var t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}var ce={created:function(e,t,n){var r=t.modifiers,i=r.lazy,a=r.trim,o=r.number;e._assign=oe(n);var u=o||n.props&&"number"===n.props.type;O(e,i?"change":"input",(function(t){if(!t.target.composing){var n=e.value;a&&(n=n.trim()),u&&(n=(0,s.He)(n)),e._assign(n)}})),a&&O(e,"change",(function(){e.value=e.value.trim()})),i||(O(e,"compositionstart",ue),O(e,"compositionend",se),O(e,"change",se))},mounted:function(e,t){var n=t.value;e.value=null==n?"":n},beforeUpdate:function(e,t,n){var r=t.value,i=t.modifiers,a=i.lazy,o=i.trim,u=i.number;if(e._assign=oe(n),!e.composing){if(document.activeElement===e&&"range"!==e.type){if(a)return;if(o&&e.value.trim()===r)return;if((u||"number"===e.type)&&(0,s.He)(e.value)===r)return}var c=null==r?"":r;e.value!==c&&(e.value=c)}}};var le={beforeMount:function(e,t,n){var r=t.value,i=n.transition;e._vod="none"===e.style.display?"":e.style.display,i&&r?i.beforeEnter(e):fe(e,r)},mounted:function(e,t,n){var r=t.value,i=n.transition;i&&r&&i.enter(e)},updated:function(e,t,n){var r=t.value,i=t.oldValue,a=n.transition;!r!==!i&&(a?r?(a.beforeEnter(e),fe(e,!0),a.enter(e)):a.leave(e,(function(){fe(e,!1)})):fe(e,r))},beforeUnmount:function(e,t){var n=t.value;fe(e,n)}};function fe(e,t){e.style.display=t?e._vod:"none"}var he,de=(0,s.l7)({patchProp:j},d);function pe(){return he||(he=(0,c.Us)(de))}var ve=function(){var e,t=(e=pe()).createApp.apply(e,arguments);var n=t.mount;return t.mount=function(e){var r=ge(e);if(r){var i=t._component;(0,s.mf)(i)||i.render||i.template||(i.template=r.innerHTML),r.innerHTML="";var a=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a}},t};function ge(e){if((0,s.HD)(e)){var t=document.querySelector(e);return t}return e}},7139:function(e,t,n){"use strict";n.d(t,{C_:function(){return k},DM:function(){return F},E9:function(){return ce},F7:function(){return R},Gg:function(){return J},HD:function(){return B},He:function(){return se},Kn:function(){return z},NO:function(){return A},Nj:function(){return ue},Od:function(){return D},PO:function(){return Y},Pq:function(){return d},RI:function(){return L},S0:function(){return Q},W7:function(){return W},WV:function(){return b},Z6:function(){return T},_A:function(){return ee},_N:function(){return U},aU:function(){return ae},dG:function(){return S},e1:function(){return f},fY:function(){return c},hR:function(){return ie},hq:function(){return _},ir:function(){return oe},j5:function(){return v},kC:function(){return re},kJ:function(){return M},kT:function(){return Z},l7:function(){return N},mf:function(){return V},rs:function(){return ne},tI:function(){return G},tR:function(){return O},yA:function(){return p},yk:function(){return q},zw:function(){return I}});var r,i,a=n(3336),o=n(4621),u=n(8478),s=n(2482);n(4916),n(3123),n(7327),n(1539),n(2222),n(2481),n(9600),n(7601),n(4747),n(3210),n(6755),n(7042),n(5306),n(7941),n(4553),n(9714),n(8862),n(3948),n(3371),n(561),n(3304),n(5837);function c(e,t){for(var n=Object.create(null),r=e.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return t?function(e){return!!n[e.toLowerCase()]}:function(e){return!!n[e]}}r={},(0,s.Z)(r,1,"TEXT"),(0,s.Z)(r,2,"CLASS"),(0,s.Z)(r,4,"STYLE"),(0,s.Z)(r,8,"PROPS"),(0,s.Z)(r,16,"FULL_PROPS"),(0,s.Z)(r,32,"HYDRATE_EVENTS"),(0,s.Z)(r,64,"STABLE_FRAGMENT"),(0,s.Z)(r,128,"KEYED_FRAGMENT"),(0,s.Z)(r,256,"UNKEYED_FRAGMENT"),(0,s.Z)(r,512,"NEED_PATCH"),(0,s.Z)(r,1024,"DYNAMIC_SLOTS"),(0,s.Z)(r,2048,"DEV_ROOT_FRAGMENT"),(0,s.Z)(r,-1,"HOISTED"),(0,s.Z)(r,-2,"BAIL"),i={},(0,s.Z)(i,1,"STABLE"),(0,s.Z)(i,2,"DYNAMIC"),(0,s.Z)(i,3,"FORWARDED");var l="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",f=c(l);var h="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",d=c(h);function p(e){return!!e||""===e}function v(e){if(M(e)){for(var t={},n=0;n<e.length;n++){var r=e[n],i=B(r)?m(r):v(r);if(i)for(var a in i)t[a]=i[a]}return t}return B(e)||z(e)?e:void 0}var g=/;(?![^(]*\))/g,y=/:(.+)/;function m(e){var t={};return e.split(g).forEach((function(e){if(e){var n=e.split(y);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function k(e){var t="";if(B(e))t=e;else if(M(e))for(var n=0;n<e.length;n++){var r=k(e[n]);r&&(t+=r+" ")}else if(z(e))for(var i in e)e[i]&&(t+=i+" ");return t.trim()}function w(e,t){if(e.length!==t.length)return!1;for(var n=!0,r=0;n&&r<e.length;r++)n=b(e[r],t[r]);return n}function b(e,t){if(e===t)return!0;var n=j(e),r=j(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=q(e),r=q(t),n||r)return e===t;if(n=M(e),r=M(t),n||r)return!(!n||!r)&&w(e,t);if(n=z(e),r=z(t),n||r){if(!n||!r)return!1;var i=Object.keys(e).length,a=Object.keys(t).length;if(i!==a)return!1;for(var o in e){var u=e.hasOwnProperty(o),s=t.hasOwnProperty(o);if(u&&!s||!u&&s||!b(e[o],t[o]))return!1}}return String(e)===String(t)}function _(e,t){return e.findIndex((function(e){return b(e,t)}))}var x,I=function(e){return B(e)?e:null==e?"":M(e)||z(e)&&(e.toString===K||!V(e.toString))?JSON.stringify(e,E,2):String(e)},E=function e(t,n){return n&&n.__v_isRef?e(t,n.value):U(n)?(0,s.Z)({},"Map(".concat(n.size,")"),(0,u.Z)(n.entries()).reduce((function(e,t){var n=(0,o.Z)(t,2),r=n[0],i=n[1];return e["".concat(r," =>")]=i,e}),{})):F(n)?(0,s.Z)({},"Set(".concat(n.size,")"),(0,u.Z)(n.values())):!z(n)||M(n)||Y(n)?n:String(n)},Z={},T=[],S=function(){},A=function(){return!1},C=/^on[^a-z]/,R=function(e){return C.test(e)},O=function(e){return e.startsWith("onUpdate:")},N=Object.assign,D=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},P=Object.prototype.hasOwnProperty,L=function(e,t){return P.call(e,t)},M=Array.isArray,U=function(e){return"[object Map]"===H(e)},F=function(e){return"[object Set]"===H(e)},j=function(e){return"[object Date]"===H(e)},V=function(e){return"function"===typeof e},B=function(e){return"string"===typeof e},q=function(e){return"symbol"===(0,a.Z)(e)},z=function(e){return null!==e&&"object"===(0,a.Z)(e)},G=function(e){return z(e)&&V(e.then)&&V(e.catch)},K=Object.prototype.toString,H=function(e){return K.call(e)},W=function(e){return H(e).slice(8,-1)},Y=function(e){return"[object Object]"===H(e)},Q=function(e){return B(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e},J=c(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),X=function(e){var t=Object.create(null);return function(n){var r=t[n];return r||(t[n]=e(n))}},$=/-(\w)/g,ee=X((function(e){return e.replace($,(function(e,t){return t?t.toUpperCase():""}))})),te=/\B([A-Z])/g,ne=X((function(e){return e.replace(te,"-$1").toLowerCase()})),re=X((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),ie=X((function(e){return e?"on".concat(re(e)):""})),ae=function(e,t){return!Object.is(e,t)},oe=function(e,t){for(var n=0;n<e.length;n++)e[n](t)},ue=function(e,t,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},se=function(e){var t=parseFloat(e);return isNaN(t)?e:t},ce=function(){return x||(x="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{})}},8937:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,{afterMain:function(){return D},afterRead:function(){return R},afterWrite:function(){return M},applyStyles:function(){return K},arrow:function(){return ge},auto:function(){return k},basePlacements:function(){return w},beforeMain:function(){return O},beforeRead:function(){return A},beforeWrite:function(){return P},bottom:function(){return g},clippingParents:function(){return x},computeStyles:function(){return _e},createPopper:function(){return wt},createPopperBase:function(){return mt},createPopperLite:function(){return _t},detectOverflow:function(){return qe},end:function(){return _},eventListeners:function(){return Ee},flip:function(){return He},hide:function(){return Je},left:function(){return m},main:function(){return N},modifierPhases:function(){return U},offset:function(){return et},placements:function(){return S},popper:function(){return E},popperGenerator:function(){return gt},popperOffsets:function(){return nt},preventOverflow:function(){return at},read:function(){return C},reference:function(){return Z},right:function(){return y},start:function(){return b},top:function(){return v},variationPlacements:function(){return T},viewport:function(){return I},write:function(){return L}});var i=n(6334),a=n(2040),o=n(5082),u=n(2482),s=n(8478),c=n(9110),l=n(7946),f=n(3087),h=n(2833),d=n(4621),p=n(3336),v=(n(4916),n(4723),n(1539),n(6699),n(2023),n(6755),n(3123),n(3210),n(1874),n(9653),n(4747),n(7941),n(7601),n(4603),n(8450),n(8386),n(9714),n(1703),n(2222),n(189),n(8783),n(3948),n(5306),n(7042),n(1532),n(1038),n(6210),n(7327),n(9600),n(1249),n(9826),n(9494),n(8309),n(2707),"top"),g="bottom",y="right",m="left",k="auto",w=[v,g,y,m],b="start",_="end",x="clippingParents",I="viewport",E="popper",Z="reference",T=w.reduce((function(e,t){return e.concat([t+"-"+b,t+"-"+_])}),[]),S=[].concat(w,[k]).reduce((function(e,t){return e.concat([t,t+"-"+b,t+"-"+_])}),[]),A="beforeRead",C="read",R="afterRead",O="beforeMain",N="main",D="afterMain",P="beforeWrite",L="write",M="afterWrite",U=[A,C,R,O,N,D,P,L,M];function F(e){return e?(e.nodeName||"").toLowerCase():null}function j(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function V(e){var t=j(e).Element;return e instanceof t||e instanceof Element}function B(e){var t=j(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function q(e){if("undefined"===typeof ShadowRoot)return!1;var t=j(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function z(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];B(i)&&F(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))}function G(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]),o=a.reduce((function(e,t){return e[t]="",e}),{});B(r)&&F(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}}var K={name:"applyStyles",enabled:!0,phase:"write",fn:z,effect:G,requires:["computeStyles"]};function H(e){return e.split("-")[0]}var W=Math.max,Y=Math.min,Q=Math.round;function J(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(B(e)&&t){var a=e.offsetHeight,o=e.offsetWidth;o>0&&(r=Q(n.width)/o||1),a>0&&(i=Q(n.height)/a||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function X(e){var t=J(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function $(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&q(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ee(e){return j(e).getComputedStyle(e)}function te(e){return["table","td","th"].indexOf(F(e))>=0}function ne(e){return((V(e)?e.ownerDocument:e.document)||window.document).documentElement}function re(e){return"html"===F(e)?e:e.assignedSlot||e.parentNode||(q(e)?e.host:null)||ne(e)}function ie(e){return B(e)&&"fixed"!==ee(e).position?e.offsetParent:null}function ae(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),n=-1!==navigator.userAgent.indexOf("Trident");if(n&&B(e)){var r=ee(e);if("fixed"===r.position)return null}var i=re(e);q(i)&&(i=i.host);while(B(i)&&["html","body"].indexOf(F(i))<0){var a=ee(i);if("none"!==a.transform||"none"!==a.perspective||"paint"===a.contain||-1!==["transform","perspective"].indexOf(a.willChange)||t&&"filter"===a.willChange||t&&a.filter&&"none"!==a.filter)return i;i=i.parentNode}return null}function oe(e){var t=j(e),n=ie(e);while(n&&te(n)&&"static"===ee(n).position)n=ie(n);return n&&("html"===F(n)||"body"===F(n)&&"static"===ee(n).position)?t:n||ae(e)||t}function ue(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function se(e,t,n){return W(e,Y(t,n))}function ce(e,t,n){var r=se(e,t,n);return r>n?n:r}function le(){return{top:0,right:0,bottom:0,left:0}}function fe(e){return Object.assign({},le(),e)}function he(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var de=function(e,t){return e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e,fe("number"!==typeof e?e:he(e,w))};function pe(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,u=H(n.placement),s=ue(u),c=[m,y].indexOf(u)>=0,l=c?"height":"width";if(a&&o){var f=de(i.padding,n),h=X(a),d="y"===s?v:m,p="y"===s?g:y,k=n.rects.reference[l]+n.rects.reference[s]-o[s]-n.rects.popper[l],w=o[s]-n.rects.reference[s],b=oe(a),_=b?"y"===s?b.clientHeight||0:b.clientWidth||0:0,x=k/2-w/2,I=f[d],E=_-h[l]-f[p],Z=_/2-h[l]/2+x,T=se(I,Z,E),S=s;n.modifiersData[r]=(t={},t[S]=T,t.centerOffset=T-Z,t)}}function ve(e){var t=e.state,n=e.options,r=n.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"!==typeof i||(i=t.elements.popper.querySelector(i),i))&&$(t.elements.popper,i)&&(t.elements.arrow=i)}var ge={name:"arrow",enabled:!0,phase:"main",fn:pe,effect:ve,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ye(e){return e.split("-")[1]}var me={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ke(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:Q(t*i)/i||0,y:Q(n*i)/i||0}}function we(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,u=e.position,s=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,h=o.x,d=void 0===h?0:h,p=o.y,k=void 0===p?0:p,w="function"===typeof l?l({x:d,y:k}):{x:d,y:k};d=w.x,k=w.y;var b=o.hasOwnProperty("x"),x=o.hasOwnProperty("y"),I=m,E=v,Z=window;if(c){var T=oe(n),S="clientHeight",A="clientWidth";if(T===j(n)&&(T=ne(n),"static"!==ee(T).position&&"absolute"===u&&(S="scrollHeight",A="scrollWidth")),i===v||(i===m||i===y)&&a===_){E=g;var C=f&&T===Z&&Z.visualViewport?Z.visualViewport.height:T[S];k-=C-r.height,k*=s?1:-1}if(i===m||(i===v||i===g)&&a===_){I=y;var R=f&&T===Z&&Z.visualViewport?Z.visualViewport.width:T[A];d-=R-r.width,d*=s?1:-1}}var O,N=Object.assign({position:u},c&&me),D=!0===l?ke({x:d,y:k}):{x:d,y:k};return d=D.x,k=D.y,s?Object.assign({},N,(O={},O[E]=x?"0":"",O[I]=b?"0":"",O.transform=(Z.devicePixelRatio||1)<=1?"translate("+d+"px, "+k+"px)":"translate3d("+d+"px, "+k+"px, 0)",O)):Object.assign({},N,(t={},t[E]=x?k+"px":"",t[I]=b?d+"px":"",t.transform="",t))}function be(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,u=n.roundOffsets,s=void 0===u||u,c={placement:H(t.placement),variation:ye(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,we(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,we(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var _e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:be,data:{}},xe={passive:!0};function Ie(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,u=void 0===o||o,s=j(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,xe)})),u&&s.addEventListener("resize",n.update,xe),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,xe)})),u&&s.removeEventListener("resize",n.update,xe)}}var Ee={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ie,data:{}},Ze={left:"right",right:"left",bottom:"top",top:"bottom"};function Te(e){return e.replace(/left|right|bottom|top/g,(function(e){return Ze[e]}))}var Se={start:"end",end:"start"};function Ae(e){return e.replace(/start|end/g,(function(e){return Se[e]}))}function Ce(e){var t=j(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Re(e){return J(ne(e)).left+Ce(e).scrollLeft}function Oe(e){var t=j(e),n=ne(e),r=t.visualViewport,i=n.clientWidth,a=n.clientHeight,o=0,u=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,u=r.offsetTop)),{width:i,height:a,x:o+Re(e),y:u}}function Ne(e){var t,n=ne(e),r=Ce(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=W(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=W(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+Re(e),s=-r.scrollTop;return"rtl"===ee(i||n).direction&&(u+=W(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:u,y:s}}function De(e){var t=ee(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Pe(e){return["html","body","#document"].indexOf(F(e))>=0?e.ownerDocument.body:B(e)&&De(e)?e:Pe(re(e))}function Le(e,t){var n;void 0===t&&(t=[]);var r=Pe(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=j(r),o=i?[a].concat(a.visualViewport||[],De(r)?r:[]):r,u=t.concat(o);return i?u:u.concat(Le(re(o)))}function Me(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ue(e){var t=J(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function Fe(e,t){return t===I?Me(Oe(e)):V(t)?Ue(t):Me(Ne(ne(e)))}function je(e){var t=Le(re(e)),n=["absolute","fixed"].indexOf(ee(e).position)>=0,r=n&&B(e)?oe(e):e;return V(r)?t.filter((function(e){return V(e)&&$(e,r)&&"body"!==F(e)})):[]}function Ve(e,t,n){var r="clippingParents"===t?je(e):[].concat(t),i=[].concat(r,[n]),a=i[0],o=i.reduce((function(t,n){var r=Fe(e,n);return t.top=W(r.top,t.top),t.right=Y(r.right,t.right),t.bottom=Y(r.bottom,t.bottom),t.left=W(r.left,t.left),t}),Fe(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Be(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?H(i):null,o=i?ye(i):null,u=n.x+n.width/2-r.width/2,s=n.y+n.height/2-r.height/2;switch(a){case v:t={x:u,y:n.y-r.height};break;case g:t={x:u,y:n.y+n.height};break;case y:t={x:n.x+n.width,y:s};break;case m:t={x:n.x-r.width,y:s};break;default:t={x:n.x,y:n.y}}var c=a?ue(a):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case b:t[c]=t[c]-(n[l]/2-r[l]/2);break;case _:t[c]=t[c]+(n[l]/2-r[l]/2);break;default:}}return t}function qe(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.boundary,o=void 0===a?x:a,u=n.rootBoundary,s=void 0===u?I:u,c=n.elementContext,l=void 0===c?E:c,f=n.altBoundary,h=void 0!==f&&f,d=n.padding,p=void 0===d?0:d,m=fe("number"!==typeof p?p:he(p,w)),k=l===E?Z:E,b=e.rects.popper,_=e.elements[h?k:l],T=Ve(V(_)?_:_.contextElement||ne(e.elements.popper),o,s),S=J(e.elements.reference),A=Be({reference:S,element:b,strategy:"absolute",placement:i}),C=Me(Object.assign({},b,A)),R=l===E?C:S,O={top:T.top-R.top+m.top,bottom:R.bottom-T.bottom+m.bottom,left:T.left-R.left+m.left,right:R.right-T.right+m.right},N=e.modifiersData.offset;if(l===E&&N){var D=N[i];Object.keys(O).forEach((function(e){var t=[y,g].indexOf(e)>=0?1:-1,n=[v,g].indexOf(e)>=0?"y":"x";O[e]+=D[n]*t}))}return O}function ze(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,u=n.flipVariations,s=n.allowedAutoPlacements,c=void 0===s?S:s,l=ye(r),f=l?u?T:T.filter((function(e){return ye(e)===l})):w,h=f.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=f);var d=h.reduce((function(t,n){return t[n]=qe(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[H(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}function Ge(e){if(H(e)===k)return[];var t=Te(e);return[Ae(e),t,Ae(t)]}function Ke(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0===o||o,s=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=void 0===d||d,w=n.allowedAutoPlacements,_=t.options.placement,x=H(_),I=x===_,E=s||(I||!p?[Te(_)]:Ge(_)),Z=[_].concat(E).reduce((function(e,n){return e.concat(H(n)===k?ze(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:w}):n)}),[]),T=t.rects.reference,S=t.rects.popper,A=new Map,C=!0,R=Z[0],O=0;O<Z.length;O++){var N=Z[O],D=H(N),P=ye(N)===b,L=[v,g].indexOf(D)>=0,M=L?"width":"height",U=qe(t,{placement:N,boundary:l,rootBoundary:f,altBoundary:h,padding:c}),F=L?P?y:m:P?g:v;T[M]>S[M]&&(F=Te(F));var j=Te(F),V=[];if(a&&V.push(U[D]<=0),u&&V.push(U[F]<=0,U[j]<=0),V.every((function(e){return e}))){R=N,C=!1;break}A.set(N,V)}if(C)for(var B=p?3:1,q=function(e){var t=Z.find((function(t){var n=A.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return R=t,"break"},z=B;z>0;z--){var G=q(z);if("break"===G)break}t.placement!==R&&(t.modifiersData[r]._skip=!0,t.placement=R,t.reset=!0)}}var He={name:"flip",enabled:!0,phase:"main",fn:Ke,requiresIfExists:["offset"],data:{_skip:!1}};function We(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Ye(e){return[v,y,g,m].some((function(t){return e[t]>=0}))}function Qe(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=qe(t,{elementContext:"reference"}),u=qe(t,{altBoundary:!0}),s=We(o,r),c=We(u,i,a),l=Ye(s),f=Ye(c);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}var Je={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Qe};function Xe(e,t,n){var r=H(e),i=[m,v].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],u=a[1];return o=o||0,u=(u||0)*i,[m,y].indexOf(r)>=0?{x:u,y:o}:{x:o,y:u}}function $e(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=S.reduce((function(e,n){return e[n]=Xe(n,t.rects,a),e}),{}),u=o[t.placement],s=u.x,c=u.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}var et={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$e};function tt(e){var t=e.state,n=e.name;t.modifiersData[n]=Be({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var nt={name:"popperOffsets",enabled:!0,phase:"read",fn:tt,data:{}};function rt(e){return"x"===e?"y":"x"}function it(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0!==o&&o,s=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,h=n.tether,d=void 0===h||h,p=n.tetherOffset,k=void 0===p?0:p,w=qe(t,{boundary:s,rootBoundary:c,padding:f,altBoundary:l}),_=H(t.placement),x=ye(t.placement),I=!x,E=ue(_),Z=rt(E),T=t.modifiersData.popperOffsets,S=t.rects.reference,A=t.rects.popper,C="function"===typeof k?k(Object.assign({},t.rects,{placement:t.placement})):k,R="number"===typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),O=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,N={x:0,y:0};if(T){if(a){var D,P="y"===E?v:m,L="y"===E?g:y,M="y"===E?"height":"width",U=T[E],F=U+w[P],j=U-w[L],V=d?-A[M]/2:0,B=x===b?S[M]:A[M],q=x===b?-A[M]:-S[M],z=t.elements.arrow,G=d&&z?X(z):{width:0,height:0},K=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:le(),Q=K[P],J=K[L],$=se(0,S[M],G[M]),ee=I?S[M]/2-V-$-Q-R.mainAxis:B-$-Q-R.mainAxis,te=I?-S[M]/2+V+$+J+R.mainAxis:q+$+J+R.mainAxis,ne=t.elements.arrow&&oe(t.elements.arrow),re=ne?"y"===E?ne.clientTop||0:ne.clientLeft||0:0,ie=null!=(D=null==O?void 0:O[E])?D:0,ae=U+ee-ie-re,fe=U+te-ie,he=se(d?Y(F,ae):F,U,d?W(j,fe):j);T[E]=he,N[E]=he-U}if(u){var de,pe="x"===E?v:m,ve="x"===E?g:y,ge=T[Z],me="y"===Z?"height":"width",ke=ge+w[pe],we=ge-w[ve],be=-1!==[v,m].indexOf(_),_e=null!=(de=null==O?void 0:O[Z])?de:0,xe=be?ke:ge-S[me]-A[me]-_e+R.altAxis,Ie=be?ge+S[me]+A[me]-_e-R.altAxis:we,Ee=d&&be?ce(xe,ge,Ie):se(d?xe:ke,ge,d?Ie:we);T[Z]=Ee,N[Z]=Ee-ge}t.modifiersData[r]=N}}var at={name:"preventOverflow",enabled:!0,phase:"main",fn:it,requiresIfExists:["offset"]};function ot(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function ut(e){return e!==j(e)&&B(e)?ot(e):Ce(e)}function st(e){var t=e.getBoundingClientRect(),n=Q(t.width)/e.offsetWidth||1,r=Q(t.height)/e.offsetHeight||1;return 1!==n||1!==r}function ct(e,t,n){void 0===n&&(n=!1);var r=B(t),i=B(t)&&st(t),a=ne(t),o=J(e,i),u={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(r||!r&&!n)&&(("body"!==F(t)||De(a))&&(u=ut(t)),B(t)?(s=J(t,!0),s.x+=t.clientLeft,s.y+=t.clientTop):a&&(s.x=Re(a))),{x:o.left+u.scrollLeft-s.x,y:o.top+u.scrollTop-s.y,width:o.width,height:o.height}}function lt(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name);var a=[].concat(e.requires||[],e.requiresIfExists||[]);a.forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function ft(e){var t=lt(e);return U.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}function ht(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}function dt(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}var pt={placement:"bottom",modifiers:[],strategy:"absolute"};function vt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function gt(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?pt:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},pt,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],u=!1,s={state:i,setOptions:function(n){var o="function"===typeof n?n(i.options):n;l(),i.options=Object.assign({},a,i.options,o),i.scrollParents={reference:V(e)?Le(e):e.contextElement?Le(e.contextElement):[],popper:Le(t)};var u=ft(dt([].concat(r,i.options.modifiers)));return i.orderedModifiers=u.filter((function(e){return e.enabled})),c(),s.update()},forceUpdate:function(){if(!u){var e=i.elements,t=e.reference,n=e.popper;if(vt(t,n)){i.rects={reference:ct(t,oe(n),"fixed"===i.options.strategy),popper:X(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,c=a.options,l=void 0===c?{}:c,f=a.name;"function"===typeof o&&(i=o({state:i,options:l,name:f,instance:s})||i)}else i.reset=!1,r=-1}}},update:ht((function(){return new Promise((function(e){s.forceUpdate(),e(i)}))})),destroy:function(){l(),u=!0}};if(!vt(e,t))return s;function c(){i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var u=a({state:i,name:t,instance:s,options:r}),c=function(){};o.push(u||c)}}))}function l(){o.forEach((function(e){return e()})),o=[]}return s.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),s}}var yt,mt=gt(),kt=[Ee,nt,_e,K,et,He,at,ge,Je],wt=gt({defaultModifiers:kt}),bt=[Ee,nt,_e,K],_t=gt({defaultModifiers:bt}),xt=1e6,It=1e3,Et="transitionend",Zt=function(e){return null===e||void 0===e?"".concat(e):{}.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase()},Tt=function(e){do{e+=Math.floor(Math.random()*xt)}while(document.getElementById(e));return e},St=function(e){var t=e.getAttribute("data-bs-target");if(!t||"#"===t){var n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n="#".concat(n.split("#")[1])),t=n&&"#"!==n?n.trim():null}return t},At=function(e){var t=St(e);return t&&document.querySelector(t)?t:null},Ct=function(e){var t=St(e);return t?document.querySelector(t):null},Rt=function(e){if(!e)return 0;var t=window.getComputedStyle(e),n=t.transitionDuration,r=t.transitionDelay,i=Number.parseFloat(n),a=Number.parseFloat(r);return i||a?(n=n.split(",")[0],r=r.split(",")[0],(Number.parseFloat(n)+Number.parseFloat(r))*It):0},Ot=function(e){e.dispatchEvent(new Event(Et))},Nt=function(e){return!(!e||"object"!==(0,p.Z)(e))&&("undefined"!==typeof e.jquery&&(e=e[0]),"undefined"!==typeof e.nodeType)},Dt=function(e){return Nt(e)?e.jquery?e[0]:e:"string"===typeof e&&e.length>0?document.querySelector(e):null},Pt=function(e,t,n){Object.keys(n).forEach((function(r){var i=n[r],a=t[r],o=a&&Nt(a)?"element":Zt(a);if(!new RegExp(i).test(o))throw new TypeError("".concat(e.toUpperCase(),': Option "').concat(r,'" provided type "').concat(o,'" but expected type "').concat(i,'".'))}))},Lt=function(e){return!(!Nt(e)||0===e.getClientRects().length)&&"visible"===getComputedStyle(e).getPropertyValue("visibility")},Mt=function(e){return!e||e.nodeType!==Node.ELEMENT_NODE||(!!e.classList.contains("disabled")||("undefined"!==typeof e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")))},Ut=function e(t){if(!document.documentElement.attachShadow)return null;if("function"===typeof t.getRootNode){var n=t.getRootNode();return n instanceof ShadowRoot?n:null}return t instanceof ShadowRoot?t:t.parentNode?e(t.parentNode):null},Ft=function(){},jt=function(e){e.offsetHeight},Vt=function(){var e=window,t=e.jQuery;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},Bt=[],qt=function(e){"loading"===document.readyState?(Bt.length||document.addEventListener("DOMContentLoaded",(function(){Bt.forEach((function(e){return e()}))})),Bt.push(e)):e()},zt=function(){return"rtl"===document.documentElement.dir},Gt=function(e){qt((function(){var t=Vt();if(t){var n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=function(){return t.fn[n]=r,e.jQueryInterface}}}))},Kt=function(e){"function"===typeof e&&e()},Ht=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(n){var r=5,i=Rt(t)+r,a=!1,o=function n(r){var i=r.target;i===t&&(a=!0,t.removeEventListener(Et,n),Kt(e))};t.addEventListener(Et,o),setTimeout((function(){a||Ot(t)}),i)}else Kt(e)},Wt=function(e,t,n,r){var i=e.indexOf(t);if(-1===i)return e[!n&&r?e.length-1:0];var a=e.length;return i+=n?1:-1,r&&(i=(i+a)%a),e[Math.max(0,Math.min(i,a-1))]},Yt=/[^.]*(?=\..*)\.|.*/,Qt=/\..*/,Jt=/::\d+$/,Xt={},$t=1,en={mouseenter:"mouseover",mouseleave:"mouseout"},tn=/^(mouseenter|mouseleave)/i,nn=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function rn(e,t){return t&&"".concat(t,"::").concat($t++)||e.uidEvent||$t++}function an(e){var t=rn(e);return e.uidEvent=t,Xt[t]=Xt[t]||{},Xt[t]}function on(e,t){return function n(r){return r.delegateTarget=e,n.oneOff&&pn.off(e,r.type,t),t.apply(e,[r])}}function un(e,t,n){return function r(i){for(var a=e.querySelectorAll(t),o=i.target;o&&o!==this;o=o.parentNode)for(var u=a.length;u--;)if(a[u]===o)return i.delegateTarget=o,r.oneOff&&pn.off(e,i.type,t,n),n.apply(o,[i]);return null}}function sn(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=Object.keys(e),i=0,a=r.length;i<a;i++){var o=e[r[i]];if(o.originalHandler===t&&o.delegationSelector===n)return o}return null}function cn(e,t,n){var r="string"===typeof t,i=r?n:t,a=dn(e),o=nn.has(a);return o||(a=e),[r,i,a]}function ln(e,t,n,r,i){if("string"===typeof t&&e){if(n||(n=r,r=null),tn.test(t)){var a=function(e){return function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)}};r?r=a(r):n=a(n)}var o=cn(t,n,r),u=(0,d.Z)(o,3),s=u[0],c=u[1],l=u[2],f=an(e),h=f[l]||(f[l]={}),p=sn(h,c,s?n:null);if(p)p.oneOff=p.oneOff&&i;else{var v=rn(c,t.replace(Yt,"")),g=s?un(e,n,r):on(e,n);g.delegationSelector=s?n:null,g.originalHandler=c,g.oneOff=i,g.uidEvent=v,h[v]=g,e.addEventListener(l,g,s)}}}function fn(e,t,n,r,i){var a=sn(t[n],r,i);a&&(e.removeEventListener(n,a,Boolean(i)),delete t[n][a.uidEvent])}function hn(e,t,n,r){var i=t[n]||{};Object.keys(i).forEach((function(a){if(a.includes(r)){var o=i[a];fn(e,t,n,o.originalHandler,o.delegationSelector)}}))}function dn(e){return e=e.replace(Qt,""),en[e]||e}var pn={on:function(e,t,n,r){ln(e,t,n,r,!1)},one:function(e,t,n,r){ln(e,t,n,r,!0)},off:function(e,t,n,r){if("string"===typeof t&&e){var i=cn(t,n,r),a=(0,d.Z)(i,3),o=a[0],u=a[1],s=a[2],c=s!==t,l=an(e),f=t.startsWith(".");if("undefined"===typeof u){f&&Object.keys(l).forEach((function(n){hn(e,l,n,t.slice(1))}));var h=l[s]||{};Object.keys(h).forEach((function(n){var r=n.replace(Jt,"");if(!c||t.includes(r)){var i=h[n];fn(e,l,s,i.originalHandler,i.delegationSelector)}}))}else{if(!l||!l[s])return;fn(e,l,s,u,o?n:null)}}},trigger:function(e,t,n){if("string"!==typeof t||!e)return null;var r,i=Vt(),a=dn(t),o=t!==a,u=nn.has(a),s=!0,c=!0,l=!1,f=null;return o&&i&&(r=i.Event(t,n),i(e).trigger(r),s=!r.isPropagationStopped(),c=!r.isImmediatePropagationStopped(),l=r.isDefaultPrevented()),u?(f=document.createEvent("HTMLEvents"),f.initEvent(a,s,!0)):f=new CustomEvent(t,{bubbles:s,cancelable:!0}),"undefined"!==typeof n&&Object.keys(n).forEach((function(e){Object.defineProperty(f,e,{get:function(){return n[e]}})})),l&&f.preventDefault(),c&&e.dispatchEvent(f),f.defaultPrevented&&"undefined"!==typeof r&&r.preventDefault(),f}},vn=new Map,gn={set:function(e,t,n){vn.has(e)||vn.set(e,new Map);var r=vn.get(e);r.has(t)||0===r.size?r.set(t,n):console.error("Bootstrap doesn't allow more than one instance per element. Bound instance: ".concat(Array.from(r.keys())[0],"."))},get:function(e,t){return vn.has(e)&&vn.get(e).get(t)||null},remove:function(e,t){if(vn.has(e)){var n=vn.get(e);n.delete(t),0===n.size&&vn.delete(e)}}},yn="5.1.3",mn=function(){function e(t){(0,f.Z)(this,e),t=Dt(t),t&&(this._element=t,gn.set(this._element,this.constructor.DATA_KEY,this))}return(0,h.Z)(e,[{key:"dispose",value:function(){var e=this;gn.remove(this._element,this.constructor.DATA_KEY),pn.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach((function(t){e[t]=null}))}},{key:"_queueCallback",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Ht(e,t,n)}}],[{key:"getInstance",value:function(e){return gn.get(Dt(e),this.DATA_KEY)}},{key:"getOrCreateInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getInstance(e)||new this(e,"object"===(0,p.Z)(t)?t:null)}},{key:"VERSION",get:function(){return yn}},{key:"NAME",get:function(){throw new Error('You have to implement the static method "NAME", for each component!')}},{key:"DATA_KEY",get:function(){return"bs.".concat(this.NAME)}},{key:"EVENT_KEY",get:function(){return".".concat(this.DATA_KEY)}}]),e}(),kn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hide",n="click.dismiss".concat(e.EVENT_KEY),r=e.NAME;pn.on(document,n,'[data-bs-dismiss="'.concat(r,'"]'),(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Mt(this)){var i=Ct(this)||this.closest(".".concat(r)),a=e.getOrCreateInstance(i);a[t]()}}))},wn="alert",bn="bs.alert",_n=".".concat(bn),xn="close".concat(_n),In="closed".concat(_n),En="fade",Zn="show",Tn=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"close",value:function(){var e=this,t=pn.trigger(this._element,xn);if(!t.defaultPrevented){this._element.classList.remove(Zn);var n=this._element.classList.contains(En);this._queueCallback((function(){return e._destroyElement()}),this._element,n)}}},{key:"_destroyElement",value:function(){this._element.remove(),pn.trigger(this._element,In),this.dispose()}}],[{key:"NAME",get:function(){return wn}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}}))}}]),n}(mn);kn(Tn,"close"),Gt(Tn);var Sn="button",An="bs.button",Cn=".".concat(An),Rn=".data-api",On="active",Nn='[data-bs-toggle="button"]',Dn="click".concat(Cn).concat(Rn),Pn=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"toggle",value:function(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(On))}}],[{key:"NAME",get:function(){return Sn}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}]),n}(mn);function Ln(e){return"true"===e||"false"!==e&&(e===Number(e).toString()?Number(e):""===e||"null"===e?null:e)}function Mn(e){return e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())}))}pn.on(document,Dn,Nn,(function(e){e.preventDefault();var t=e.target.closest(Nn),n=Pn.getOrCreateInstance(t);n.toggle()})),Gt(Pn);var Un={setDataAttribute:function(e,t,n){e.setAttribute("data-bs-".concat(Mn(t)),n)},removeDataAttribute:function(e,t){e.removeAttribute("data-bs-".concat(Mn(t)))},getDataAttributes:function(e){if(!e)return{};var t={};return Object.keys(e.dataset).filter((function(e){return e.startsWith("bs")})).forEach((function(n){var r=n.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),t[r]=Ln(e.dataset[n])})),t},getDataAttribute:function(e,t){return Ln(e.getAttribute("data-bs-".concat(Mn(t))))},offset:function(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}},position:function(e){return{top:e.offsetTop,left:e.offsetLeft}}},Fn=3,jn={find:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return(t=[]).concat.apply(t,(0,s.Z)(Element.prototype.querySelectorAll.call(n,e)))},findOne:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(t,e)},children:function(e,t){var n;return(n=[]).concat.apply(n,(0,s.Z)(e.children)).filter((function(e){return e.matches(t)}))},parents:function(e,t){var n=[],r=e.parentNode;while(r&&r.nodeType===Node.ELEMENT_NODE&&r.nodeType!==Fn)r.matches(t)&&n.push(r),r=r.parentNode;return n},prev:function(e,t){var n=e.previousElementSibling;while(n){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next:function(e,t){var n=e.nextElementSibling;while(n){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren:function(e){var t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((function(e){return"".concat(e,':not([tabindex^="-"])')})).join(", ");return this.find(t,e).filter((function(e){return!Mt(e)&&Lt(e)}))}},Vn="carousel",Bn="bs.carousel",qn=".".concat(Bn),zn=".data-api",Gn="ArrowLeft",Kn="ArrowRight",Hn=500,Wn=40,Yn={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Qn={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Jn="next",Xn="prev",$n="left",er="right",tr=(yt={},(0,u.Z)(yt,Gn,er),(0,u.Z)(yt,Kn,$n),yt),nr="slide".concat(qn),rr="slid".concat(qn),ir="keydown".concat(qn),ar="mouseenter".concat(qn),or="mouseleave".concat(qn),ur="touchstart".concat(qn),sr="touchmove".concat(qn),cr="touchend".concat(qn),lr="pointerdown".concat(qn),fr="pointerup".concat(qn),hr="dragstart".concat(qn),dr="load".concat(qn).concat(zn),pr="click".concat(qn).concat(zn),vr="carousel",gr="active",yr="slide",mr="carousel-item-end",kr="carousel-item-start",wr="carousel-item-next",br="carousel-item-prev",_r="pointer-event",xr=".active",Ir=".active.carousel-item",Er=".carousel-item",Zr=".carousel-item img",Tr=".carousel-item-next, .carousel-item-prev",Sr=".carousel-indicators",Ar="[data-bs-target]",Cr="[data-bs-slide], [data-bs-slide-to]",Rr='[data-bs-ride="carousel"]',Or="touch",Nr="pen",Dr=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,f.Z)(this,n),i=t.call(this,e),i._items=null,i._interval=null,i._activeElement=null,i._isPaused=!1,i._isSliding=!1,i.touchTimeout=null,i.touchStartX=0,i.touchDeltaX=0,i._config=i._getConfig(r),i._indicatorsElement=jn.findOne(Sr,i._element),i._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,i._pointerEvent=Boolean(window.PointerEvent),i._addEventListeners(),i}return(0,h.Z)(n,[{key:"next",value:function(){this._slide(Jn)}},{key:"nextWhenVisible",value:function(){!document.hidden&&Lt(this._element)&&this.next()}},{key:"prev",value:function(){this._slide(Xn)}},{key:"pause",value:function(e){e||(this._isPaused=!0),jn.findOne(Tr,this._element)&&(Ot(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}},{key:"cycle",value:function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}},{key:"to",value:function(e){var t=this;this._activeElement=jn.findOne(Ir,this._element);var n=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)pn.one(this._element,rr,(function(){return t.to(e)}));else{if(n===e)return this.pause(),void this.cycle();var r=e>n?Jn:Xn;this._slide(r,this._items[e])}}},{key:"_getConfig",value:function(e){return e=(0,o.Z)((0,o.Z)((0,o.Z)({},Yn),Un.getDataAttributes(this._element)),"object"===(0,p.Z)(e)?e:{}),Pt(Vn,e,Qn),e}},{key:"_handleSwipe",value:function(){var e=Math.abs(this.touchDeltaX);if(!(e<=Wn)){var t=e/this.touchDeltaX;this.touchDeltaX=0,t&&this._slide(t>0?er:$n)}}},{key:"_addEventListeners",value:function(){var e=this;this._config.keyboard&&pn.on(this._element,ir,(function(t){return e._keydown(t)})),"hover"===this._config.pause&&(pn.on(this._element,ar,(function(t){return e.pause(t)})),pn.on(this._element,or,(function(t){return e.cycle(t)}))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}},{key:"_addTouchEventListeners",value:function(){var e=this,t=function(t){return e._pointerEvent&&(t.pointerType===Nr||t.pointerType===Or)},n=function(n){t(n)?e.touchStartX=n.clientX:e._pointerEvent||(e.touchStartX=n.touches[0].clientX)},r=function(t){e.touchDeltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-e.touchStartX},i=function(n){t(n)&&(e.touchDeltaX=n.clientX-e.touchStartX),e._handleSwipe(),"hover"===e._config.pause&&(e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout((function(t){return e.cycle(t)}),Hn+e._config.interval))};jn.find(Zr,this._element).forEach((function(e){pn.on(e,hr,(function(e){return e.preventDefault()}))})),this._pointerEvent?(pn.on(this._element,lr,(function(e){return n(e)})),pn.on(this._element,fr,(function(e){return i(e)})),this._element.classList.add(_r)):(pn.on(this._element,ur,(function(e){return n(e)})),pn.on(this._element,sr,(function(e){return r(e)})),pn.on(this._element,cr,(function(e){return i(e)})))}},{key:"_keydown",value:function(e){if(!/input|textarea/i.test(e.target.tagName)){var t=tr[e.key];t&&(e.preventDefault(),this._slide(t))}}},{key:"_getItemIndex",value:function(e){return this._items=e&&e.parentNode?jn.find(Er,e.parentNode):[],this._items.indexOf(e)}},{key:"_getItemByOrder",value:function(e,t){var n=e===Jn;return Wt(this._items,t,n,this._config.wrap)}},{key:"_triggerSlideEvent",value:function(e,t){var n=this._getItemIndex(e),r=this._getItemIndex(jn.findOne(Ir,this._element));return pn.trigger(this._element,nr,{relatedTarget:e,direction:t,from:r,to:n})}},{key:"_setActiveIndicatorElement",value:function(e){if(this._indicatorsElement){var t=jn.findOne(xr,this._indicatorsElement);t.classList.remove(gr),t.removeAttribute("aria-current");for(var n=jn.find(Ar,this._indicatorsElement),r=0;r<n.length;r++)if(Number.parseInt(n[r].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(e)){n[r].classList.add(gr),n[r].setAttribute("aria-current","true");break}}}},{key:"_updateInterval",value:function(){var e=this._activeElement||jn.findOne(Ir,this._element);if(e){var t=Number.parseInt(e.getAttribute("data-bs-interval"),10);t?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=t):this._config.interval=this._config.defaultInterval||this._config.interval}}},{key:"_slide",value:function(e,t){var n=this,r=this._directionToOrder(e),i=jn.findOne(Ir,this._element),a=this._getItemIndex(i),o=t||this._getItemByOrder(r,i),u=this._getItemIndex(o),s=Boolean(this._interval),c=r===Jn,l=c?kr:mr,f=c?wr:br,h=this._orderToDirection(r);if(o&&o.classList.contains(gr))this._isSliding=!1;else if(!this._isSliding){var d=this._triggerSlideEvent(o,h);if(!d.defaultPrevented&&i&&o){this._isSliding=!0,s&&this.pause(),this._setActiveIndicatorElement(o),this._activeElement=o;var p=function(){pn.trigger(n._element,rr,{relatedTarget:o,direction:h,from:a,to:u})};if(this._element.classList.contains(yr)){o.classList.add(f),jt(o),i.classList.add(l),o.classList.add(l);var v=function(){o.classList.remove(l,f),o.classList.add(gr),i.classList.remove(gr,f,l),n._isSliding=!1,setTimeout(p,0)};this._queueCallback(v,i,!0)}else i.classList.remove(gr),o.classList.add(gr),this._isSliding=!1,p();s&&this.cycle()}}}},{key:"_directionToOrder",value:function(e){return[er,$n].includes(e)?zt()?e===$n?Xn:Jn:e===$n?Jn:Xn:e}},{key:"_orderToDirection",value:function(e){return[Jn,Xn].includes(e)?zt()?e===Xn?$n:er:e===Xn?er:$n:e}}],[{key:"Default",get:function(){return Yn}},{key:"NAME",get:function(){return Vn}},{key:"carouselInterface",value:function(e,t){var r=n.getOrCreateInstance(e,t),i=r._config;"object"===(0,p.Z)(t)&&(i=(0,o.Z)((0,o.Z)({},i),t));var a="string"===typeof t?t:i.slide;if("number"===typeof t)r.to(t);else if("string"===typeof a){if("undefined"===typeof r[a])throw new TypeError('No method named "'.concat(a,'"'));r[a]()}else i.interval&&i.ride&&(r.pause(),r.cycle())}},{key:"jQueryInterface",value:function(e){return this.each((function(){n.carouselInterface(this,e)}))}},{key:"dataApiClickHandler",value:function(e){var t=Ct(this);if(t&&t.classList.contains(vr)){var r=(0,o.Z)((0,o.Z)({},Un.getDataAttributes(t)),Un.getDataAttributes(this)),i=this.getAttribute("data-bs-slide-to");i&&(r.interval=!1),n.carouselInterface(t,r),i&&n.getInstance(t).to(i),e.preventDefault()}}}]),n}(mn);pn.on(document,pr,Cr,Dr.dataApiClickHandler),pn.on(window,dr,(function(){for(var e=jn.find(Rr),t=0,n=e.length;t<n;t++)Dr.carouselInterface(e[t],Dr.getInstance(e[t]))})),Gt(Dr);var Pr="collapse",Lr="bs.collapse",Mr=".".concat(Lr),Ur=".data-api",Fr={toggle:!0,parent:null},jr={toggle:"boolean",parent:"(null|element)"},Vr="show".concat(Mr),Br="shown".concat(Mr),qr="hide".concat(Mr),zr="hidden".concat(Mr),Gr="click".concat(Mr).concat(Ur),Kr="show",Hr="collapse",Wr="collapsing",Yr="collapsed",Qr=":scope .".concat(Hr," .").concat(Hr),Jr="collapse-horizontal",Xr="width",$r="height",ei=".collapse.show, .collapse.collapsing",ti='[data-bs-toggle="collapse"]',ni=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;(0,f.Z)(this,n),i=t.call(this,e),i._isTransitioning=!1,i._config=i._getConfig(r),i._triggerArray=[];for(var a=jn.find(ti),o=0,u=a.length;o<u;o++){var s=a[o],c=At(s),l=jn.find(c).filter((function(e){return e===i._element}));null!==c&&l.length&&(i._selector=c,i._triggerArray.push(s))}return i._initializeChildren(),i._config.parent||i._addAriaAndCollapsedClass(i._triggerArray,i._isShown()),i._config.toggle&&i.toggle(),i}return(0,h.Z)(n,[{key:"toggle",value:function(){this._isShown()?this.hide():this.show()}},{key:"show",value:function(){var e=this;if(!this._isTransitioning&&!this._isShown()){var t,r=[];if(this._config.parent){var i=jn.find(Qr,this._config.parent);r=jn.find(ei,this._config.parent).filter((function(e){return!i.includes(e)}))}var a=jn.findOne(this._selector);if(r.length){var o=r.find((function(e){return a!==e}));if(t=o?n.getInstance(o):null,t&&t._isTransitioning)return}var u=pn.trigger(this._element,Vr);if(!u.defaultPrevented){r.forEach((function(e){a!==e&&n.getOrCreateInstance(e,{toggle:!1}).hide(),t||gn.set(e,Lr,null)}));var s=this._getDimension();this._element.classList.remove(Hr),this._element.classList.add(Wr),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;var c=function(){e._isTransitioning=!1,e._element.classList.remove(Wr),e._element.classList.add(Hr,Kr),e._element.style[s]="",pn.trigger(e._element,Br)},l=s[0].toUpperCase()+s.slice(1),f="scroll".concat(l);this._queueCallback(c,this._element,!0),this._element.style[s]="".concat(this._element[f],"px")}}}},{key:"hide",value:function(){var e=this;if(!this._isTransitioning&&this._isShown()){var t=pn.trigger(this._element,qr);if(!t.defaultPrevented){var n=this._getDimension();this._element.style[n]="".concat(this._element.getBoundingClientRect()[n],"px"),jt(this._element),this._element.classList.add(Wr),this._element.classList.remove(Hr,Kr);for(var r=this._triggerArray.length,i=0;i<r;i++){var a=this._triggerArray[i],o=Ct(a);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([a],!1)}this._isTransitioning=!0;var u=function(){e._isTransitioning=!1,e._element.classList.remove(Wr),e._element.classList.add(Hr),pn.trigger(e._element,zr)};this._element.style[n]="",this._queueCallback(u,this._element,!0)}}}},{key:"_isShown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._element;return e.classList.contains(Kr)}},{key:"_getConfig",value:function(e){return e=(0,o.Z)((0,o.Z)((0,o.Z)({},Fr),Un.getDataAttributes(this._element)),e),e.toggle=Boolean(e.toggle),e.parent=Dt(e.parent),Pt(Pr,e,jr),e}},{key:"_getDimension",value:function(){return this._element.classList.contains(Jr)?Xr:$r}},{key:"_initializeChildren",value:function(){var e=this;if(this._config.parent){var t=jn.find(Qr,this._config.parent);jn.find(ti,this._config.parent).filter((function(e){return!t.includes(e)})).forEach((function(t){var n=Ct(t);n&&e._addAriaAndCollapsedClass([t],e._isShown(n))}))}}},{key:"_addAriaAndCollapsedClass",value:function(e,t){e.length&&e.forEach((function(e){t?e.classList.remove(Yr):e.classList.add(Yr),e.setAttribute("aria-expanded",t)}))}}],[{key:"Default",get:function(){return Fr}},{key:"NAME",get:function(){return Pr}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t={};"string"===typeof e&&/show|hide/.test(e)&&(t.toggle=!1);var r=n.getOrCreateInstance(this,t);if("string"===typeof e){if("undefined"===typeof r[e])throw new TypeError('No method named "'.concat(e,'"'));r[e]()}}))}}]),n}(mn);pn.on(document,Gr,ti,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();var t=At(this),n=jn.find(t);n.forEach((function(e){ni.getOrCreateInstance(e,{toggle:!1}).toggle()}))})),Gt(ni);var ri="dropdown",ii="bs.dropdown",ai=".".concat(ii),oi=".data-api",ui="Escape",si="Space",ci="Tab",li="ArrowUp",fi="ArrowDown",hi=2,di=new RegExp("".concat(li,"|").concat(fi,"|").concat(ui)),pi="hide".concat(ai),vi="hidden".concat(ai),gi="show".concat(ai),yi="shown".concat(ai),mi="click".concat(ai).concat(oi),ki="keydown".concat(ai).concat(oi),wi="keyup".concat(ai).concat(oi),bi="show",_i="dropup",xi="dropend",Ii="dropstart",Ei="navbar",Zi='[data-bs-toggle="dropdown"]',Ti=".dropdown-menu",Si=".navbar-nav",Ai=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Ci=zt()?"top-end":"top-start",Ri=zt()?"top-start":"top-end",Oi=zt()?"bottom-end":"bottom-start",Ni=zt()?"bottom-start":"bottom-end",Di=zt()?"left-start":"right-start",Pi=zt()?"right-start":"left-start",Li={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},Mi={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"},Ui=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,f.Z)(this,n),i=t.call(this,e),i._popper=null,i._config=i._getConfig(r),i._menu=i._getMenuElement(),i._inNavbar=i._detectNavbar(),i}return(0,h.Z)(n,[{key:"toggle",value:function(){return this._isShown()?this.hide():this.show()}},{key:"show",value:function(){if(!Mt(this._element)&&!this._isShown(this._menu)){var e={relatedTarget:this._element},t=pn.trigger(this._element,gi,e);if(!t.defaultPrevented){var r,i=n.getParentFromElement(this._element);if(this._inNavbar?Un.setDataAttribute(this._menu,"popper","none"):this._createPopper(i),"ontouchstart"in document.documentElement&&!i.closest(Si))(r=[]).concat.apply(r,(0,s.Z)(document.body.children)).forEach((function(e){return pn.on(e,"mouseover",Ft)}));this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(bi),this._element.classList.add(bi),pn.trigger(this._element,yi,e)}}}},{key:"hide",value:function(){if(!Mt(this._element)&&this._isShown(this._menu)){var e={relatedTarget:this._element};this._completeHide(e)}}},{key:"dispose",value:function(){this._popper&&this._popper.destroy(),(0,i.Z)((0,a.Z)(n.prototype),"dispose",this).call(this)}},{key:"update",value:function(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}},{key:"_completeHide",value:function(e){var t=pn.trigger(this._element,pi,e);if(!t.defaultPrevented){var n;if("ontouchstart"in document.documentElement)(n=[]).concat.apply(n,(0,s.Z)(document.body.children)).forEach((function(e){return pn.off(e,"mouseover",Ft)}));this._popper&&this._popper.destroy(),this._menu.classList.remove(bi),this._element.classList.remove(bi),this._element.setAttribute("aria-expanded","false"),Un.removeDataAttribute(this._menu,"popper"),pn.trigger(this._element,vi,e)}}},{key:"_getConfig",value:function(e){if(e=(0,o.Z)((0,o.Z)((0,o.Z)({},this.constructor.Default),Un.getDataAttributes(this._element)),e),Pt(ri,e,this.constructor.DefaultType),"object"===(0,p.Z)(e.reference)&&!Nt(e.reference)&&"function"!==typeof e.reference.getBoundingClientRect)throw new TypeError("".concat(ri.toUpperCase(),': Option "reference" provided type "object" without a required "getBoundingClientRect" method.'));return e}},{key:"_createPopper",value:function(e){if("undefined"===typeof r)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var t=this._element;"parent"===this._config.reference?t=e:Nt(this._config.reference)?t=Dt(this._config.reference):"object"===(0,p.Z)(this._config.reference)&&(t=this._config.reference);var n=this._getPopperConfig(),i=n.modifiers.find((function(e){return"applyStyles"===e.name&&!1===e.enabled}));this._popper=wt(t,this._menu,n),i&&Un.setDataAttribute(this._menu,"popper","static")}},{key:"_isShown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._element;return e.classList.contains(bi)}},{key:"_getMenuElement",value:function(){return jn.next(this._element,Ti)[0]}},{key:"_getPlacement",value:function(){var e=this._element.parentNode;if(e.classList.contains(xi))return Di;if(e.classList.contains(Ii))return Pi;var t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains(_i)?t?Ri:Ci:t?Ni:Oi}},{key:"_detectNavbar",value:function(){return null!==this._element.closest(".".concat(Ei))}},{key:"_getOffset",value:function(){var e=this,t=this._config.offset;return"string"===typeof t?t.split(",").map((function(e){return Number.parseInt(e,10)})):"function"===typeof t?function(n){return t(n,e._element)}:t}},{key:"_getPopperConfig",value:function(){var e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(e.modifiers=[{name:"applyStyles",enabled:!1}]),(0,o.Z)((0,o.Z)({},e),"function"===typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig)}},{key:"_selectMenuItem",value:function(e){var t=e.key,n=e.target,r=jn.find(Ai,this._menu).filter(Lt);r.length&&Wt(r,n,t===fi,!r.includes(n)).focus()}}],[{key:"Default",get:function(){return Li}},{key:"DefaultType",get:function(){return Mi}},{key:"NAME",get:function(){return ri}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}},{key:"clearMenus",value:function(e){if(!e||e.button!==hi&&("keyup"!==e.type||e.key===ci))for(var t=jn.find(Zi),r=0,i=t.length;r<i;r++){var a=n.getInstance(t[r]);if(a&&!1!==a._config.autoClose&&a._isShown()){var o={relatedTarget:a._element};if(e){var u=e.composedPath(),s=u.includes(a._menu);if(u.includes(a._element)||"inside"===a._config.autoClose&&!s||"outside"===a._config.autoClose&&s)continue;if(a._menu.contains(e.target)&&("keyup"===e.type&&e.key===ci||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;"click"===e.type&&(o.clickEvent=e)}a._completeHide(o)}}}},{key:"getParentFromElement",value:function(e){return Ct(e)||e.parentNode}},{key:"dataApiKeydownHandler",value:function(e){if(!(/input|textarea/i.test(e.target.tagName)?e.key===si||e.key!==ui&&(e.key!==fi&&e.key!==li||e.target.closest(Ti)):!di.test(e.key))){var t=this.classList.contains(bi);if((t||e.key!==ui)&&(e.preventDefault(),e.stopPropagation(),!Mt(this))){var r=this.matches(Zi)?this:jn.prev(this,Zi)[0],i=n.getOrCreateInstance(r);if(e.key!==ui)return e.key===li||e.key===fi?(t||i.show(),void i._selectMenuItem(e)):void(t&&e.key!==si||n.clearMenus());i.hide()}}}}]),n}(mn);pn.on(document,ki,Zi,Ui.dataApiKeydownHandler),pn.on(document,ki,Ti,Ui.dataApiKeydownHandler),pn.on(document,mi,Ui.clearMenus),pn.on(document,wi,Ui.clearMenus),pn.on(document,mi,Zi,(function(e){e.preventDefault(),Ui.getOrCreateInstance(this).toggle()})),Gt(Ui);var Fi=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ji=".sticky-top",Vi=function(){function e(){(0,f.Z)(this,e),this._element=document.body}return(0,h.Z)(e,[{key:"getWidth",value:function(){var e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}},{key:"hide",value:function(){var e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",(function(t){return t+e})),this._setElementAttributes(Fi,"paddingRight",(function(t){return t+e})),this._setElementAttributes(ji,"marginRight",(function(t){return t-e}))}},{key:"_disableOverFlow",value:function(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}},{key:"_setElementAttributes",value:function(e,t,n){var r=this,i=this.getWidth(),a=function(e){if(!(e!==r._element&&window.innerWidth>e.clientWidth+i)){r._saveInitialAttribute(e,t);var a=window.getComputedStyle(e)[t];e.style[t]="".concat(n(Number.parseFloat(a)),"px")}};this._applyManipulationCallback(e,a)}},{key:"reset",value:function(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(Fi,"paddingRight"),this._resetElementAttributes(ji,"marginRight")}},{key:"_saveInitialAttribute",value:function(e,t){var n=e.style[t];n&&Un.setDataAttribute(e,t,n)}},{key:"_resetElementAttributes",value:function(e,t){var n=function(e){var n=Un.getDataAttribute(e,t);"undefined"===typeof n?e.style.removeProperty(t):(Un.removeDataAttribute(e,t),e.style[t]=n)};this._applyManipulationCallback(e,n)}},{key:"_applyManipulationCallback",value:function(e,t){Nt(e)?t(e):jn.find(e,this._element).forEach(t)}},{key:"isOverflowing",value:function(){return this.getWidth()>0}}]),e}(),Bi={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},qi={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},zi="backdrop",Gi="fade",Ki="show",Hi="mousedown.bs.".concat(zi),Wi=function(){function e(t){(0,f.Z)(this,e),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}return(0,h.Z)(e,[{key:"show",value:function(e){this._config.isVisible?(this._append(),this._config.isAnimated&&jt(this._getElement()),this._getElement().classList.add(Ki),this._emulateAnimation((function(){Kt(e)}))):Kt(e)}},{key:"hide",value:function(e){var t=this;this._config.isVisible?(this._getElement().classList.remove(Ki),this._emulateAnimation((function(){t.dispose(),Kt(e)}))):Kt(e)}},{key:"_getElement",value:function(){if(!this._element){var e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Gi),this._element=e}return this._element}},{key:"_getConfig",value:function(e){return e=(0,o.Z)((0,o.Z)({},Bi),"object"===(0,p.Z)(e)?e:{}),e.rootElement=Dt(e.rootElement),Pt(zi,e,qi),e}},{key:"_append",value:function(){var e=this;this._isAppended||(this._config.rootElement.append(this._getElement()),pn.on(this._getElement(),Hi,(function(){Kt(e._config.clickCallback)})),this._isAppended=!0)}},{key:"dispose",value:function(){this._isAppended&&(pn.off(this._element,Hi),this._element.remove(),this._isAppended=!1)}},{key:"_emulateAnimation",value:function(e){Ht(e,this._getElement(),this._config.isAnimated)}}]),e}(),Yi={trapElement:null,autofocus:!0},Qi={trapElement:"element",autofocus:"boolean"},Ji="focustrap",Xi="bs.focustrap",$i=".".concat(Xi),ea="focusin".concat($i),ta="keydown.tab".concat($i),na="Tab",ra="forward",ia="backward",aa=function(){function e(t){(0,f.Z)(this,e),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}return(0,h.Z)(e,[{key:"activate",value:function(){var e=this,t=this._config,n=t.trapElement,r=t.autofocus;this._isActive||(r&&n.focus(),pn.off(document,$i),pn.on(document,ea,(function(t){return e._handleFocusin(t)})),pn.on(document,ta,(function(t){return e._handleKeydown(t)})),this._isActive=!0)}},{key:"deactivate",value:function(){this._isActive&&(this._isActive=!1,pn.off(document,$i))}},{key:"_handleFocusin",value:function(e){var t=e.target,n=this._config.trapElement;if(t!==document&&t!==n&&!n.contains(t)){var r=jn.focusableChildren(n);0===r.length?n.focus():this._lastTabNavDirection===ia?r[r.length-1].focus():r[0].focus()}}},{key:"_handleKeydown",value:function(e){e.key===na&&(this._lastTabNavDirection=e.shiftKey?ia:ra)}},{key:"_getConfig",value:function(e){return e=(0,o.Z)((0,o.Z)({},Yi),"object"===(0,p.Z)(e)?e:{}),Pt(Ji,e,Qi),e}}]),e}(),oa="modal",ua="bs.modal",sa=".".concat(ua),ca=".data-api",la="Escape",fa={backdrop:!0,keyboard:!0,focus:!0},ha={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},da="hide".concat(sa),pa="hidePrevented".concat(sa),va="hidden".concat(sa),ga="show".concat(sa),ya="shown".concat(sa),ma="resize".concat(sa),ka="click.dismiss".concat(sa),wa="keydown.dismiss".concat(sa),ba="mouseup.dismiss".concat(sa),_a="mousedown.dismiss".concat(sa),xa="click".concat(sa).concat(ca),Ia="modal-open",Ea="fade",Za="show",Ta="modal-static",Sa=".modal.show",Aa=".modal-dialog",Ca=".modal-body",Ra='[data-bs-toggle="modal"]',Oa=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,f.Z)(this,n),i=t.call(this,e),i._config=i._getConfig(r),i._dialog=jn.findOne(Aa,i._element),i._backdrop=i._initializeBackDrop(),i._focustrap=i._initializeFocusTrap(),i._isShown=!1,i._ignoreBackdropClick=!1,i._isTransitioning=!1,i._scrollBar=new Vi,i}return(0,h.Z)(n,[{key:"toggle",value:function(e){return this._isShown?this.hide():this.show(e)}},{key:"show",value:function(e){var t=this;if(!this._isShown&&!this._isTransitioning){var n=pn.trigger(this._element,ga,{relatedTarget:e});n.defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(Ia),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),pn.on(this._dialog,_a,(function(){pn.one(t._element,ba,(function(e){e.target===t._element&&(t._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return t._showElement(e)})))}}},{key:"hide",value:function(){var e=this;if(this._isShown&&!this._isTransitioning){var t=pn.trigger(this._element,da);if(!t.defaultPrevented){this._isShown=!1;var n=this._isAnimated();n&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove(Za),pn.off(this._element,ka),pn.off(this._dialog,_a),this._queueCallback((function(){return e._hideModal()}),this._element,n)}}}},{key:"dispose",value:function(){[window,this._dialog].forEach((function(e){return pn.off(e,sa)})),this._backdrop.dispose(),this._focustrap.deactivate(),(0,i.Z)((0,a.Z)(n.prototype),"dispose",this).call(this)}},{key:"handleUpdate",value:function(){this._adjustDialog()}},{key:"_initializeBackDrop",value:function(){return new Wi({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}},{key:"_initializeFocusTrap",value:function(){return new aa({trapElement:this._element})}},{key:"_getConfig",value:function(e){return e=(0,o.Z)((0,o.Z)((0,o.Z)({},fa),Un.getDataAttributes(this._element)),"object"===(0,p.Z)(e)?e:{}),Pt(oa,e,ha),e}},{key:"_showElement",value:function(e){var t=this,n=this._isAnimated(),r=jn.findOne(Ca,this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,r&&(r.scrollTop=0),n&&jt(this._element),this._element.classList.add(Za);var i=function(){t._config.focus&&t._focustrap.activate(),t._isTransitioning=!1,pn.trigger(t._element,ya,{relatedTarget:e})};this._queueCallback(i,this._dialog,n)}},{key:"_setEscapeEvent",value:function(){var e=this;this._isShown?pn.on(this._element,wa,(function(t){e._config.keyboard&&t.key===la?(t.preventDefault(),e.hide()):e._config.keyboard||t.key!==la||e._triggerBackdropTransition()})):pn.off(this._element,wa)}},{key:"_setResizeEvent",value:function(){var e=this;this._isShown?pn.on(window,ma,(function(){return e._adjustDialog()})):pn.off(window,ma)}},{key:"_hideModal",value:function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((function(){document.body.classList.remove(Ia),e._resetAdjustments(),e._scrollBar.reset(),pn.trigger(e._element,va)}))}},{key:"_showBackdrop",value:function(e){var t=this;pn.on(this._element,ka,(function(e){t._ignoreBackdropClick?t._ignoreBackdropClick=!1:e.target===e.currentTarget&&(!0===t._config.backdrop?t.hide():"static"===t._config.backdrop&&t._triggerBackdropTransition())})),this._backdrop.show(e)}},{key:"_isAnimated",value:function(){return this._element.classList.contains(Ea)}},{key:"_triggerBackdropTransition",value:function(){var e=this,t=pn.trigger(this._element,pa);if(!t.defaultPrevented){var n=this._element,r=n.classList,i=n.scrollHeight,a=n.style,o=i>document.documentElement.clientHeight;!o&&"hidden"===a.overflowY||r.contains(Ta)||(o||(a.overflowY="hidden"),r.add(Ta),this._queueCallback((function(){r.remove(Ta),o||e._queueCallback((function(){a.overflowY=""}),e._dialog)}),this._dialog),this._element.focus())}}},{key:"_adjustDialog",value:function(){var e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;(!n&&e&&!zt()||n&&!e&&zt())&&(this._element.style.paddingLeft="".concat(t,"px")),(n&&!e&&!zt()||!n&&e&&zt())&&(this._element.style.paddingRight="".concat(t,"px"))}},{key:"_resetAdjustments",value:function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}}],[{key:"Default",get:function(){return fa}},{key:"NAME",get:function(){return oa}},{key:"jQueryInterface",value:function(e,t){return this.each((function(){var r=n.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof r[e])throw new TypeError('No method named "'.concat(e,'"'));r[e](t)}}))}}]),n}(mn);pn.on(document,xa,Ra,(function(e){var t=this,n=Ct(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),pn.one(n,ga,(function(e){e.defaultPrevented||pn.one(n,va,(function(){Lt(t)&&t.focus()}))}));var r=jn.findOne(Sa);r&&Oa.getInstance(r).hide();var i=Oa.getOrCreateInstance(n);i.toggle(this)})),kn(Oa),Gt(Oa);var Na="offcanvas",Da="bs.offcanvas",Pa=".".concat(Da),La=".data-api",Ma="load".concat(Pa).concat(La),Ua="Escape",Fa={backdrop:!0,keyboard:!0,scroll:!1},ja={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},Va="show",Ba="offcanvas-backdrop",qa=".offcanvas.show",za="show".concat(Pa),Ga="shown".concat(Pa),Ka="hide".concat(Pa),Ha="hidden".concat(Pa),Wa="click".concat(Pa).concat(La),Ya="keydown.dismiss".concat(Pa),Qa='[data-bs-toggle="offcanvas"]',Ja=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,f.Z)(this,n),i=t.call(this,e),i._config=i._getConfig(r),i._isShown=!1,i._backdrop=i._initializeBackDrop(),i._focustrap=i._initializeFocusTrap(),i._addEventListeners(),i}return(0,h.Z)(n,[{key:"toggle",value:function(e){return this._isShown?this.hide():this.show(e)}},{key:"show",value:function(e){var t=this;if(!this._isShown){var n=pn.trigger(this._element,za,{relatedTarget:e});if(!n.defaultPrevented){this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new Vi).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Va);var r=function(){t._config.scroll||t._focustrap.activate(),pn.trigger(t._element,Ga,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}}}},{key:"hide",value:function(){var e=this;if(this._isShown){var t=pn.trigger(this._element,Ka);if(!t.defaultPrevented){this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove(Va),this._backdrop.hide();var n=function(){e._element.setAttribute("aria-hidden",!0),e._element.removeAttribute("aria-modal"),e._element.removeAttribute("role"),e._element.style.visibility="hidden",e._config.scroll||(new Vi).reset(),pn.trigger(e._element,Ha)};this._queueCallback(n,this._element,!0)}}}},{key:"dispose",value:function(){this._backdrop.dispose(),this._focustrap.deactivate(),(0,i.Z)((0,a.Z)(n.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(e){return e=(0,o.Z)((0,o.Z)((0,o.Z)({},Fa),Un.getDataAttributes(this._element)),"object"===(0,p.Z)(e)?e:{}),Pt(Na,e,ja),e}},{key:"_initializeBackDrop",value:function(){var e=this;return new Wi({className:Ba,isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:function(){return e.hide()}})}},{key:"_initializeFocusTrap",value:function(){return new aa({trapElement:this._element})}},{key:"_addEventListeners",value:function(){var e=this;pn.on(this._element,Ya,(function(t){e._config.keyboard&&t.key===Ua&&e.hide()}))}}],[{key:"NAME",get:function(){return Na}},{key:"Default",get:function(){return Fa}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}}))}}]),n}(mn);pn.on(document,Wa,Qa,(function(e){var t=this,n=Ct(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),!Mt(this)){pn.one(n,Ha,(function(){Lt(t)&&t.focus()}));var r=jn.findOne(qa);r&&r!==n&&Ja.getInstance(r).hide();var i=Ja.getOrCreateInstance(n);i.toggle(this)}})),pn.on(window,Ma,(function(){return jn.find(qa).forEach((function(e){return Ja.getOrCreateInstance(e).show()}))})),kn(Ja),Gt(Ja);var Xa=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),$a=/^aria-[\w-]*$/i,eo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,to=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,no=function(e,t){var n=e.nodeName.toLowerCase();if(t.includes(n))return!Xa.has(n)||Boolean(eo.test(e.nodeValue)||to.test(e.nodeValue));for(var r=t.filter((function(e){return e instanceof RegExp})),i=0,a=r.length;i<a;i++)if(r[i].test(n))return!0;return!1},ro={"*":["class","dir","id","lang","role",$a],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function io(e,t,n){var r;if(!e.length)return e;if(n&&"function"===typeof n)return n(e);for(var i=new window.DOMParser,a=i.parseFromString(e,"text/html"),o=(r=[]).concat.apply(r,(0,s.Z)(a.body.querySelectorAll("*"))),u=function(e,n){var r,i=o[e],a=i.nodeName.toLowerCase();if(!Object.keys(t).includes(a))return i.remove(),"continue";var u=(r=[]).concat.apply(r,(0,s.Z)(i.attributes)),c=[].concat(t["*"]||[],t[a]||[]);u.forEach((function(e){no(e,c)||i.removeAttribute(e.nodeName)}))},c=0,l=o.length;c<l;c++)u(c,l);return a.body.innerHTML}var ao="tooltip",oo="bs.tooltip",uo=".".concat(oo),so="bs-tooltip",co=new Set(["sanitize","allowList","sanitizeFn"]),lo={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},fo={AUTO:"auto",TOP:"top",RIGHT:zt()?"left":"right",BOTTOM:"bottom",LEFT:zt()?"right":"left"},ho={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:ro,popperConfig:null},po={HIDE:"hide".concat(uo),HIDDEN:"hidden".concat(uo),SHOW:"show".concat(uo),SHOWN:"shown".concat(uo),INSERTED:"inserted".concat(uo),CLICK:"click".concat(uo),FOCUSIN:"focusin".concat(uo),FOCUSOUT:"focusout".concat(uo),MOUSEENTER:"mouseenter".concat(uo),MOUSELEAVE:"mouseleave".concat(uo)},vo="fade",go="modal",yo="show",mo="show",ko="out",wo=".tooltip-inner",bo=".".concat(go),_o="hide.bs.modal",xo="hover",Io="focus",Eo="click",Zo="manual",To=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,i){var a;if((0,f.Z)(this,n),"undefined"===typeof r)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");return a=t.call(this,e),a._isEnabled=!0,a._timeout=0,a._hoverState="",a._activeTrigger={},a._popper=null,a._config=a._getConfig(i),a.tip=null,a._setListeners(),a}return(0,h.Z)(n,[{key:"enable",value:function(){this._isEnabled=!0}},{key:"disable",value:function(){this._isEnabled=!1}},{key:"toggleEnabled",value:function(){this._isEnabled=!this._isEnabled}},{key:"toggle",value:function(e){if(this._isEnabled)if(e){var t=this._initializeOnDelegatedTarget(e);t._activeTrigger.click=!t._activeTrigger.click,t._isWithActiveTrigger()?t._enter(null,t):t._leave(null,t)}else{if(this.getTipElement().classList.contains(yo))return void this._leave(null,this);this._enter(null,this)}}},{key:"dispose",value:function(){clearTimeout(this._timeout),pn.off(this._element.closest(bo),_o,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),(0,i.Z)((0,a.Z)(n.prototype),"dispose",this).call(this)}},{key:"show",value:function(){var e=this;if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(this.isWithContent()&&this._isEnabled){var t=pn.trigger(this._element,this.constructor.Event.SHOW),n=Ut(this._element),r=null===n?this._element.ownerDocument.documentElement.contains(this._element):n.contains(this._element);if(!t.defaultPrevented&&r){"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(wo).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);var i=this.getTipElement(),a=Tt(this.constructor.NAME);i.setAttribute("id",a),this._element.setAttribute("aria-describedby",a),this._config.animation&&i.classList.add(vo);var o="function"===typeof this._config.placement?this._config.placement.call(this,i,this._element):this._config.placement,u=this._getAttachment(o);this._addAttachmentClass(u);var c=this._config.container;gn.set(i,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(c.append(i),pn.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=wt(this._element,i,this._getPopperConfig(u)),i.classList.add(yo);var l,f,h=this._resolvePossibleFunction(this._config.customClass);if(h)(l=i.classList).add.apply(l,(0,s.Z)(h.split(" ")));if("ontouchstart"in document.documentElement)(f=[]).concat.apply(f,(0,s.Z)(document.body.children)).forEach((function(e){pn.on(e,"mouseover",Ft)}));var d=function(){var t=e._hoverState;e._hoverState=null,pn.trigger(e._element,e.constructor.Event.SHOWN),t===ko&&e._leave(null,e)},p=this.tip.classList.contains(vo);this._queueCallback(d,this.tip,p)}}}},{key:"hide",value:function(){var e=this;if(this._popper){var t=this.getTipElement(),n=function(){e._isWithActiveTrigger()||(e._hoverState!==mo&&t.remove(),e._cleanTipClass(),e._element.removeAttribute("aria-describedby"),pn.trigger(e._element,e.constructor.Event.HIDDEN),e._disposePopper())},r=pn.trigger(this._element,this.constructor.Event.HIDE);if(!r.defaultPrevented){var i;if(t.classList.remove(yo),"ontouchstart"in document.documentElement)(i=[]).concat.apply(i,(0,s.Z)(document.body.children)).forEach((function(e){return pn.off(e,"mouseover",Ft)}));this._activeTrigger[Eo]=!1,this._activeTrigger[Io]=!1,this._activeTrigger[xo]=!1;var a=this.tip.classList.contains(vo);this._queueCallback(n,this.tip,a),this._hoverState=""}}}},{key:"update",value:function(){null!==this._popper&&this._popper.update()}},{key:"isWithContent",value:function(){return Boolean(this.getTitle())}},{key:"getTipElement",value:function(){if(this.tip)return this.tip;var e=document.createElement("div");e.innerHTML=this._config.template;var t=e.children[0];return this.setContent(t),t.classList.remove(vo,yo),this.tip=t,this.tip}},{key:"setContent",value:function(e){this._sanitizeAndSetContent(e,this.getTitle(),wo)}},{key:"_sanitizeAndSetContent",value:function(e,t,n){var r=jn.findOne(n,e);t||!r?this.setElementContent(r,t):r.remove()}},{key:"setElementContent",value:function(e,t){if(null!==e)return Nt(t)?(t=Dt(t),void(this._config.html?t.parentNode!==e&&(e.innerHTML="",e.append(t)):e.textContent=t.textContent)):void(this._config.html?(this._config.sanitize&&(t=io(t,this._config.allowList,this._config.sanitizeFn)),e.innerHTML=t):e.textContent=t)}},{key:"getTitle",value:function(){var e=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(e)}},{key:"updateAttachment",value:function(e){return"right"===e?"end":"left"===e?"start":e}},{key:"_initializeOnDelegatedTarget",value:function(e,t){return t||this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}},{key:"_getOffset",value:function(){var e=this,t=this._config.offset;return"string"===typeof t?t.split(",").map((function(e){return Number.parseInt(e,10)})):"function"===typeof t?function(n){return t(n,e._element)}:t}},{key:"_resolvePossibleFunction",value:function(e){return"function"===typeof e?e.call(this._element):e}},{key:"_getPopperConfig",value:function(e){var t=this,n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:".".concat(this.constructor.NAME,"-arrow")}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:function(e){return t._handlePopperPlacementChange(e)}}],onFirstUpdate:function(e){e.options.placement!==e.placement&&t._handlePopperPlacementChange(e)}};return(0,o.Z)((0,o.Z)({},n),"function"===typeof this._config.popperConfig?this._config.popperConfig(n):this._config.popperConfig)}},{key:"_addAttachmentClass",value:function(e){this.getTipElement().classList.add("".concat(this._getBasicClassPrefix(),"-").concat(this.updateAttachment(e)))}},{key:"_getAttachment",value:function(e){return fo[e.toUpperCase()]}},{key:"_setListeners",value:function(){var e=this,t=this._config.trigger.split(" ");t.forEach((function(t){if("click"===t)pn.on(e._element,e.constructor.Event.CLICK,e._config.selector,(function(t){return e.toggle(t)}));else if(t!==Zo){var n=t===xo?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,r=t===xo?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;pn.on(e._element,n,e._config.selector,(function(t){return e._enter(t)})),pn.on(e._element,r,e._config.selector,(function(t){return e._leave(t)}))}})),this._hideModalHandler=function(){e._element&&e.hide()},pn.on(this._element.closest(bo),_o,this._hideModalHandler),this._config.selector?this._config=(0,o.Z)((0,o.Z)({},this._config),{},{trigger:"manual",selector:""}):this._fixTitle()}},{key:"_fixTitle",value:function(){var e=this._element.getAttribute("title"),t=(0,p.Z)(this._element.getAttribute("data-bs-original-title"));(e||"string"!==t)&&(this._element.setAttribute("data-bs-original-title",e||""),!e||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",e),this._element.setAttribute("title",""))}},{key:"_enter",value:function(e,t){t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger["focusin"===e.type?Io:xo]=!0),t.getTipElement().classList.contains(yo)||t._hoverState===mo?t._hoverState=mo:(clearTimeout(t._timeout),t._hoverState=mo,t._config.delay&&t._config.delay.show?t._timeout=setTimeout((function(){t._hoverState===mo&&t.show()}),t._config.delay.show):t.show())}},{key:"_leave",value:function(e,t){t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger["focusout"===e.type?Io:xo]=t._element.contains(e.relatedTarget)),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState=ko,t._config.delay&&t._config.delay.hide?t._timeout=setTimeout((function(){t._hoverState===ko&&t.hide()}),t._config.delay.hide):t.hide())}},{key:"_isWithActiveTrigger",value:function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1}},{key:"_getConfig",value:function(e){var t=Un.getDataAttributes(this._element);return Object.keys(t).forEach((function(e){co.has(e)&&delete t[e]})),e=(0,o.Z)((0,o.Z)((0,o.Z)({},this.constructor.Default),t),"object"===(0,p.Z)(e)&&e?e:{}),e.container=!1===e.container?document.body:Dt(e.container),"number"===typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"===typeof e.title&&(e.title=e.title.toString()),"number"===typeof e.content&&(e.content=e.content.toString()),Pt(ao,e,this.constructor.DefaultType),e.sanitize&&(e.template=io(e.template,e.allowList,e.sanitizeFn)),e}},{key:"_getDelegateConfig",value:function(){var e={};for(var t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e}},{key:"_cleanTipClass",value:function(){var e=this.getTipElement(),t=new RegExp("(^|\\s)".concat(this._getBasicClassPrefix(),"\\S+"),"g"),n=e.getAttribute("class").match(t);null!==n&&n.length>0&&n.map((function(e){return e.trim()})).forEach((function(t){return e.classList.remove(t)}))}},{key:"_getBasicClassPrefix",value:function(){return so}},{key:"_handlePopperPlacementChange",value:function(e){var t=e.state;t&&(this.tip=t.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(t.placement)))}},{key:"_disposePopper",value:function(){this._popper&&(this._popper.destroy(),this._popper=null)}}],[{key:"Default",get:function(){return ho}},{key:"NAME",get:function(){return ao}},{key:"Event",get:function(){return po}},{key:"DefaultType",get:function(){return lo}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),n}(mn);Gt(To);var So="popover",Ao="bs.popover",Co=".".concat(Ao),Ro="bs-popover",Oo=(0,o.Z)((0,o.Z)({},To.Default),{},{placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),No=(0,o.Z)((0,o.Z)({},To.DefaultType),{},{content:"(string|element|function)"}),Do={HIDE:"hide".concat(Co),HIDDEN:"hidden".concat(Co),SHOW:"show".concat(Co),SHOWN:"shown".concat(Co),INSERTED:"inserted".concat(Co),CLICK:"click".concat(Co),FOCUSIN:"focusin".concat(Co),FOCUSOUT:"focusout".concat(Co),MOUSEENTER:"mouseenter".concat(Co),MOUSELEAVE:"mouseleave".concat(Co)},Po=".popover-header",Lo=".popover-body",Mo=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"isWithContent",value:function(){return this.getTitle()||this._getContent()}},{key:"setContent",value:function(e){this._sanitizeAndSetContent(e,this.getTitle(),Po),this._sanitizeAndSetContent(e,this._getContent(),Lo)}},{key:"_getContent",value:function(){return this._resolvePossibleFunction(this._config.content)}},{key:"_getBasicClassPrefix",value:function(){return Ro}}],[{key:"Default",get:function(){return Oo}},{key:"NAME",get:function(){return So}},{key:"Event",get:function(){return Do}},{key:"DefaultType",get:function(){return No}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),n}(To);Gt(Mo);var Uo="scrollspy",Fo="bs.scrollspy",jo=".".concat(Fo),Vo=".data-api",Bo={offset:10,method:"auto",target:""},qo={offset:"number",method:"string",target:"(string|element)"},zo="activate".concat(jo),Go="scroll".concat(jo),Ko="load".concat(jo).concat(Vo),Ho="dropdown-item",Wo="active",Yo='[data-bs-spy="scroll"]',Qo=".nav, .list-group",Jo=".nav-link",Xo=".nav-item",$o=".list-group-item",eu="".concat(Jo,", ").concat($o,", .").concat(Ho),tu=".dropdown",nu=".dropdown-toggle",ru="offset",iu="position",au=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,f.Z)(this,n),i=t.call(this,e),i._scrollElement="BODY"===i._element.tagName?window:i._element,i._config=i._getConfig(r),i._offsets=[],i._targets=[],i._activeTarget=null,i._scrollHeight=0,pn.on(i._scrollElement,Go,(function(){return i._process()})),i.refresh(),i._process(),i}return(0,h.Z)(n,[{key:"refresh",value:function(){var e=this,t=this._scrollElement===this._scrollElement.window?ru:iu,n="auto"===this._config.method?t:this._config.method,r=n===iu?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight();var i=jn.find(eu,this._config.target);i.map((function(e){var t=At(e),i=t?jn.findOne(t):null;if(i){var a=i.getBoundingClientRect();if(a.width||a.height)return[Un[n](i).top+r,t]}return null})).filter((function(e){return e})).sort((function(e,t){return e[0]-t[0]})).forEach((function(t){e._offsets.push(t[0]),e._targets.push(t[1])}))}},{key:"dispose",value:function(){pn.off(this._scrollElement,jo),(0,i.Z)((0,a.Z)(n.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(e){return e=(0,o.Z)((0,o.Z)((0,o.Z)({},Bo),Un.getDataAttributes(this._element)),"object"===(0,p.Z)(e)&&e?e:{}),e.target=Dt(e.target)||document.documentElement,Pt(Uo,e,qo),e}},{key:"_getScrollTop",value:function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}},{key:"_getScrollHeight",value:function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"_getOffsetHeight",value:function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}},{key:"_process",value:function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=n){var r=this._targets[this._targets.length-1];this._activeTarget!==r&&this._activate(r)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var i=this._offsets.length;i--;){var a=this._activeTarget!==this._targets[i]&&e>=this._offsets[i]&&("undefined"===typeof this._offsets[i+1]||e<this._offsets[i+1]);a&&this._activate(this._targets[i])}}}},{key:"_activate",value:function(e){this._activeTarget=e,this._clear();var t=eu.split(",").map((function(t){return"".concat(t,'[data-bs-target="').concat(e,'"],').concat(t,'[href="').concat(e,'"]')})),n=jn.findOne(t.join(","),this._config.target);n.classList.add(Wo),n.classList.contains(Ho)?jn.findOne(nu,n.closest(tu)).classList.add(Wo):jn.parents(n,Qo).forEach((function(e){jn.prev(e,"".concat(Jo,", ").concat($o)).forEach((function(e){return e.classList.add(Wo)})),jn.prev(e,Xo).forEach((function(e){jn.children(e,Jo).forEach((function(e){return e.classList.add(Wo)}))}))})),pn.trigger(this._scrollElement,zo,{relatedTarget:e})}},{key:"_clear",value:function(){jn.find(eu,this._config.target).filter((function(e){return e.classList.contains(Wo)})).forEach((function(e){return e.classList.remove(Wo)}))}}],[{key:"Default",get:function(){return Bo}},{key:"NAME",get:function(){return Uo}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),n}(mn);pn.on(window,Ko,(function(){jn.find(Yo).forEach((function(e){return new au(e)}))})),Gt(au);var ou="tab",uu="bs.tab",su=".".concat(uu),cu=".data-api",lu="hide".concat(su),fu="hidden".concat(su),hu="show".concat(su),du="shown".concat(su),pu="click".concat(su).concat(cu),vu="dropdown-menu",gu="active",yu="fade",mu="show",ku=".dropdown",wu=".nav, .list-group",bu=".active",_u=":scope > li > .active",xu='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Iu=".dropdown-toggle",Eu=":scope > .dropdown-menu .active",Zu=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"show",value:function(){var e=this;if(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE||!this._element.classList.contains(gu)){var t,n=Ct(this._element),r=this._element.closest(wu);if(r){var i="UL"===r.nodeName||"OL"===r.nodeName?_u:bu;t=jn.find(i,r),t=t[t.length-1]}var a=t?pn.trigger(t,lu,{relatedTarget:this._element}):null,o=pn.trigger(this._element,hu,{relatedTarget:t});if(!(o.defaultPrevented||null!==a&&a.defaultPrevented)){this._activate(this._element,r);var u=function(){pn.trigger(t,fu,{relatedTarget:e._element}),pn.trigger(e._element,du,{relatedTarget:t})};n?this._activate(n,n.parentNode,u):u()}}}},{key:"_activate",value:function(e,t,n){var r=this,i=!t||"UL"!==t.nodeName&&"OL"!==t.nodeName?jn.children(t,bu):jn.find(_u,t),a=i[0],o=n&&a&&a.classList.contains(yu),u=function(){return r._transitionComplete(e,a,n)};a&&o?(a.classList.remove(mu),this._queueCallback(u,e,!0)):u()}},{key:"_transitionComplete",value:function(e,t,n){if(t){t.classList.remove(gu);var r=jn.findOne(Eu,t.parentNode);r&&r.classList.remove(gu),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!1)}e.classList.add(gu),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),jt(e),e.classList.contains(yu)&&e.classList.add(mu);var i=e.parentNode;if(i&&"LI"===i.nodeName&&(i=i.parentNode),i&&i.classList.contains(vu)){var a=e.closest(ku);a&&jn.find(Iu,a).forEach((function(e){return e.classList.add(gu)})),e.setAttribute("aria-expanded",!0)}n&&n()}}],[{key:"NAME",get:function(){return ou}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),n}(mn);pn.on(document,pu,xu,(function(e){if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),!Mt(this)){var t=Zu.getOrCreateInstance(this);t.show()}})),Gt(Zu);var Tu="toast",Su="bs.toast",Au=".".concat(Su),Cu="mouseover".concat(Au),Ru="mouseout".concat(Au),Ou="focusin".concat(Au),Nu="focusout".concat(Au),Du="hide".concat(Au),Pu="hidden".concat(Au),Lu="show".concat(Au),Mu="shown".concat(Au),Uu="fade",Fu="hide",ju="show",Vu="showing",Bu={animation:"boolean",autohide:"boolean",delay:"number"},qu={animation:!0,autohide:!0,delay:5e3},zu=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,f.Z)(this,n),i=t.call(this,e),i._config=i._getConfig(r),i._timeout=null,i._hasMouseInteraction=!1,i._hasKeyboardInteraction=!1,i._setListeners(),i}return(0,h.Z)(n,[{key:"show",value:function(){var e=this,t=pn.trigger(this._element,Lu);if(!t.defaultPrevented){this._clearTimeout(),this._config.animation&&this._element.classList.add(Uu);var n=function(){e._element.classList.remove(Vu),pn.trigger(e._element,Mu),e._maybeScheduleHide()};this._element.classList.remove(Fu),jt(this._element),this._element.classList.add(ju),this._element.classList.add(Vu),this._queueCallback(n,this._element,this._config.animation)}}},{key:"hide",value:function(){var e=this;if(this._element.classList.contains(ju)){var t=pn.trigger(this._element,Du);if(!t.defaultPrevented){var n=function(){e._element.classList.add(Fu),e._element.classList.remove(Vu),e._element.classList.remove(ju),pn.trigger(e._element,Pu)};this._element.classList.add(Vu),this._queueCallback(n,this._element,this._config.animation)}}}},{key:"dispose",value:function(){this._clearTimeout(),this._element.classList.contains(ju)&&this._element.classList.remove(ju),(0,i.Z)((0,a.Z)(n.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(e){return e=(0,o.Z)((0,o.Z)((0,o.Z)({},qu),Un.getDataAttributes(this._element)),"object"===(0,p.Z)(e)&&e?e:{}),Pt(Tu,e,this.constructor.DefaultType),e}},{key:"_maybeScheduleHide",value:function(){var e=this;this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((function(){e.hide()}),this._config.delay)))}},{key:"_onInteraction",value:function(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t;break}if(t)this._clearTimeout();else{var n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}}},{key:"_setListeners",value:function(){var e=this;pn.on(this._element,Cu,(function(t){return e._onInteraction(t,!0)})),pn.on(this._element,Ru,(function(t){return e._onInteraction(t,!1)})),pn.on(this._element,Ou,(function(t){return e._onInteraction(t,!0)})),pn.on(this._element,Nu,(function(t){return e._onInteraction(t,!1)}))}},{key:"_clearTimeout",value:function(){clearTimeout(this._timeout),this._timeout=null}}],[{key:"DefaultType",get:function(){return Bu}},{key:"Default",get:function(){return qu}},{key:"NAME",get:function(){return Tu}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}}))}}]),n}(mn);kn(zu),Gt(zu)},6780:function(e,t,n){"use strict";n.d(t,{Z:function(){return r.Z}});var r=n(2661),i="firebase",a="9.8.2";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
r.Z.registerVersion(i,a,"app-compat")},230:function(e,t,n){"use strict";var r=n(124),i=n(3087),a=n(2833),o=n(8534),u=(n(4916),n(4723),n(7601),n(6699),n(2023),n(2479),n(6755),n(3753),n(1539),n(8783),n(4129),n(3948),n(8309),n(2661)),s=n(778),c=n(2285),l=n(2780),f=n(6786);function h(e){return(0,s.Z)(e)||(0,c.Z)(e)||(0,l.Z)(e)||(0,f.Z)()}var d=n(6334),p=n(2040),v=n(9110),g=n(7946),y=(n(8264),n(2472),n(8675),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),n(189),n(4747),n(3123),n(9600),n(9254),n(7042),n(1532),n(1703),n(1038),n(1249),n(3112),n(9714),n(3336)),m=n(2417),k=n(6347),w=n(4621),b=n(8478),_=n(2482),x=(n(2222),n(9653),n(7327),n(2707),n(3371),n(5306),n(8862),n(7941),n(9826),n(285),n(1637),n(4603),n(8450),n(8386),n(9720),n(86),n(5287)),I=n(7077);n(2526),n(5003),n(1299),n(1817),n(2165),n(2443);function E(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var Z,T=n(5168),S=n(7142),A={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},C={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function R(){var e;return e={},(0,_.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,_.Z)(e,"argument-error",""),(0,_.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,_.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,_.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,_.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,_.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,_.Z)(e,"cors-unsupported","This browser is not supported."),(0,_.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,_.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,_.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,_.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,_.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,_.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,_.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,_.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,_.Z)(e,"expired-action-code","The action code has expired."),(0,_.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,_.Z)(e,"internal-error","An internal AuthError has occurred."),(0,_.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,_.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,_.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,_.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,_.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,_.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,_.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,_.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,_.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,_.Z)(e,"invalid-email","The email address is badly formatted."),(0,_.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,_.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,_.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,_.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,_.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,_.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,_.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,_.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,_.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,_.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,_.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,_.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,_.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,_.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,_.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,_.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,_.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,_.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,_.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,_.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,_.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,_.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,_.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,_.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,_.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,_.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,_.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,_.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,_.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,_.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,_.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,_.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,_.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,_.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,_.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,_.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,_.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,_.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,_.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,_.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,_.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,_.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,_.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,_.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,_.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,_.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,_.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,_.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,_.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,_.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,_.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,_.Z)(e,"timeout","The operation has timed out."),(0,_.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,_.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,_.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,_.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,_.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,_.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,_.Z)(e,"unverified-email","The operation requires a verified email."),(0,_.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,_.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,_.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,_.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,_.Z)(e,"user-signed-out",""),(0,_.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,_.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,_.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e}function O(){return(0,_.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var N=R,D=O,P=new x.LL("auth","Firebase",O()),L=new T.Yd("@firebase/auth");function M(e){if(L.logLevel<=T["in"].ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];L.error.apply(L,["Auth (".concat(I.SDK_VERSION,"): ").concat(e)].concat(n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw B.apply(void 0,[e].concat(n))}function F(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return B.apply(void 0,[e].concat(n))}function j(e,t,n){var r=Object.assign(Object.assign({},D()),(0,_.Z)({},t,n)),i=new x.LL("auth","Firebase",r);return i.create(t,{appName:e.name})}function V(e,t,n){var r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&U(e,"argument-error"),j(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function B(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,b.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,b.Z)(o)))}return P.create.apply(P,[e].concat(n))}function q(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw B.apply(void 0,[t].concat(r))}}function z(e){var t="INTERNAL ASSERTION FAILED: "+e;throw M(t),new Error(t)}function G(e,t){e||z(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K=new Map;function H(e){G(e instanceof Function,"Expected a class definition");var t=K.get(e);return t?(G(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,K.set(e,t),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(H);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Q(){return"http:"===J()||"https:"===J()}function J(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Q()||(0,x.ru)()||"connection"in navigator))||navigator.onLine}function $(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee=function(){function e(t,n){(0,i.Z)(this,e),this.shortDelay=t,this.longDelay=n,G(n>t,"Short delay should be less than long delay!"),this.isMobile=(0,x.uI)()||(0,x.b$)()}return(0,a.Z)(e,[{key:"get",value:function(){return X()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(e,t){G(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne=function(){function e(){(0,i.Z)(this,e)}return(0,a.Z)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void z("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void z("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void z("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),re=(Z={},(0,_.Z)(Z,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,_.Z)(Z,"MISSING_CUSTOM_TOKEN","internal-error"),(0,_.Z)(Z,"INVALID_IDENTIFIER","invalid-email"),(0,_.Z)(Z,"MISSING_CONTINUE_URI","internal-error"),(0,_.Z)(Z,"INVALID_PASSWORD","wrong-password"),(0,_.Z)(Z,"MISSING_PASSWORD","internal-error"),(0,_.Z)(Z,"EMAIL_EXISTS","email-already-in-use"),(0,_.Z)(Z,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,_.Z)(Z,"INVALID_IDP_RESPONSE","invalid-credential"),(0,_.Z)(Z,"INVALID_PENDING_TOKEN","invalid-credential"),(0,_.Z)(Z,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,_.Z)(Z,"MISSING_REQ_TYPE","internal-error"),(0,_.Z)(Z,"EMAIL_NOT_FOUND","user-not-found"),(0,_.Z)(Z,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,_.Z)(Z,"EXPIRED_OOB_CODE","expired-action-code"),(0,_.Z)(Z,"INVALID_OOB_CODE","invalid-action-code"),(0,_.Z)(Z,"MISSING_OOB_CODE","internal-error"),(0,_.Z)(Z,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,_.Z)(Z,"INVALID_ID_TOKEN","invalid-user-token"),(0,_.Z)(Z,"TOKEN_EXPIRED","user-token-expired"),(0,_.Z)(Z,"USER_NOT_FOUND","user-token-expired"),(0,_.Z)(Z,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,_.Z)(Z,"INVALID_CODE","invalid-verification-code"),(0,_.Z)(Z,"INVALID_SESSION_INFO","invalid-verification-id"),(0,_.Z)(Z,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,_.Z)(Z,"MISSING_SESSION_INFO","missing-verification-id"),(0,_.Z)(Z,"SESSION_EXPIRED","code-expired"),(0,_.Z)(Z,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,_.Z)(Z,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,_.Z)(Z,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,_.Z)(Z,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,_.Z)(Z,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,_.Z)(Z,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,_.Z)(Z,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,_.Z)(Z,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,_.Z)(Z,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,_.Z)(Z,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,_.Z)(Z,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Z),ie=new ee(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function oe(e,t,n,r){return ue.apply(this,arguments)}function ue(){return ue=(0,o.Z)((0,r.Z)().mark((function e(t,n,i,a){var u,s=arguments;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u=s.length>4&&void 0!==s[4]?s[4]:{},e.abrupt("return",se(t,u,(0,o.Z)((0,r.Z)().mark((function e(){var o,u,s,c;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o={},u={},a&&("GET"===n?u=a:o={body:JSON.stringify(a)}),s=(0,x.xO)(Object.assign({key:t.config.apiKey},u)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return c=e.sent,c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",ne.fetch()(he(t,t.config.apiHost,i,s),Object.assign({method:n,headers:c,referrerPolicy:"no-referrer"},o)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ue.apply(this,arguments)}function se(e,t,n){return ce.apply(this,arguments)}function ce(){return ce=(0,o.Z)((0,r.Z)().mark((function e(t,n,i){var a,o,u,s,c,l,f,h,d,p;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,a=Object.assign(Object.assign({},re),n),e.prev=2,o=new de(t),e.next=6,Promise.race([i(),o.promise]);case 6:return u=e.sent,o.clearNetworkTimeout(),e.next=10,u.json();case 10:if(s=e.sent,!("needConfirmation"in s)){e.next=13;break}throw pe(t,"account-exists-with-different-credential",s);case 13:if(!u.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=u.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=(0,w.Z)(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw pe(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw pe(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw pe(t,"user-disabled",s);case 29:if(p=a[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw j(t,p,d);case 34:U(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e["catch"](2),!(e.t0 instanceof x.ZR)){e.next=41;break}throw e.t0;case 41:U(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),ce.apply(this,arguments)}function le(e,t,n,r){return fe.apply(this,arguments)}function fe(){return fe=(0,o.Z)((0,r.Z)().mark((function e(t,n,i,a){var o,u,s=arguments;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,oe(t,n,i,a,o);case 3:return u=e.sent,"mfaPendingCredential"in u&&U(t,"multi-factor-auth-required",{_serverResponse:u}),e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)}))),fe.apply(this,arguments)}function he(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?te(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var de=function(){function e(t){var n=this;(0,i.Z)(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(F(n.auth,"network-request-failed"))}),ie.get())}))}return(0,a.Z)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function pe(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=F(e,t,r);return i.customData._tokenResponse=n,i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(e,t){return ge.apply(this,arguments)}function ge(){return ge=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",oe(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),ge.apply(this,arguments)}function ye(e,t){return me.apply(this,arguments)}function me(){return me=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",oe(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),me.apply(this,arguments)}function ke(e,t){return we.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(){return we=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",oe(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),we.apply(this,arguments)}function be(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(e){return xe.apply(this,arguments)}function xe(){return xe=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i,a,o,u,s,c=arguments;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],i=(0,x.m9)(t),e.next=4,i.getIdToken(n);case 4:return a=e.sent,o=Ee(a),q(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error"),u="object"===(0,y.Z)(o.firebase)?o.firebase:void 0,s=null===u||void 0===u?void 0:u["sign_in_provider"],e.abrupt("return",{claims:o,token:a,authTime:be(Ie(o.auth_time)),issuedAtTime:be(Ie(o.iat)),expirationTime:be(Ie(o.exp)),signInProvider:s||null,signInSecondFactor:(null===u||void 0===u?void 0:u["sign_in_second_factor"])||null});case 10:case"end":return e.stop()}}),e)}))),xe.apply(this,arguments)}function Ie(e){return 1e3*Number(e)}function Ee(e){var t=e.split("."),n=(0,w.Z)(t,3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return M("JWT malformed, contained fewer than 3 sections"),null;try{var o=(0,x.tV)(i);return o?JSON.parse(o):(M("Failed to decode base64 JWT payload"),null)}catch(u){return M("Caught error parsing JWT payload as JSON",u),null}}function Ze(e){var t=Ee(e);return q(t,"internal-error"),q("undefined"!==typeof t.exp,"internal-error"),q("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(e,t){return Se.apply(this,arguments)}function Se(){return Se=(0,o.Z)((0,r.Z)().mark((function e(t,n){var i,a=arguments;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=a.length>2&&void 0!==a[2]&&a[2],!i){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e["catch"](3),!(e.t0 instanceof x.ZR&&Ae(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Se.apply(this,arguments)}function Ae(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce=function(){function e(t){(0,i.Z)(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return(0,a.Z)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0,i=r-Date.now()-3e5;return Math.max(0,i)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout((0,o.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e["catch"](0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),Re=function(){function e(t,n){(0,i.Z)(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return(0,a.Z)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=be(this.lastLoginAt),this.creationTime=be(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Oe(e){return Ne.apply(this,arguments)}function Ne(){return Ne=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i,a,o,u,s,c,l,f,h,d;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,e.next=6,Te(t,ke(i,{idToken:a}));case 6:o=e.sent,q(null===o||void 0===o?void 0:o.users.length,i,"internal-error"),u=o.users[0],t._notifyReloadListener(u),s=(null===(n=u.providerUserInfo)||void 0===n?void 0:n.length)?Me(u.providerUserInfo):[],c=Le(t.providerData,s),l=t.isAnonymous,f=!(t.email&&u.passwordHash)&&!(null===c||void 0===c?void 0:c.length),h=!!l&&f,d={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:c,metadata:new Re(u.createdAt,u.lastLoginAt),isAnonymous:h},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),Ne.apply(this,arguments)}function De(e){return Pe.apply(this,arguments)}function Pe(){return Pe=(0,o.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=(0,x.m9)(t),e.next=3,Oe(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)}))),Pe.apply(this,arguments)}function Le(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,b.Z)(n),(0,b.Z)(t))}function Me(e){return e.map((function(e){var t=e.providerId,n=E(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(e,t){return Fe.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(){return Fe=(0,o.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,se(t,{},(0,o.Z)((0,r.Z)().mark((function e(){var i,a,o,u,s,c;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=(0,x.xO)({grant_type:"refresh_token",refresh_token:n}).slice(1),a=t.config,o=a.tokenApiHost,u=a.apiKey,s=he(t,o,"/v1/token","key=".concat(u)),e.next=5,t._getAdditionalHeaders();case 5:return c=e.sent,c["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ne.fetch()(s,{method:"POST",headers:c,body:i}));case 8:case"end":return e.stop()}}),e)}))));case 2:return i=e.sent,e.abrupt("return",{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Fe.apply(this,arguments)}var je=function(){function e(){(0,i.Z)(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return(0,a.Z)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){q(e.idToken,"internal-error"),q("undefined"!==typeof e.idToken,"internal-error"),q("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Ze(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i=arguments;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],q(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n){var i,a,o,u;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ue(t,n);case 2:i=e.sent,a=i.accessToken,o=i.refreshToken,u=i.expiresIn,this.updateTokensAndExpiration(a,o,Number(u));case 7:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return z("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(q("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(q("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(q("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(e,t){q("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Be=function(){function e(t){(0,i.Z)(this,e);var n=t.uid,r=t.auth,a=t.stsTokenManager,o=E(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ce(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?(0,b.Z)(o.providerData):[],this.metadata=new Re(o.createdAt||void 0,o.lastLoginAt||void 0)}return(0,a.Z)(e,[{key:"getIdToken",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Te(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(n=e.sent,q(n,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getIdTokenResult",value:function(e){return _e(this,e)}},{key:"reload",value:function(){return De(this)}},{key:"_assign",value:function(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i,a=arguments;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],i=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),!n){e.next=6;break}return e.next=6,Oe(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:i&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Te(this,ve(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,g=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,m=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,w=n.emailVerified,b=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;q(k&&x,t,"internal-error");var I=je.fromJSON(this.name,x);q("string"===typeof k,t,"internal-error"),Ve(f,t.name),Ve(h,t.name),q("boolean"===typeof w,t,"internal-error"),q("boolean"===typeof b,t,"internal-error"),Ve(d,t.name),Ve(p,t.name),Ve(v,t.name),Ve(g,t.name),Ve(y,t.name),Ve(m,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:m});return _&&Array.isArray(_)&&(E.providerData=_.map((function(e){return Object.assign({},e)}))),g&&(E._redirectEventId=g),E}},{key:"_fromIdTokenResponse",value:function(){var t=(0,o.Z)((0,r.Z)().mark((function t(n,i){var a,o,u,s=arguments;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=s.length>2&&void 0!==s[2]&&s[2],o=new je,o.updateFromServerResponse(i),u=new e({uid:i.localId,auth:n,stsTokenManager:o,isAnonymous:a}),t.next=6,Oe(u);case 6:return t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));function n(e,n){return t.apply(this,arguments)}return n}()}]),e}(),qe=function(){function e(){(0,i.Z)(this,e),this.type="NONE",this.storage={}}return(0,a.Z)(e,[{key:"_isAvailable",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_set",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"_get",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_remove",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qe.type="NONE";var ze=qe;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ke=function(){function e(t,n,r){(0,i.Z)(this,e),this.persistence=t,this.auth=n,this.userKey=r;var a=this.auth,o=a.config,u=a.name;this.fullUserKey=Ge(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ge("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return(0,a.Z)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Be._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=(0,o.Z)((0,r.Z)().mark((function t(n,i){var a,u,s,c,l,f,h,d,p,v,g,y=arguments;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=y.length>2&&void 0!==y[2]?y[2]:"authUser",i.length){t.next=3;break}return t.abrupt("return",new e(H(ze),n,a));case 3:return t.next=5,Promise.all(i.map(function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:u=t.sent.filter((function(e){return e})),s=u[0]||H(ze),c=Ge(a,n.config.apiKey,n.name),l=null,f=(0,k.Z)(i),t.prev=10,f.s();case 12:if((h=f.n()).done){t.next=29;break}return d=h.value,t.prev=14,t.next=17,d._get(c);case 17:if(p=t.sent,!p){t.next=23;break}return v=Be._fromJSON(n,p),d!==s&&(l=v),s=d,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t["catch"](14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t["catch"](10),f.e(t.t1);case 34:return t.prev=34,f.f(),t.finish(34);case 37:if(g=u.filter((function(e){return e._shouldAllowMigration})),s._shouldAllowMigration&&g.length){t.next=40;break}return t.abrupt("return",new e(s,n,a));case 40:if(s=g[0],!l){t.next=44;break}return t.next=44,s._set(c,l.toJSON());case 44:return t.next=46,Promise.all(i.map(function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t===s){e.next=8;break}return e.prev=1,e.next=4,t._remove(c);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(s,n,a));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));function n(e,n){return t.apply(this,arguments)}return n}()}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Je(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(We(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($e(t))return"Blackberry";if(et(t))return"Webos";if(Ye(t))return"Safari";if((t.includes("chrome/")||Qe(t))&&!t.includes("edge/"))return"Chrome";if(Xe(t))return"Android";var n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);return 2===(null===r||void 0===r?void 0:r.length)?r[1]:"Other"}function We(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,x.z$)();return/firefox\//i.test(e)}function Ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,x.z$)(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,x.z$)();return/crios\//i.test(e)}function Je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,x.z$)();return/iemobile/i.test(e)}function Xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,x.z$)();return/android/i.test(e)}function $e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,x.z$)();return/blackberry/i.test(e)}function et(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,x.z$)();return/webos/i.test(e)}function tt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,x.z$)();return/iphone|ipad|ipod/i.test(e)}function nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,x.z$)();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}function rt(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,x.z$)();return tt(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function it(){return(0,x.w1)()&&10===document.documentMode}function at(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,x.z$)();return tt(e)||Xe(e)||et(e)||$e(e)||/windows phone/i.test(e)||Je(e)}function ot(){try{return!(!window||window===window.top)}catch(e){return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=He((0,x.z$)());break;case"Worker":t="".concat(He((0,x.z$)()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(I.SDK_VERSION,"/").concat(r)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st=function(){function e(t){(0,i.Z)(this,e),this.auth=t,this.queue=[]}return(0,a.Z)(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{var i=e(t);n(i)}catch(a){r(a)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i,a,o,u,s,c;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,i=(0,k.Z)(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&n.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e["catch"](3),n.reverse(),u=(0,k.Z)(n);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(r){}}}catch(l){u.e(l)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),ct=function(){function e(t,n,r){(0,i.Z)(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ft(this),this.idTokenSubscription=new ft(this),this.beforeStateQueue=new st(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=P,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return(0,a.Z)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=H(t)),this._initializationPromise=this.queue((0,o.Z)((0,r.Z)().mark((function i(){var a,o;return(0,r.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ke.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(a=n._popupRedirectResolver)||void 0===a?void 0:a._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r["catch"](8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(o=n.currentUser)||void 0===o?void 0:o.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),i,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initializeCurrentUser",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i,a,o,u,s,c;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(i=e.sent,a=i,o=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return u=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===a||void 0===a?void 0:a._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:c=e.sent,u&&u!==s||!(null===c||void 0===c?void 0:c.user)||(a=c.user,o=!0);case 14:if(a){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(a._redirectEventId){e.next=32;break}if(!o){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(a);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e["catch"](18),a=i,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!a){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return q(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==a._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(a));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"tryRedirectSignIn",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e["catch"](1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oe(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e["catch"](0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"useDeviceLanguage",value:function(){this.languageCode=$()}},{key:"_delete",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateCurrentUser",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t?(0,x.m9)(t):null,n&&q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_updateCurrentUser",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i=this,a=arguments;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&q(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue((0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.directlySetCurrentUser(t);case 2:i.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"signOut",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setPersistence",value:function(e){var t=this;return this.queue((0,o.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(H(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new x.LL("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return i=e.sent,e.abrupt("return",null===t?i.removeCurrentUser():i.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return n=t&&H(t)||this._popupRedirectResolver,q(n,this,"argument-error"),e.next=5,Ke.create(this,[H(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_redirectUserForId",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue((0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_persistUserIfCurrent",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n=this;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue((0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return q(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ut(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t,n,i;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=(0,_.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return i=e.sent,i&&(n["X-Firebase-Client"]=i),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(e){return(0,x.m9)(e)}var ft=function(){function e(t){var n=this;(0,i.Z)(this,e),this.auth=t,this.observer=null,this.addObserver=(0,x.ne)((function(e){return n.observer=e}))}return(0,a.Z)(e,[{key:"next",get:function(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function ht(e,t,n){var r=lt(e);q(r._canInitEmulator,r,"emulator-config-failed"),q(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=dt(t),o=pt(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||gt()}function dt(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function pt(e){var t=dt(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:vt(r.substr(a.length+1))}}var o=r.split(":"),u=(0,w.Z)(o,2),s=u[0],c=u[1];return{host:s,port:vt(c)}}function vt(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}function gt(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt=function(){function e(t,n){(0,i.Z)(this,e),this.providerId=t,this.signInMethod=n}return(0,a.Z)(e,[{key:"toJSON",value:function(){return z("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return z("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return z("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return z("not implemented")}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(e,t){return kt.apply(this,arguments)}function kt(){return kt=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",oe(t,"POST","/v1/accounts:resetPassword",ae(t,n)));case 1:case"end":return e.stop()}}),e)}))),kt.apply(this,arguments)}function wt(e,t){return bt.apply(this,arguments)}function bt(){return bt=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",oe(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),bt.apply(this,arguments)}function _t(e,t){return xt.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return xt=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",oe(t,"POST","/v1/accounts:update",ae(t,n)));case 1:case"end":return e.stop()}}),e)}))),xt.apply(this,arguments)}function It(e,t){return Et.apply(this,arguments)}function Et(){return Et=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",le(t,"POST","/v1/accounts:signInWithPassword",ae(t,n)));case 1:case"end":return e.stop()}}),e)}))),Et.apply(this,arguments)}function Zt(e,t){return Tt.apply(this,arguments)}function Tt(){return Tt=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",oe(t,"POST","/v1/accounts:sendOobCode",ae(t,n)));case 1:case"end":return e.stop()}}),e)}))),Tt.apply(this,arguments)}function St(e,t){return At.apply(this,arguments)}function At(){return At=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Zt(t,n));case 1:case"end":return e.stop()}}),e)}))),At.apply(this,arguments)}function Ct(e,t){return Rt.apply(this,arguments)}function Rt(){return Rt=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Zt(t,n));case 1:case"end":return e.stop()}}),e)}))),Rt.apply(this,arguments)}function Ot(e,t){return Nt.apply(this,arguments)}function Nt(){return Nt=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Zt(t,n));case 1:case"end":return e.stop()}}),e)}))),Nt.apply(this,arguments)}function Dt(e,t){return Pt.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(){return Pt=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Zt(t,n));case 1:case"end":return e.stop()}}),e)}))),Pt.apply(this,arguments)}function Lt(e,t){return Mt.apply(this,arguments)}function Mt(){return Mt=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",le(t,"POST","/v1/accounts:signInWithEmailLink",ae(t,n)));case 1:case"end":return e.stop()}}),e)}))),Mt.apply(this,arguments)}function Ut(e,t){return Ft.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(){return Ft=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",le(t,"POST","/v1/accounts:signInWithEmailLink",ae(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ft.apply(this,arguments)}var jt=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,a){var o,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,i.Z)(this,n),o=t.call(this,"password",a),o._email=e,o._password=r,o._tenantId=u,o}return(0,a.Z)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",It(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Lt(t,{email:this._email,oobCode:this._password}));case 5:U(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_linkToIdToken",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",wt(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ut(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:U(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(yt);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(e,t){return Bt.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return Bt=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",le(t,"POST","/v1/accounts:signInWithIdp",ae(t,n)));case 1:case"end":return e.stop()}}),e)}))),Bt.apply(this,arguments)}var qt="http://localhost",zt=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e;return(0,i.Z)(this,n),e=t.apply(this,arguments),e.pendingToken=null,e}return(0,a.Z)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){var t=this.buildRequest();return Vt(e,t)}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Vt(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Vt(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:qt,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t["id_token"]=this.idToken),this.accessToken&&(t["access_token"]=this.accessToken),this.secret&&(t["oauth_token_secret"]=this.secret),t["providerId"]=this.providerId,this.nonce&&!this.pendingToken&&(t["nonce"]=this.nonce),e.postBody=(0,x.xO)(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):U("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=E(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(yt);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Gt(e,t){return Kt.apply(this,arguments)}function Kt(){return Kt=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",oe(t,"POST","/v1/accounts:sendVerificationCode",ae(t,n)));case 1:case"end":return e.stop()}}),e)}))),Kt.apply(this,arguments)}function Ht(e,t){return Wt.apply(this,arguments)}function Wt(){return Wt=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",le(t,"POST","/v1/accounts:signInWithPhoneNumber",ae(t,n)));case 1:case"end":return e.stop()}}),e)}))),Wt.apply(this,arguments)}function Yt(e,t){return Qt.apply(this,arguments)}function Qt(){return Qt=(0,o.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,le(t,"POST","/v1/accounts:signInWithPhoneNumber",ae(t,n));case 2:if(i=e.sent,!i.temporaryProof){e.next=5;break}throw pe(t,"account-exists-with-different-credential",i);case 5:return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)}))),Qt.apply(this,arguments)}var Jt=(0,_.Z)({},"USER_NOT_FOUND","user-not-found");function Xt(e,t){return $t.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return $t=(0,o.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",le(t,"POST","/v1/accounts:signInWithPhoneNumber",ae(t,i),Jt));case 2:case"end":return e.stop()}}),e)}))),$t.apply(this,arguments)}var en=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,"phone","phone"),r.params=e,r}return(0,a.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return Ht(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return Yt(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return Xt(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(yt);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nn(e){var t=(0,x.zd)((0,x.pd)(e))["link"],n=t?(0,x.zd)((0,x.pd)(t))["deep_link_id"]:null,r=(0,x.zd)((0,x.pd)(e))["deep_link_id"],i=r?(0,x.zd)((0,x.pd)(r))["link"]:null;return i||r||n||t||e}var rn=function(){function e(t){var n,r,a,o,u,s;(0,i.Z)(this,e);var c=(0,x.zd)((0,x.pd)(t)),l=null!==(n=c["apiKey"])&&void 0!==n?n:null,f=null!==(r=c["oobCode"])&&void 0!==r?r:null,h=tn(null!==(a=c["mode"])&&void 0!==a?a:null);q(l&&f&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=f,this.continueUrl=null!==(o=c["continueUrl"])&&void 0!==o?o:null,this.languageCode=null!==(u=c["languageCode"])&&void 0!==u?u:null,this.tenantId=null!==(s=c["tenantId"])&&void 0!==s?s:null}return(0,a.Z)(e,null,[{key:"parseLink",value:function(t){var n=nn(t);try{return new e(n)}catch(r){return null}}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var an=function(){function e(){(0,i.Z)(this,e),this.providerId=e.PROVIDER_ID}return(0,a.Z)(e,null,[{key:"credential",value:function(e,t){return jt._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=rn.parseLink(t);return q(n,"argument-error"),jt._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();an.PROVIDER_ID="password",an.EMAIL_PASSWORD_SIGN_IN_METHOD="password",an.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var on=function(){function e(t){(0,i.Z)(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return(0,a.Z)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),un=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e;return(0,i.Z)(this,n),e=t.apply(this,arguments),e.scopes=[],e}return(0,a.Z)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,b.Z)(this.scopes)}}]),n}(on),sn=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return q(e.idToken||e.accessToken,"argument-error"),zt._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return q("providerId"in t&&"signInMethod"in t,"argument-error"),zt._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(un),cn=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,i.Z)(this,n),t.call(this,"facebook.com")}return(0,a.Z)(n,null,[{key:"credential",value:function(e){return zt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(un);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.FACEBOOK_SIGN_IN_METHOD="facebook.com",cn.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ln=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e;return(0,i.Z)(this,n),e=t.call(this,"google.com"),e.addScope("profile"),e}return(0,a.Z)(n,null,[{key:"credential",value:function(e,t){return zt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(un);ln.GOOGLE_SIGN_IN_METHOD="google.com",ln.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var fn=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,i.Z)(this,n),t.call(this,"github.com")}return(0,a.Z)(n,null,[{key:"credential",value:function(e){return zt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(un);fn.GITHUB_SIGN_IN_METHOD="github.com",fn.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var hn="http://localhost",dn=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var a;return(0,i.Z)(this,n),a=t.call(this,e,e),a.pendingToken=r,a}return(0,a.Z)(n,[{key:"_getIdTokenResponse",value:function(e){var t=this.buildRequest();return Vt(e,t)}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Vt(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Vt(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:hn,returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(yt),pn="saml.",vn=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e){return(0,i.Z)(this,n),q(e.startsWith(pn),"argument-error"),t.call(this,e)}return(0,a.Z)(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=dn.fromJSON(e);return q(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return dn._create(r,n)}catch(i){return null}}}]),n}(on),gn=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,i.Z)(this,n),t.call(this,"twitter.com")}return(0,a.Z)(n,null,[{key:"credential",value:function(e,t){return zt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(un);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function yn(e,t){return mn.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return mn=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",le(t,"POST","/v1/accounts:signUp",ae(t,n)));case 1:case"end":return e.stop()}}),e)}))),mn.apply(this,arguments)}gn.TWITTER_SIGN_IN_METHOD="twitter.com",gn.PROVIDER_ID="twitter.com";var kn=function(){function e(t){(0,i.Z)(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return(0,a.Z)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=(0,o.Z)((0,r.Z)().mark((function t(n,i,a){var o,u,s,c,l=arguments;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=l.length>3&&void 0!==l[3]&&l[3],t.next=3,Be._fromIdTokenResponse(n,a,o);case 3:return u=t.sent,s=wn(a),c=new e({user:u,providerId:s,_tokenResponse:a,operationType:i}),t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));function n(e,n,r){return t.apply(this,arguments)}return n}()},{key:"_forOperation",value:function(){var t=(0,o.Z)((0,r.Z)().mark((function t(n,i,a){var o;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(a,!0);case 2:return o=wn(a),t.abrupt("return",new e({user:n,providerId:o,_tokenResponse:a,operationType:i}));case 4:case"end":return t.stop()}}),t)})));function n(e,n,r){return t.apply(this,arguments)}return n}()}]),e}();function wn(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(e){return _n.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return _n=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i,a,o;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=lt(t),e.next=3,i._initializationPromise;case 3:if(!(null===(n=i.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new kn({user:i.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,yn(i,{returnSecureToken:!0});case 7:return a=e.sent,e.next=10,kn._fromIdTokenResponse(i,"signIn",a,!0);case 10:return o=e.sent,e.next=13,i._updateCurrentUser(o.user);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)}))),_n.apply(this,arguments)}var xn=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,a,o){var u,s;return(0,i.Z)(this,n),u=t.call(this,r.code,r.message),u.operationType=a,u.user=o,Object.setPrototypeOf((0,m.Z)(u),n.prototype),u.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:a},u}return(0,a.Z)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(x.ZR);function In(e,t,n,r){var i="reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e);return i.catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw xn._fromErrorAndOperation(e,n,t,r);throw n}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(e){return new Set(e.map((function(e){var t=e.providerId;return t})).filter((function(e){return!!e})))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(e,t){return Tn.apply(this,arguments)}function Tn(){return Tn=(0,o.Z)((0,r.Z)().mark((function e(t,n){var i,a,o,u;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=(0,x.m9)(t),e.next=3,Cn(!0,i,n);case 3:return e.t0=ye,e.t1=i.auth,e.next=7,i.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return a=e.sent,o=a.providerUserInfo,u=En(o||[]),i.providerData=i.providerData.filter((function(e){return u.has(e.providerId)})),u.has("phone")||(i.phoneNumber=null),e.next=19,i.auth._persistUserIfCurrent(i);case 19:return e.abrupt("return",i);case 20:case"end":return e.stop()}}),e)}))),Tn.apply(this,arguments)}function Sn(e,t){return An.apply(this,arguments)}function An(){return An=(0,o.Z)((0,r.Z)().mark((function e(t,n){var i,a,o=arguments;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=o.length>2&&void 0!==o[2]&&o[2],e.t0=Te,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=i,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return a=e.sent,e.abrupt("return",kn._forOperation(t,"link",a));case 14:case"end":return e.stop()}}),e)}))),An.apply(this,arguments)}function Cn(e,t,n){return Rn.apply(this,arguments)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return Rn=(0,o.Z)((0,r.Z)().mark((function e(t,n,i){var a,o;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Oe(n);case 2:a=En(n.providerData),o=!1===t?"provider-already-linked":"no-such-provider",q(a.has(i)===t,n.auth,o);case 5:case"end":return e.stop()}}),e)}))),Rn.apply(this,arguments)}function On(e,t){return Nn.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(){return Nn=(0,o.Z)((0,r.Z)().mark((function e(t,n){var i,a,o,u,s,c,l=arguments;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Te(t,In(a,o,n,t),i);case 6:return u=e.sent,q(u.idToken,a,"internal-error"),s=Ee(u.idToken),q(s,a,"internal-error"),c=s.sub,q(t.uid===c,a,"user-mismatch"),e.abrupt("return",kn._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e["catch"](3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&U(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Nn.apply(this,arguments)}function Dn(e,t){return Pn.apply(this,arguments)}function Pn(){return Pn=(0,o.Z)((0,r.Z)().mark((function e(t,n){var i,a,o,u,s=arguments;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],a="signIn",e.next=4,In(t,a,n);case 4:return o=e.sent,e.next=7,kn._fromIdTokenResponse(t,a,o);case 7:if(u=e.sent,i){e.next=11;break}return e.next=11,t._updateCurrentUser(u.user);case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),Pn.apply(this,arguments)}function Ln(e,t){return Mn.apply(this,arguments)}function Mn(){return Mn=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Dn(lt(t),n));case 1:case"end":return e.stop()}}),e)}))),Mn.apply(this,arguments)}function Un(e,t){return Fn.apply(this,arguments)}function Fn(){return Fn=(0,o.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=(0,x.m9)(t),e.next=3,Cn(!1,i,n.providerId);case 3:return e.abrupt("return",Sn(i,n));case 4:case"end":return e.stop()}}),e)}))),Fn.apply(this,arguments)}function jn(e,t){return Vn.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return Vn=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",On((0,x.m9)(t),n));case 1:case"end":return e.stop()}}),e)}))),Vn.apply(this,arguments)}function Bn(e,t){return qn.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return qn=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",le(t,"POST","/v1/accounts:signInWithCustomToken",ae(t,n)));case 1:case"end":return e.stop()}}),e)}))),qn.apply(this,arguments)}function zn(e,t){return Gn.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(){return Gn=(0,o.Z)((0,r.Z)().mark((function e(t,n){var i,a,o;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=lt(t),e.next=3,Bn(i,{token:n,returnSecureToken:!0});case 3:return a=e.sent,e.next=6,kn._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Gn.apply(this,arguments)}var Kn=function(){function e(t,n){(0,i.Z)(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return(0,a.Z)(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Hn._fromServerResponse(e,t):U(e,"internal-error")}}]),e}(),Hn=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,"phone",e),r.phoneNumber=e.phoneInfo,r}return(0,a.Z)(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Kn);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Wn(e,t,n){var r;q((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),q("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(q(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(q(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(e,t,n){return Qn.apply(this,arguments)}function Qn(){return Qn=(0,o.Z)((0,r.Z)().mark((function e(t,n,i){var a,o;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=(0,x.m9)(t),o={requestType:"PASSWORD_RESET",email:n},i&&Wn(a,o,i),e.next=5,Ct(a,o);case 5:case"end":return e.stop()}}),e)}))),Qn.apply(this,arguments)}function Jn(e,t,n){return Xn.apply(this,arguments)}function Xn(){return Xn=(0,o.Z)((0,r.Z)().mark((function e(t,n,i){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,mt((0,x.m9)(t),{oobCode:n,newPassword:i});case 2:case"end":return e.stop()}}),e)}))),Xn.apply(this,arguments)}function $n(e,t){return er.apply(this,arguments)}function er(){return er=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_t((0,x.m9)(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),er.apply(this,arguments)}function tr(e,t){return nr.apply(this,arguments)}function nr(){return nr=(0,o.Z)((0,r.Z)().mark((function e(t,n){var i,a,o,u;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=(0,x.m9)(t),e.next=3,mt(i,{oobCode:n});case 3:a=e.sent,o=a.requestType,q(o,i,"internal-error"),e.t0=o,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return q(a.newEmail,i,"internal-error"),e.abrupt("break",14);case 12:q(a.mfaInfo,i,"internal-error");case 13:q(a.email,i,"internal-error");case 14:return u=null,a.mfaInfo&&(u=Kn._fromServerResponse(lt(i),a.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===a.requestType?a.newEmail:a.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===a.requestType?a.email:a.newEmail)||null,multiFactorInfo:u},operation:o});case 17:case"end":return e.stop()}}),e)}))),nr.apply(this,arguments)}function rr(e,t){return ir.apply(this,arguments)}function ir(){return ir=(0,o.Z)((0,r.Z)().mark((function e(t,n){var i,a;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,tr((0,x.m9)(t),n);case 2:return i=e.sent,a=i.data,e.abrupt("return",a.email);case 5:case"end":return e.stop()}}),e)}))),ir.apply(this,arguments)}function ar(e,t,n){return or.apply(this,arguments)}function or(){return or=(0,o.Z)((0,r.Z)().mark((function e(t,n,i){var a,o,u;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=lt(t),e.next=3,yn(a,{returnSecureToken:!0,email:n,password:i});case 3:return o=e.sent,e.next=6,kn._fromIdTokenResponse(a,"signIn",o);case 6:return u=e.sent,e.next=9,a._updateCurrentUser(u.user);case 9:return e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)}))),or.apply(this,arguments)}function ur(e,t,n){return Ln((0,x.m9)(e),an.credential(t,n))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(e,t,n){return cr.apply(this,arguments)}function cr(){return cr=(0,o.Z)((0,r.Z)().mark((function e(t,n,i){var a,o;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=(0,x.m9)(t),o={requestType:"EMAIL_SIGNIN",email:n},q(i.handleCodeInApp,a,"argument-error"),i&&Wn(a,o,i),e.next=6,Ot(a,o);case 6:case"end":return e.stop()}}),e)}))),cr.apply(this,arguments)}function lr(e,t){var n=rn.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}function fr(e,t,n){return hr.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return hr=(0,o.Z)((0,r.Z)().mark((function e(t,n,i){var a,o;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=(0,x.m9)(t),o=an.credentialWithLink(n,i||Y()),q(o._tenantId===(a.tenantId||null),a,"tenant-id-mismatch"),e.abrupt("return",Ln(a,o));case 4:case"end":return e.stop()}}),e)}))),hr.apply(this,arguments)}function dr(e,t){return pr.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return pr=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",oe(t,"POST","/v1/accounts:createAuthUri",ae(t,n)));case 1:case"end":return e.stop()}}),e)}))),pr.apply(this,arguments)}function vr(e,t){return gr.apply(this,arguments)}function gr(){return gr=(0,o.Z)((0,r.Z)().mark((function e(t,n){var i,a,o,u;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=Q()?Y():"http://localhost",a={identifier:n,continueUri:i},e.next=4,dr((0,x.m9)(t),a);case 4:return o=e.sent,u=o.signinMethods,e.abrupt("return",u||[]);case 7:case"end":return e.stop()}}),e)}))),gr.apply(this,arguments)}function yr(e,t){return mr.apply(this,arguments)}function mr(){return mr=(0,o.Z)((0,r.Z)().mark((function e(t,n){var i,a,o,u,s;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=(0,x.m9)(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_EMAIL",idToken:a},n&&Wn(i.auth,o,n),e.next=8,St(i.auth,o);case 8:if(u=e.sent,s=u.email,s===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)}))),mr.apply(this,arguments)}function kr(e,t,n){return wr.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return wr=(0,o.Z)((0,r.Z)().mark((function e(t,n,i){var a,o,u,s,c;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=(0,x.m9)(t),e.next=3,t.getIdToken();case 3:return o=e.sent,u={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:n},i&&Wn(a.auth,u,i),e.next=8,Dt(a.auth,u);case 8:if(s=e.sent,c=s.email,c===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)}))),wr.apply(this,arguments)}function br(e,t){return _r.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return _r=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",oe(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),_r.apply(this,arguments)}function xr(e,t){return Ir.apply(this,arguments)}function Ir(){return Ir=(0,o.Z)((0,r.Z)().mark((function e(t,n){var i,a,o,u,s,c,l;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=n.displayName,a=n.photoURL,void 0!==i||void 0!==a){e.next=3;break}return e.abrupt("return");case 3:return o=(0,x.m9)(t),e.next=6,o.getIdToken();case 6:return u=e.sent,s={idToken:u,displayName:i,photoUrl:a,returnSecureToken:!0},e.next=10,Te(o,br(o.auth,s));case 10:return c=e.sent,o.displayName=c.displayName||null,o.photoURL=c.photoUrl||null,l=o.providerData.find((function(e){var t=e.providerId;return"password"===t})),l&&(l.displayName=o.displayName,l.photoURL=o.photoURL),e.next=17,o._updateTokensIfNecessary(c);case 17:case"end":return e.stop()}}),e)}))),Ir.apply(this,arguments)}function Er(e,t){return Tr((0,x.m9)(e),t,null)}function Zr(e,t){return Tr((0,x.m9)(e),null,t)}function Tr(e,t,n){return Sr.apply(this,arguments)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return Sr=(0,o.Z)((0,r.Z)().mark((function e(t,n,i){var a,o,u,s;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.auth,e.next=3,t.getIdToken();case 3:return o=e.sent,u={idToken:o,returnSecureToken:!0},n&&(u.email=n),i&&(u.password=i),e.next=9,Te(t,wt(a,u));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),Sr.apply(this,arguments)}function Ar(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Ee(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n["sign_in_provider"];if(o){var u="anonymous"!==o&&"custom"!==o?o:null;return new Cr(a,u)}}if(!r)return null;switch(r){case"facebook.com":return new Or(a,i);case"github.com":return new Nr(a,i);case"google.com":return new Dr(a,i);case"twitter.com":return new Pr(a,i,e.screenName||null);case"custom":case"anonymous":return new Cr(a,null);default:return new Cr(a,r,i)}}var Cr=(0,a.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,i.Z)(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Rr=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,a,o){var u;return(0,i.Z)(this,n),u=t.call(this,e,r,a),u.username=o,u}return(0,a.Z)(n)}(Cr),Or=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){return(0,i.Z)(this,n),t.call(this,e,"facebook.com",r)}return(0,a.Z)(n)}(Cr),Nr=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){return(0,i.Z)(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return(0,a.Z)(n)}(Rr),Dr=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){return(0,i.Z)(this,n),t.call(this,e,"google.com",r)}return(0,a.Z)(n)}(Cr),Pr=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,a){return(0,i.Z)(this,n),t.call(this,e,"twitter.com",r,a)}return(0,a.Z)(n)}(Rr);function Lr(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Ar(n)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mr=function(){function e(t,n){(0,i.Z)(this,e),this.type=t,this.credential=n}return(0,a.Z)(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,_.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Ur=function(){function e(t,n,r){(0,i.Z)(this,e),this.session=t,this.hints=n,this.signInResolver=r}return(0,a.Z)(e,[{key:"resolveSignIn",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}],[{key:"_fromError",value:function(t,n){var i=lt(t),a=n.customData._serverResponse,u=(a.mfaInfo||[]).map((function(e){return Kn._fromServerResponse(i,e)}));q(a.mfaPendingCredential,i,"internal-error");var s=Mr._fromMfaPendingCredential(a.mfaPendingCredential);return new e(s,u,function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var o,u,c;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t._process(i,s);case 2:o=e.sent,delete a.mfaInfo,delete a.mfaPendingCredential,u=Object.assign(Object.assign({},a),{idToken:o.idToken,refreshToken:o.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,kn._fromIdTokenResponse(i,n.operationType,u);case 11:return c=e.sent,e.next=14,i._updateCurrentUser(c.user);case 14:return e.abrupt("return",c);case 15:return q(n.user,i,"internal-error"),e.abrupt("return",kn._forOperation(n.user,n.operationType,u));case 17:U(i,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(e,t){var n,r=(0,x.m9)(e),i=t;return q(t.customData.operationType,r,"argument-error"),q(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ur._fromError(r,i)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(e,t){return oe(e,"POST","/v2/accounts/mfaEnrollment:start",ae(e,t))}function Vr(e,t){return oe(e,"POST","/v2/accounts/mfaEnrollment:finalize",ae(e,t))}function Br(e,t){return oe(e,"POST","/v2/accounts/mfaEnrollment:withdraw",ae(e,t))}var qr=function(){function e(t){var n=this;(0,i.Z)(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Kn._fromServerResponse(t.auth,e)})))}))}return(0,a.Z)(e,[{key:"getSession",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=Mr,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"enroll",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n){var i,a,o;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t,e.next=3,this.getSession();case 3:return a=e.sent,e.next=6,Te(this.user,i._process(this.user.auth,a,n));case 6:return o=e.sent,e.next=9,this.user._updateTokensIfNecessary(o);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"unenroll",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i,a;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,Te(this.user,Br(this.user.auth,{idToken:i,mfaEnrollmentId:n}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){var t=e.uid;return t!==n})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e["catch"](10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));function t(t){return e.apply(this,arguments)}return t}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),zr=new WeakMap;function Gr(e){var t=(0,x.m9)(e);return zr.has(t)||zr.set(t,qr._fromUser(t)),zr.get(t)}var Kr="__sak",Hr=function(){function e(t,n){(0,i.Z)(this,e),this.storageRetriever=t,this.type=n}return(0,a.Z)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Kr,"1"),this.storage.removeItem(Kr),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Wr(){var e=(0,x.z$)();return Ye(e)||tt(e)}var Yr=1e3,Qr=10,Jr=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e;return(0,i.Z)(this,n),e=t.call(this,(function(){return window.localStorage}),"LOCAL"),e.boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=Wr()&&ot(),e.fallbackToPolling=at(),e._shouldAllowMigration=!0,e}return(0,a.Z)(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);it()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Qr):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){var a=i[r];a(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),Yr)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,i){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,d.Z)((0,p.Z)(n.prototype),"_set",this).call(this,t,i);case 2:this.localCache[t]=JSON.stringify(i);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"_get",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var i;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,d.Z)((0,p.Z)(n.prototype),"_get",this).call(this,t);case 2:return i=e.sent,this.localCache[t]=JSON.stringify(i),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_remove",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,d.Z)((0,p.Z)(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(Hr);Jr.type="LOCAL";var Xr=Jr,$r=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,i.Z)(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return(0,a.Z)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Hr);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r.type="SESSION";var ei=$r;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(e){return Promise.all(e.map(function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ni=function(){function e(t){(0,i.Z)(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return(0,a.Z)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i,a,u,s,c,l,f;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t,i=n.data,a=i.eventId,u=i.eventType,s=i.data,c=this.handlersMap[u],null===c||void 0===c?void 0:c.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:a,eventType:u}),l=Array.from(c).map(function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,s));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,ti(l);case 9:f=e.sent,n.ports[0].postMessage({status:"done",eventId:a,eventType:u,response:f});case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ri(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ni.receivers=[];var ii=function(){function e(t){(0,i.Z)(this,e),this.target=t,this.handlers=new Set}return(0,a.Z)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n){var i,a,o,u,s=this,c=arguments;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=c.length>2&&void 0!==c[2]?c[2]:50,a="undefined"!==typeof MessageChannel?new MessageChannel:null,a){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,r){var c=ri("",20);a.port1.start();var l=setTimeout((function(){r(new Error("unsupported_event"))}),i);u={messageChannel:a,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),o=setTimeout((function(){r(new Error("timeout"))}),3e3);break;case"done":clearTimeout(o),e(n.data.response);break;default:clearTimeout(l),clearTimeout(o),r(new Error("invalid_response"));break}}},s.handlers.add(u),a.port1.addEventListener("message",u.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[a.port2])})).finally((function(){u&&s.removeMessageHandler(u)})));case 5:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function oi(e){ai().location.href=e}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return"undefined"!==typeof ai()["WorkerGlobalScope"]&&"function"===typeof ai()["importScripts"]}function si(){return ci.apply(this,arguments)}function ci(){return ci=(0,o.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e["catch"](2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),ci.apply(this,arguments)}function li(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}function fi(){return ui()?self:null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hi="firebaseLocalStorageDb",di=1,pi="firebaseLocalStorage",vi="fbase_key",gi=function(){function e(t){(0,i.Z)(this,e),this.request=t}return(0,a.Z)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function yi(e,t){return e.transaction([pi],t?"readwrite":"readonly").objectStore(pi)}function mi(){var e=indexedDB.deleteDatabase(hi);return new gi(e).toPromise()}function ki(){var e=indexedDB.open(hi,di);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(pi,{keyPath:vi})}catch(r){n(r)}})),e.addEventListener("success",(0,o.Z)((0,r.Z)().mark((function n(){var i;return(0,r.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=e.result,i.objectStoreNames.contains(pi)){n.next=12;break}return i.close(),n.next=5,mi();case 5:return n.t0=t,n.next=8,ki();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(i);case 13:case"end":return n.stop()}}),n)}))))}))}function wi(e,t,n){return bi.apply(this,arguments)}function bi(){return bi=(0,o.Z)((0,r.Z)().mark((function e(t,n,i){var a,o;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=yi(t,!0).put((a={},(0,_.Z)(a,vi,n),(0,_.Z)(a,"value",i),a)),e.abrupt("return",new gi(o).toPromise());case 2:case"end":return e.stop()}}),e)}))),bi.apply(this,arguments)}function _i(e,t){return xi.apply(this,arguments)}function xi(){return xi=(0,o.Z)((0,r.Z)().mark((function e(t,n){var i,a;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=yi(t,!1).get(n),e.next=3,new gi(i).toPromise();case 3:return a=e.sent,e.abrupt("return",void 0===a?null:a.value);case 5:case"end":return e.stop()}}),e)}))),xi.apply(this,arguments)}function Ii(e,t){var n=yi(e,!0).delete(t);return new gi(n).toPromise()}var Ei=800,Zi=3,Ti=function(){function e(){(0,i.Z)(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return(0,a.Z)(e,[{key:"_openDb",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ki();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_withRetries",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return i=e.sent,e.next=8,t(i);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e["catch"](2),!(n++>Zi)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ui()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initializeReceiver",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t=this;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.receiver=ni._getInstance(fi()),this.receiver._subscribe("keyChanged",function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n,i){var a;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return a=e.sent,e.abrupt("return",{keyProcessed:a.includes(i.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initializeSender",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t,n,i;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,si();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new ii(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(i=e.sent,i){e.next=11;break}return e.abrupt("return");case 11:(null===(t=i[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=i[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"notifyServiceWorker",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&li()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_isAvailable",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ki();case 5:return t=e.sent,e.next=8,wi(t,Kr,"1");case 8:return e.next=10,Ii(t,Kr);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e["catch"](0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"_withPendingWrite",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_set",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n){var i=this;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite((0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i._withRetries((function(e){return wi(e,t,n)}));case 2:return i.localCache[t]=n,e.abrupt("return",i.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"_get",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return _i(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_remove",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n=this;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite((0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Ii(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_poll",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t,n,i,a,o,u,s,c,l,f,h;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=yi(e,!1).getAll();return new gi(t).toPromise()}));case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],i=new Set,a=(0,k.Z)(t);try{for(a.s();!(o=a.n()).done;)u=o.value,s=u.fbase_key,c=u.value,i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(c)&&(this.notifyListeners(s,c),n.push(s))}catch(r){a.e(r)}finally{a.f()}for(l=0,f=Object.keys(this.localCache);l<f.length;l++)h=f[l],this.localCache[h]&&!i.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){var a=i[r];a(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),Ei)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ti.type="LOCAL";var Si=Ti;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(e,t){return oe(e,"POST","/v2/accounts/mfaSignIn:start",ae(e,t))}function Ci(e,t){return oe(e,"POST","/v2/accounts/mfaSignIn:finalize",ae(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(e){return Oi.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(){return Oi=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oe(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Oi.apply(this,arguments)}function Ni(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}function Di(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=F("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",Ni().appendChild(r)}))}function Pi(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Li=500,Mi=6e4,Ui=1e12,Fi=function(){function e(t){(0,i.Z)(this,e),this.auth=t,this.counter=Ui,this._widgets=new Map}return(0,a.Z)(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new ji(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Ui;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Ui;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t||Ui,null===(n=this._widgets.get(i))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),ji=function(){function e(t,n,r){var a=this;(0,i.Z)(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){a.execute()};var o="string"===typeof t?document.getElementById(t):t;q(o,"argument-error",{appName:n}),this.container=o,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return(0,a.Z)(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=Vi(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),Mi)}),Li))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();function Vi(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bi=Pi("rcb"),qi=new ee(3e4,6e4),zi="https://www.google.com/recaptcha/api.js?",Gi=function(){function e(){(0,i.Z)(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!ai().grecaptcha}return(0,a.Z)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return q(Ki(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(ai().grecaptcha):new Promise((function(r,i){var a=ai().setTimeout((function(){i(F(e,"network-request-failed"))}),qi.get());ai()[Bi]=function(){ai().clearTimeout(a),delete ai()[Bi];var o=ai().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(F(e,"internal-error"))};var o="".concat(zi,"?").concat((0,x.xO)({onload:Bi,render:"explicit",hl:n}));Di(o).catch((function(){clearTimeout(a),i(F(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!ai().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Ki(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Hi=function(){function e(){(0,i.Z)(this,e)}return(0,a.Z)(e,[{key:"load",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Fi(t));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Wi="recaptcha",Yi={theme:"light",type:"image"},Qi=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Yi),r=arguments.length>2?arguments[2]:void 0;(0,i.Z)(this,e),this.parameters=n,this.type=Wi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=lt(r),this.isInvisible="invisible"===this.parameters.size,q("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var a="string"===typeof t?document.getElementById(t):t;q(a,this.auth,"argument-error"),this.container=a,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Hi:new Gi,this.validateStartingState()}return(0,a.Z)(e,[{key:"verify",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t,n,i,a=this;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),i=n.getResponse(t),!i){e.next=8;break}return e.abrupt("return",i);case 8:return e.abrupt("return",new Promise((function(e){var r=function t(n){n&&(a.tokenChangeListeners.delete(t),e(n))};a.tokenChangeListeners.add(r),a.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=ai()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){q(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return q(Q()&&!ui(),this.auth,"internal-error"),e.next=3,Ji();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Ri(this.auth);case 8:t=e.sent,q(t,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAssertedRecaptcha",value:function(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xi=function(){function e(t,n){(0,i.Z)(this,e),this.verificationId=t,this.onConfirmation=n}return(0,a.Z)(e,[{key:"confirm",value:function(e){var t=en._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function $i(e,t,n){return ea.apply(this,arguments)}function ea(){return ea=(0,o.Z)((0,r.Z)().mark((function e(t,n,i){var a,o;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=lt(t),e.next=3,aa(a,n,(0,x.m9)(i));case 3:return o=e.sent,e.abrupt("return",new Xi(o,(function(e){return Ln(a,e)})));case 5:case"end":return e.stop()}}),e)}))),ea.apply(this,arguments)}function ta(e,t,n){return na.apply(this,arguments)}function na(){return na=(0,o.Z)((0,r.Z)().mark((function e(t,n,i){var a,o;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=(0,x.m9)(t),e.next=3,Cn(!1,a,"phone");case 3:return e.next=5,aa(a.auth,n,(0,x.m9)(i));case 5:return o=e.sent,e.abrupt("return",new Xi(o,(function(e){return Un(a,e)})));case 7:case"end":return e.stop()}}),e)}))),na.apply(this,arguments)}function ra(e,t,n){return ia.apply(this,arguments)}function ia(){return ia=(0,o.Z)((0,r.Z)().mark((function e(t,n,i){var a,o;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=(0,x.m9)(t),e.next=3,aa(a.auth,n,(0,x.m9)(i));case 3:return o=e.sent,e.abrupt("return",new Xi(o,(function(e){return jn(a,e)})));case 5:case"end":return e.stop()}}),e)}))),ia.apply(this,arguments)}function aa(e,t,n){return oa.apply(this,arguments)}function oa(){return oa=(0,o.Z)((0,r.Z)().mark((function e(t,n,i){var a,o,u,s,c,l,f,h,d;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.verify();case 2:if(o=e.sent,e.prev=3,q("string"===typeof o,t,"argument-error"),q(i.type===Wi,t,"argument-error"),u="string"===typeof n?{phoneNumber:n}:n,!("session"in u)){e.next=26;break}if(s=u.session,!("phoneNumber"in u)){e.next=17;break}return q("enroll"===s.type,t,"internal-error"),e.next=13,jr(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:u.phoneNumber,recaptchaToken:o}});case 13:return c=e.sent,e.abrupt("return",c.phoneSessionInfo.sessionInfo);case 17:return q("signin"===s.type,t,"internal-error"),l=(null===(a=u.multiFactorHint)||void 0===a?void 0:a.uid)||u.multiFactorUid,q(l,t,"missing-multi-factor-info"),e.next=22,Ai(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:o}});case 22:return f=e.sent,e.abrupt("return",f.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Gt(t,{phoneNumber:u.phoneNumber,recaptchaToken:o});case 28:return h=e.sent,d=h.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,i._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),oa.apply(this,arguments)}function ua(e,t){return sa.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(){return sa=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Sn((0,x.m9)(t),n);case 2:case"end":return e.stop()}}),e)}))),sa.apply(this,arguments)}var ca=function(){function e(t){(0,i.Z)(this,e),this.providerId=e.PROVIDER_ID,this.auth=lt(t)}return(0,a.Z)(e,[{key:"verifyPhoneNumber",value:function(e,t){return aa(this.auth,e,(0,x.m9)(t))}}],[{key:"credential",value:function(e,t){return en._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?en._fromTokenResponse(n,r):null}}]),e}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function la(e,t){return t?H(t):(q(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ca.PROVIDER_ID="phone",ca.PHONE_SIGN_IN_METHOD="phone";var fa=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,"custom","custom"),r.params=e,r}return(0,a.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return Vt(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Vt(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Vt(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(yt);function ha(e){return Dn(e.auth,new fa(e),e.bypassAuthState)}function da(e){var t=e.auth,n=e.user;return q(n,t,"internal-error"),On(n,new fa(e),e.bypassAuthState)}function pa(e){return va.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(){return va=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.auth,i=t.user,q(i,n,"internal-error"),e.abrupt("return",Sn(i,new fa(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),va.apply(this,arguments)}var ga=function(){function e(t,n,r,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,i.Z)(this,e),this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return(0,a.Z)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=(0,o.Z)((0,r.Z)().mark((function t(n,i){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:i},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i,a,o,u,s,c;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.urlResponse,i=t.sessionId,a=t.postBody,o=t.tenantId,u=t.error,s=t.type,!u){e.next=4;break}return this.reject(u),e.abrupt("return");case 4:return c={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(c);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e["catch"](5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ha;case"linkViaPopup":case"linkViaRedirect":return pa;case"reauthViaPopup":case"reauthViaRedirect":return da;default:U(this.auth,"internal-error")}}},{key:"resolve",value:function(e){G(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){G(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),ya=new ee(2e3,1e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(e,t,n){return ka.apply(this,arguments)}function ka(){return ka=(0,o.Z)((0,r.Z)().mark((function e(t,n,i){var a,o,u;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=lt(t),V(t,n,on),o=la(a,i),u=new Ia(a,"signInViaPopup",n,o),e.abrupt("return",u.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),ka.apply(this,arguments)}function wa(e,t,n){return ba.apply(this,arguments)}function ba(){return ba=(0,o.Z)((0,r.Z)().mark((function e(t,n,i){var a,o,u;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=(0,x.m9)(t),V(a.auth,n,on),o=la(a.auth,i),u=new Ia(a.auth,"reauthViaPopup",n,o,a),e.abrupt("return",u.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),ba.apply(this,arguments)}function _a(e,t,n){return xa.apply(this,arguments)}function xa(){return xa=(0,o.Z)((0,r.Z)().mark((function e(t,n,i){var a,o,u;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=(0,x.m9)(t),V(a.auth,n,on),o=la(a.auth,i),u=new Ia(a.auth,"linkViaPopup",n,o,a),e.abrupt("return",u.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),xa.apply(this,arguments)}var Ia=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,a,o,u){var s;return(0,i.Z)(this,n),s=t.call(this,e,r,o,u),s.provider=a,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=(0,m.Z)(s),s}return(0,a.Z)(n,[{key:"executeNotNull",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return t=e.sent,q(t,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onExecution",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t,n=this;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return G(1===this.filter.length,"Popup operations only handle one event"),t=ri(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(F(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(F(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this,t=function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(F(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,ya.get())};t()}}]),n}(ga);Ia.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ea="pendingRedirect",Za=new Map,Ta=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var a,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,i.Z)(this,n),a=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,o),a.eventId=null,a}return(0,a.Z)(n,[{key:"execute",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t,i,a;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=Za.get(this.auth._key()),t){e.next=21;break}return e.prev=2,e.next=5,Sa(this.resolver,this.auth);case 5:if(i=e.sent,!i){e.next=12;break}return e.next=9,(0,d.Z)((0,p.Z)(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:a=e.t0,t=function(){return Promise.resolve(a)},e.next=20;break;case 17:e.prev=17,e.t1=e["catch"](2),t=function(){return Promise.reject(e.t1)};case 20:Za.set(this.auth._key(),t);case 21:return this.bypassAuthState||Za.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"onAuthEvent",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var i;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",(0,d.Z)((0,p.Z)(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(i=e.sent,!i){e.next=16;break}return this.user=i,e.abrupt("return",(0,d.Z)((0,p.Z)(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onExecution",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cleanUp",value:function(){}}]),n}(ga);function Sa(e,t){return Aa.apply(this,arguments)}function Aa(){return Aa=(0,o.Z)((0,r.Z)().mark((function e(t,n){var i,a,o;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=Pa(n),a=Da(t),e.next=4,a._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,a._get(i);case 8:return e.t0=e.sent,o="true"===e.t0,e.next=12,a._remove(i);case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)}))),Aa.apply(this,arguments)}function Ca(e,t){return Ra.apply(this,arguments)}function Ra(){return Ra=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Da(t)._set(Pa(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Ra.apply(this,arguments)}function Oa(){Za.clear()}function Na(e,t){Za.set(e._key(),t)}function Da(e){return H(e._redirectPersistence)}function Pa(e){return Ge(Ea,e.config.apiKey,e.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(e,t,n){return Ma(e,t,n)}function Ma(e,t,n){return Ua.apply(this,arguments)}function Ua(){return Ua=(0,o.Z)((0,r.Z)().mark((function e(t,n,i){var a,o;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=lt(t),V(t,n,on),o=la(a,i),e.next=5,Ca(o,a);case 5:return e.abrupt("return",o._openRedirect(a,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),Ua.apply(this,arguments)}function Fa(e,t,n){return ja(e,t,n)}function ja(e,t,n){return Va.apply(this,arguments)}function Va(){return Va=(0,o.Z)((0,r.Z)().mark((function e(t,n,i){var a,o,u;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=(0,x.m9)(t),V(a.auth,n,on),o=la(a.auth,i),e.next=5,Ca(o,a.auth);case 5:return e.next=7,Ya(a);case 7:return u=e.sent,e.abrupt("return",o._openRedirect(a.auth,n,"reauthViaRedirect",u));case 9:case"end":return e.stop()}}),e)}))),Va.apply(this,arguments)}function Ba(e,t,n){return qa(e,t,n)}function qa(e,t,n){return za.apply(this,arguments)}function za(){return za=(0,o.Z)((0,r.Z)().mark((function e(t,n,i){var a,o,u;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=(0,x.m9)(t),V(a.auth,n,on),o=la(a.auth,i),e.next=5,Cn(!1,a,n.providerId);case 5:return e.next=7,Ca(o,a.auth);case 7:return e.next=9,Ya(a);case 9:return u=e.sent,e.abrupt("return",o._openRedirect(a.auth,n,"linkViaRedirect",u));case 11:case"end":return e.stop()}}),e)}))),za.apply(this,arguments)}function Ga(e,t){return Ka.apply(this,arguments)}function Ka(){return Ka=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,lt(t)._initializationPromise;case 2:return e.abrupt("return",Ha(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Ka.apply(this,arguments)}function Ha(e,t){return Wa.apply(this,arguments)}function Wa(){return Wa=(0,o.Z)((0,r.Z)().mark((function e(t,n){var i,a,o,u,s,c=arguments;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=c.length>2&&void 0!==c[2]&&c[2],a=lt(t),o=la(a,n),u=new Ta(a,o,i),e.next=6,u.execute();case 6:if(s=e.sent,!s||i){e.next=13;break}return delete s.user._redirectEventId,e.next=11,a._persistUserIfCurrent(s.user);case 11:return e.next=13,a._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Wa.apply(this,arguments)}function Ya(e){return Qa.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(){return Qa=(0,o.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=ri("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Qa.apply(this,arguments)}var Ja=6e5,Xa=function(){function e(t){(0,i.Z)(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return(0,a.Z)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!to(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!eo(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(F(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=Ja&&this.cachedEventUids.clear(),this.cachedEventUids.has($a(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add($a(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function $a(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function eo(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function to(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eo(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(e){return ro.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(){return ro=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i=arguments;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.abrupt("return",oe(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),ro.apply(this,arguments)}var io=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ao=/^https?/;function oo(e){return uo.apply(this,arguments)}function uo(){return uo=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i,a,o,u;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,no(t);case 4:n=e.sent,i=n.authorizedDomains,a=(0,k.Z)(i),e.prev=7,a.s();case 9:if((o=a.n()).done){e.next=20;break}if(u=o.value,e.prev=11,!so(u)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e["catch"](11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e["catch"](7),a.e(e.t1);case 25:return e.prev=25,a.f(),e.finish(25);case 28:U(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),uo.apply(this,arguments)}function so(e){var t=Y(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!ao.test(r))return!1;if(io.test(e))return i===e;var o=e.replace(/\./g,"\\."),u=new RegExp("^(.+\\."+o+"|"+o+")$","i");return u.test(i)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var co=new ee(3e4,6e4);function lo(){var e=ai().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,b.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}function fo(e){return new Promise((function(t,n){var r,i,a;function o(){lo(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){lo(),n(F(e,"network-request-failed"))},timeout:co.get()})}if(null===(i=null===(r=ai().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ai().gapi)||void 0===a?void 0:a.load)){var u=Pi("iframefcb");return ai()[u]=function(){gapi.load?o():n(F(e,"network-request-failed"))},Di("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ho=null,e}))}var ho=null;function po(e){return ho=ho||fo(e),ho}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vo=new ee(5e3,15e3),go="__/auth/iframe",yo="emulator/auth/iframe",mo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ko=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wo(e){var t=e.config;q(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?te(t,yo):"https://".concat(e.config.authDomain,"/").concat(go),r={apiKey:t.apiKey,appName:e.name,v:I.SDK_VERSION},i=ko.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat((0,x.xO)(r).slice(1))}function bo(e){return _o.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(){return _o=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,po(t);case 2:return n=e.sent,i=ai().gapi,q(i,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:wo(t),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mo,dontclear:!0},(function(e){return new Promise(function(){var n=(0,o.Z)((0,r.Z)().mark((function n(i,a){var o,u,s;return(0,r.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=function(){ai().clearTimeout(u),i(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:o=F(t,"network-request-failed"),u=ai().setTimeout((function(){a(o)}),vo.get()),e.ping(s).then(s,(function(){a(o)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),_o.apply(this,arguments)}var xo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Io=500,Eo=600,Zo="_blank",To="http://localhost",So=function(){function e(t){(0,i.Z)(this,e),this.window=t,this.associatedEvent=null}return(0,a.Z)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Ao(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Io,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Eo,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},xo),{width:r.toString(),height:i.toString(),top:a,left:o}),c=(0,x.z$)().toLowerCase();n&&(u=Qe(c)?Zo:n),We(c)&&(t=t||To,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=(0,w.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(rt(c)&&"_self"!==u)return Co(t||"",u),new So(null);var f=window.open(t||"",u,l);q(f,e,"popup-blocked");try{f.focus()}catch(h){}return new So(f)}function Co(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ro="__/auth/handler",Oo="emulator/auth/handler";function No(e,t,n,r,i,a){q(e.config.authDomain,e,"auth-domain-config-required"),q(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:I.SDK_VERSION,eventId:i};if(t instanceof on){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",(0,x.xb)(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=(0,w.Z)(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof un){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var g=v[p];void 0===d[g]&&delete d[g]}return"".concat(Do(e),"?").concat((0,x.xO)(d).slice(1))}function Do(e){var t=e.config;return t.emulator?te(t,Oo):"https://".concat(t.authDomain,"/").concat(Ro)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Po="webStorageSupport",Lo=function(){function e(){(0,i.Z)(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ei,this._completeRedirectFn=Ha,this._overrideRedirectResult=Na}return(0,a.Z)(e,[{key:"_openPopup",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n,i,a){var o,u;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return G(null===(o=this.eventManagers[t._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()"),u=No(t,n,i,Y(),a),e.abrupt("return",Ao(t,u,ri()));case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"_openRedirect",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n,i,a){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return oi(No(t,n,i,Y(),a)),e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(G(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,bo(t);case 2:return n=e.sent,i=new Xa(t),n.register("authEvent",(function(e){q(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event");var n=i.onEvent(e.authEvent);return{status:n?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_isIframeWebStorageSupported",value:function(e,t){var n=this.iframes[e._key()];n.send(Po,{type:Po},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Po];void 0!==i&&t(!!i),U(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=oo(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return at()||Ye()||tt()}}]),e}(),Mo=Lo,Uo=function(){function e(t){(0,i.Z)(this,e),this.factorId=t}return(0,a.Z)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return z("unexpected MultiFactorSessionType")}}}]),e}(),Fo=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,"phone"),r.credential=e,r}return(0,a.Z)(n,[{key:"_finalizeEnroll",value:function(e,t,n){return Vr(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return Ci(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Uo),jo=function(){function e(){(0,i.Z)(this,e)}return(0,a.Z)(e,null,[{key:"assertion",value:function(e){return Fo._fromCredential(e)}}]),e}();jo.FACTOR_ID="phone";var Vo="@firebase/auth",Bo="0.20.2",qo=function(){function e(t){(0,i.Z)(this,e),this.auth=t,this.internalListeners=new Map}return(0,a.Z)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function zo(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Go(e){(0,I._registerComponent)(new S.wA("auth",(function(t,n){var r=n.options,i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),o=i.options,u=o.apiKey,s=o.authDomain;return function(t,n){q(u&&!u.includes(":"),"invalid-api-key",{appName:t.name}),q(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:t.name});var i={apiKey:u,authDomain:s,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ut(e)},a=new ct(t,n,i);return W(a,r),a}(i,a)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){var r=e.getProvider("auth-internal");r.initialize()}))),(0,I._registerComponent)(new S.wA("auth-internal",(function(e){var t=lt(e.getProvider("auth").getImmediate());return function(e){return new qo(e)}(t)}),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,I.registerVersion)(Vo,Bo,zo(e)),(0,I.registerVersion)(Vo,Bo,"esm2017")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ko(){return window}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Go("Browser");var Ho=2e3;function Wo(e,t,n){return Yo.apply(this,arguments)}function Yo(){return Yo=(0,o.Z)((0,r.Z)().mark((function e(t,n,i){var a,o,u,s,c;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=Ko(),u=o.BuildInfo,G(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,nu(n.sessionId);case 4:return s=e.sent,c={},tt()?c["ibi"]=u.packageName:Xe()?c["apn"]=u.packageName:U(t,"operation-not-supported-in-this-environment"),u.displayName&&(c["appDisplayName"]=u.displayName),c["sessionId"]=s,e.abrupt("return",No(t,i,n.type,void 0,null!==(a=n.eventId)&&void 0!==a?a:void 0,c));case 10:case"end":return e.stop()}}),e)}))),Yo.apply(this,arguments)}function Qo(e){return Jo.apply(this,arguments)}function Jo(){return Jo=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i,a;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Ko(),i=n.BuildInfo,a={},tt()?a.iosBundleId=i.packageName:Xe()?a.androidPackageName=i.packageName:U(t,"operation-not-supported-in-this-environment"),e.next=5,no(t,a);case 5:case"end":return e.stop()}}),e)}))),Jo.apply(this,arguments)}function Xo(e){var t=Ko(),n=t.cordova;return new Promise((function(t){n.plugins.browsertab.isAvailable((function(r){var i=null;r?n.plugins.browsertab.openUrl(e):i=n.InAppBrowser.open(e,nt()?"_blank":"_system","location=yes"),t(i)}))}))}function $o(e,t,n){return eu.apply(this,arguments)}function eu(){return eu=(0,o.Z)((0,r.Z)().mark((function e(t,n,i){var a,o,u;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Ko(),o=a.cordova,u=function(){},e.prev=2,e.next=5,new Promise((function(e,r){var a=null;function s(){var t;e();var n=null===(t=o.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===i||void 0===i?void 0:i.close)&&i.close()}function c(){a||(a=window.setTimeout((function(){r(F(t,"redirect-cancelled-by-user"))}),Ho))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Xe()&&document.addEventListener("visibilitychange",l,!1),u=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),a&&window.clearTimeout(a)}}));case 5:return e.prev=5,u(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),eu.apply(this,arguments)}function tu(e){var t,n,r,i,a,o,u,s,c,l,f=Ko();q("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),q("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),q("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function nu(e){return ru.apply(this,arguments)}function ru(){return ru=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i,a;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=iu(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return i=e.sent,a=Array.from(new Uint8Array(i)),e.abrupt("return",a.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)}))),ru.apply(this,arguments)}function iu(e){if(G(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var au=20,ou=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(){var e;return(0,i.Z)(this,n),e=t.apply(this,arguments),e.passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return(0,a.Z)(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),(0,d.Z)((0,p.Z)(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(Xa);function uu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:hu(),postBody:null,tenantId:e.tenantId,error:F(e,"no-auth-event")}}function su(e,t){return du()._set(pu(e),t)}function cu(e){return lu.apply(this,arguments)}function lu(){return lu=(0,o.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,du()._get(pu(t));case 2:if(n=e.sent,!n){e.next=6;break}return e.next=6,du()._remove(pu(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),lu.apply(this,arguments)}function fu(e,t){var n,r,i=gu(t);if(i.includes("/__/auth/callback")){var a=yu(i),o=a["firebaseError"]?vu(decodeURIComponent(a["firebaseError"])):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o["code"])||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?F(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function hu(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<au;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function du(){return H(Xr)}function pu(e){return Ge("authEvent",e.config.apiKey,e.name)}function vu(e){try{return JSON.parse(e)}catch(t){return null}}function gu(e){var t=yu(e),n=t["link"]?decodeURIComponent(t["link"]):void 0,r=yu(n)["link"],i=t["deep_link_id"]?decodeURIComponent(t["deep_link_id"]):void 0,a=yu(i)["link"];return a||i||r||n||e}function yu(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=e.split("?"),n=h(t),r=(n[0],n.slice(1));return(0,x.zd)(r.join("?"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mu=500,ku=function(){function e(){(0,i.Z)(this,e),this._redirectPersistence=ei,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ha,this._overrideRedirectResult=Na}return(0,a.Z)(e,[{key:"_initialize",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t._key(),i=this.eventManagers.get(n),i||(i=new ou(t),this.eventManagers.set(n,i),this.attachCallbackListeners(t,i)),e.abrupt("return",i);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_openPopup",value:function(e){U(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n,i,a){var o,u,s,c;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return tu(t),e.next=3,this._initialize(t);case 3:return o=e.sent,e.next=6,o.initialized();case 6:return o.resetRedirect(),Oa(),e.next=10,this._originValidation(t);case 10:return u=uu(t,i,a),e.next=13,su(t,u);case 13:return e.next=15,Wo(t,u,n);case 15:return s=e.sent,e.next=18,Xo(s);case 18:return c=e.sent,e.abrupt("return",$o(t,o,c));case 20:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Qo(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Ko(),i=n.universalLinks,a=n.handleOpenURL,u=n.BuildInfo,s=setTimeout((0,o.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,cu(e);case 2:t.onEvent(bu());case 3:case"end":return n.stop()}}),n)}))),mu),c=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(i){var a,o;return(0,r.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return clearTimeout(s),n.next=3,cu(e);case 3:a=n.sent,o=null,a&&(null===i||void 0===i?void 0:i["url"])&&(o=fu(a,i["url"])),t.onEvent(o||bu());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof i&&"function"===typeof i.subscribe&&i.subscribe(null,c);var l=a,f="".concat(u.packageName.toLowerCase(),"://");Ko().handleOpenURL=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(f)&&c({url:t}),"function"===typeof l)try{l(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),wu=ku;function bu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:F("no-auth-event")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(e,t){lt(e)._logFramework(t)}var xu="@firebase/auth-compat",Iu="0.2.15",Eu=1e3;function Zu(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Tu(){return"http:"===Zu()||"https:"===Zu()}function Su(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,x.z$)();return!("file:"!==Zu()&&"ionic:"!==Zu()&&"capacitor:"!==Zu()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Au(){return(0,x.b$)()||(0,x.UG)()}function Cu(){return(0,x.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Ru(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,x.z$)();return/Edge\/\d+/.test(e)}function Ou(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,x.z$)();return Cu()||Ru(e)}function Nu(){try{var e=self.localStorage,t=ri();if(e)return e["setItem"](t,"1"),e["removeItem"](t),!Ou()||(0,x.hl)()}catch(n){return Du()&&(0,x.hl)()}return!1}function Du(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Pu(){return(Tu()||(0,x.ru)()||Su())&&!Au()&&Nu()&&!Du()}function Lu(){return Su()&&"undefined"!==typeof document}function Mu(){return Uu.apply(this,arguments)}function Uu(){return Uu=(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Lu()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),Eu);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)}))),Uu.apply(this,arguments)}function Fu(){return"undefined"!==typeof window?window:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ju={LOCAL:"local",NONE:"none",SESSION:"session"},Vu=q,Bu="persistence";function qu(e,t){Vu(Object.values(ju).includes(t),e,"invalid-persistence-type"),(0,x.b$)()?Vu(t!==ju.SESSION,e,"unsupported-persistence-type"):(0,x.UG)()?Vu(t===ju.NONE,e,"unsupported-persistence-type"):Du()?Vu(t===ju.NONE||t===ju.LOCAL&&(0,x.hl)(),e,"unsupported-persistence-type"):Vu(t===ju.NONE||Nu(),e,"unsupported-persistence-type")}function zu(e){return Gu.apply(this,arguments)}function Gu(){return Gu=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Hu(),i=Ge(Bu,t.config.apiKey,t.name),n&&n.setItem(i,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Gu.apply(this,arguments)}function Ku(e,t){var n=Hu();if(!n)return[];var r=Ge(Bu,e,t),i=n.getItem(r);switch(i){case ju.NONE:return[ze];case ju.LOCAL:return[Si,ei];case ju.SESSION:return[ei];default:return[]}}function Hu(){var e;try{return(null===(e=Fu())||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wu=q,Yu=function(){function e(){(0,i.Z)(this,e),this.browserResolver=H(Mo),this.cordovaResolver=H(wu),this.underlyingResolver=null,this._redirectPersistence=ei,this._completeRedirectFn=Ha,this._overrideRedirectResult=Na}return(0,a.Z)(e,[{key:"_initialize",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_openPopup",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n,i,a){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,i,a));case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"_openRedirect",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n,i,a){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,i,a));case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Lu()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Wu(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Mu();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Qu(e){return e.unwrap()}function Ju(e){return e.wrapped()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(e){return es(e)}function $u(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code){var i=t;i.resolver=new is(e,Fr(e,t))}else if(r){var a=es(t),o=t;a&&(o.credential=a,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function es(e){var t=e instanceof x.ZR?e.customData:e,n=t._tokenResponse;if(!n)return null;if(!(e instanceof x.ZR)&&"temporaryProof"in n&&"phoneNumber"in n)return ca.credentialFromResult(e);var r,i=n.providerId;if(!i||i===A.PASSWORD)return null;switch(i){case A.GOOGLE:r=ln;break;case A.FACEBOOK:r=cn;break;case A.GITHUB:r=fn;break;case A.TWITTER:r=gn;break;default:var a=n.oauthIdToken,o=n.oauthAccessToken,u=n.oauthTokenSecret,s=n.pendingToken,c=n.nonce;return o||u||a||s?s?i.startsWith("saml.")?dn._create(i,s):zt._fromParams({providerId:i,signInMethod:i,pendingToken:s,idToken:a,accessToken:o}):new sn(i).credential({idToken:a,accessToken:o,rawNonce:c}):null}return e instanceof x.ZR?r.credentialFromError(e):r.credentialFromResult(e)}function ts(e,t){return t.catch((function(t){throw t instanceof x.ZR&&$u(e,t),t})).then((function(e){var t=e.operationType,n=e.user;return{operationType:t,credential:Xu(e),additionalUserInfo:Lr(e),user:as.getOrCreate(n)}}))}function ns(e,t){return rs.apply(this,arguments)}function rs(){return rs=(0,o.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return i=e.sent,e.abrupt("return",{verificationId:i.verificationId,confirm:function(e){return ts(t,i.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),rs.apply(this,arguments)}var is=function(){function e(t,n){(0,i.Z)(this,e),this.resolver=n,this.auth=Ju(t)}return(0,a.Z)(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return ts(Qu(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),as=function(){function e(t){(0,i.Z)(this,e),this._delegate=t,this.multiFactor=Gr(t)}return(0,a.Z)(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ts(this.auth,Un(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"linkWithPhoneNumber",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ns(this.auth,ta(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"linkWithPopup",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ts(this.auth,_a(this._delegate,t,Yu)));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"linkWithRedirect",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,zu(lt(this.auth));case 2:return e.abrupt("return",Ba(this._delegate,t,Yu));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ts(this.auth,jn(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return ns(this.auth,ra(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return ts(this.auth,wa(this._delegate,e,Yu))}},{key:"reauthenticateWithRedirect",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,zu(lt(this.auth));case 2:return e.abrupt("return",Fa(this._delegate,t,Yu));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sendEmailVerification",value:function(e){return yr(this._delegate,e)}},{key:"unlink",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Zn(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateEmail",value:function(e){return Er(this._delegate,e)}},{key:"updatePassword",value:function(e){return Zr(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return ua(this._delegate,e)}},{key:"updateProfile",value:function(e){return xr(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return kr(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as.USER_MAP=new WeakMap;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var os=q,us=function(){function e(t,n){if((0,i.Z)(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;os(r,"invalid-api-key",{appName:t.name}),os(r,"invalid-api-key",{appName:t.name});var a="undefined"!==typeof window?Yu:void 0;this._delegate=n.initialize({options:{persistence:cs(r,t.name),popupRedirectResolver:a}}),this._delegate._updateErrorMap(N),this.linkUnderlyingAuth()}return(0,a.Z)(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?as.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){ht(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return $n(this._delegate,e)}},{key:"checkActionCode",value:function(e){return tr(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return Jn(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ts(this._delegate,ar(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return vr(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return lr(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return os(Pu(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Ga(this._delegate,Yu);case 3:if(t=e.sent,t){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",ts(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addFrameworkForLogging",value:function(e){_u(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=ss(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=ss(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return sr(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return Yn(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:qu(this._delegate,t),e.t0=t,e.next=e.t0===ju.SESSION?4:e.t0===ju.LOCAL?6:e.t0===ju.NONE?11:13;break;case 4:return n=ei,e.abrupt("break",14);case 6:return e.next=8,H(Si)._isAvailable();case 8:return i=e.sent,n=i?Si:Xr,e.abrupt("break",14);case 11:return n=ze,e.abrupt("break",14);case 13:return e.abrupt("return",U("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return ts(this._delegate,bn(this._delegate))}},{key:"signInWithCredential",value:function(e){return ts(this._delegate,Ln(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return ts(this._delegate,zn(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return ts(this._delegate,ur(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return ts(this._delegate,fr(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return ns(this._delegate,$i(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return os(Pu(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",ts(this._delegate,ma(this._delegate,t,Yu)));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"signInWithRedirect",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return os(Pu(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,zu(this._delegate);case 3:return e.abrupt("return",La(this._delegate,t,Yu));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return rr(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function ss(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r,a=function(e){return i(e&&as.getOrCreate(e))};return{next:a,error:t,complete:n}}function cs(e,t){var n=Ku(e,t);if("undefined"===typeof self||n.includes(Si)||n.push(Si),"undefined"!==typeof window)for(var r=0,i=[Xr,ei];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(ze)||n.push(ze),n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us.Persistence=ju;var ls=function(){function e(){(0,i.Z)(this,e),this.providerId="phone",this._delegate=new ca(Qu(u.Z.auth()))}return(0,a.Z)(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return ca.credential(e,t)}}]),e}();ls.PHONE_SIGN_IN_METHOD=ca.PHONE_SIGN_IN_METHOD,ls.PROVIDER_ID=ca.PROVIDER_ID;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var fs=q,hs=function(){function e(t,n){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.Z.app();(0,i.Z)(this,e),fs(null===(r=a.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:a.name}),this._delegate=new Qi(t,n,a.auth()),this.type=this._delegate.type}return(0,a.Z)(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}(),ds="auth-compat";function ps(e){e.INTERNAL.registerComponent(new S.wA(ds,(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new us(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:C.EMAIL_SIGNIN,PASSWORD_RESET:C.PASSWORD_RESET,RECOVER_EMAIL:C.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:C.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:C.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:C.VERIFY_EMAIL}},EmailAuthProvider:an,FacebookAuthProvider:cn,GithubAuthProvider:fn,GoogleAuthProvider:ln,OAuthProvider:sn,SAMLAuthProvider:vn,PhoneAuthProvider:ls,PhoneMultiFactorGenerator:jo,RecaptchaVerifier:hs,TwitterAuthProvider:gn,Auth:us,AuthCredential:yt,Error:x.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion(xu,Iu)}ps(u.Z)},4406:function(e,t,n){"use strict";var r,i=n(5507),a=n(9110),o=n(7946),u=n(6347),s=n(3336),c=n(3087),l=n(2833),f=(n(1539),n(2472),n(8675),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),n(2222),n(8783),n(4129),n(3948),n(4916),n(5306),n(1249),n(4747),n(2661)),h=n(6334),d=n(2040),p=n(4621),v=n(124),g=n(8534),y=n(8478),m=(n(8862),n(1703),n(9714),n(8309),n(1532),n(3112),n(7042),n(9600),n(7327),n(3123),n(7601),n(2707),n(5505),n(7714),n(2801),n(1174),n(7479),n(2165),n(2526),n(1817),n(4603),n(8450),n(8386),n(9653),n(3161),n(4363),n(5994),n(9826),n(7941),n(561),n(2262),n(4506),n(4723),n(189),n(9841),n(8264),n(1038),n(2479),n(4553),n(86),n(6699),n(2023),n(489),n(4765),n(7077)),k=n(7142),w=n(5168),b=n(5287),_=(n(5837),n(3210),"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{}),x={},I=I||{},E=_||self;function Z(){}function T(e){var t=(0,s.Z)(e);return t="object"!=t?t:e?Array.isArray(e)?"array":t:"null","array"==t||"object"==t&&"number"==typeof e.length}function S(e){var t=(0,s.Z)(e);return"object"==t&&null!=e||"function"==t}function A(e){return Object.prototype.hasOwnProperty.call(e,C)&&e[C]||(e[C]=++R)}var C="closure_uid_"+(1e9*Math.random()>>>0),R=0;function O(e,t,n){return e.call.apply(e.bind,arguments)}function N(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function D(e,t,n){return D=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?O:N,D.apply(null,arguments)}function P(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function L(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function M(){this.s=this.s,this.o=this.o}var U=0,F={};M.prototype.s=!1,M.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0!=U)){var e=A(this);delete F[e]}},M.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var j=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},V=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function B(e){e:{for(var t=or,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}function q(e){return Array.prototype.concat.apply([],arguments)}function z(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function G(e){return/^[\s\xa0]*$/.test(e)}var K,H=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function W(e,t){return-1!=e.indexOf(t)}function Y(e,t){return e<t?-1:e>t?1:0}e:{var Q=E.navigator;if(Q){var J=Q.userAgent;if(J){K=J;break e}}K=""}function X(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function $(e){var t={};for(var n in e)t[n]=e[n];return t}var ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(var a=0;a<ee.length;a++)n=ee[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ne(e){return ne[" "](e),e}function re(e){var t=ge;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}ne[" "]=Z;var ie,ae=W(K,"Opera"),oe=W(K,"Trident")||W(K,"MSIE"),ue=W(K,"Edge"),se=ue||oe,ce=W(K,"Gecko")&&!(W(K.toLowerCase(),"webkit")&&!W(K,"Edge"))&&!(W(K,"Trident")||W(K,"MSIE"))&&!W(K,"Edge"),le=W(K.toLowerCase(),"webkit")&&!W(K,"Edge");function fe(){var e=E.document;return e?e.documentMode:void 0}e:{var he="",de=function(){var e=K;return ce?/rv:([^\);]+)(\)|;)/.exec(e):ue?/Edge\/([\d\.]+)/.exec(e):oe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):le?/WebKit\/(\S+)/.exec(e):ae?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(de&&(he=de?de[1]:""),oe){var pe=fe();if(null!=pe&&pe>parseFloat(he)){ie=String(pe);break e}}ie=he}var ve,ge={};function ye(){return re((function(){for(var e=0,t=H(String(ie)).split("."),n=H("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Y(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Y(0==a[2].length,0==o[2].length)||Y(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(E.document&&oe){var me=fe();ve=me||(parseInt(ie,10)||void 0)}else ve=void 0;var ke=ve,we=function(){if(!E.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{E.addEventListener("test",Z,t),E.removeEventListener("test",Z,t)}catch(n){}return e}();function be(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function _e(e,t){if(be.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ce){e:{try{ne(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:xe[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&_e.Z.h.call(this)}}be.prototype.h=function(){this.defaultPrevented=!0},L(_e,be);var xe={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Ze(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ee,this.ca=this.fa=!1}function Te(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Se(e){this.src=e,this.g={},this.h=0}function Ae(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=j(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Te(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ce(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Se.prototype.add=function(e,t,n,r,i){var a=e.toString();e=this.g[a],e||(e=this.g[a]=[],this.h++);var o=Ce(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):(t=new Ze(t,this.src,a,!!r,i),t.fa=n,e.push(t)),t};var Re="closure_lm_"+(1e6*Math.random()|0),Oe={};function Ne(e,t,n,r,i){if(r&&r.once)return Le(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ne(e,t[a],n,r,i);return null}return n=qe(n),e&&e[Ie]?e.N(t,n,S(r)?!!r.capture:!!r,i):De(e,t,n,!1,r,i)}function De(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=S(i)?!!i.capture:!!i,u=Ve(e);if(u||(e[Re]=u=new Se(e)),n=u.add(t,n,r,o,a),n.proxy)return n;if(r=Pe(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)we||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Fe(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Pe(){function e(n){return t.call(e.src,e.listener,n)}var t=je;return e}function Le(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Le(e,t[a],n,r,i);return null}return n=qe(n),e&&e[Ie]?e.O(t,n,S(r)?!!r.capture:!!r,i):De(e,t,n,!0,r,i)}function Me(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Me(e,t[a],n,r,i);else r=S(r)?!!r.capture:!!r,n=qe(n),e&&e[Ie]?(e=e.i,t=String(t).toString(),t in e.g&&(a=e.g[t],n=Ce(a,n,r,i),-1<n&&(Te(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ve(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ce(t,n,r,i)),(n=-1<e?t[e]:null)&&Ue(n))}function Ue(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Ie])Ae(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Fe(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ve(t))?(Ae(n,e),0==n.h&&(n.src=null,t[Re]=null)):Te(e)}}}function Fe(e){return e in Oe?Oe[e]:Oe[e]="on"+e}function je(e,t){if(e.ca)e=!0;else{t=new _e(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Ue(e),e=n.call(r,t)}return e}function Ve(e){return e=e[Re],e instanceof Se?e:null}var Be="__closure_events_fn_"+(1e9*Math.random()>>>0);function qe(e){return"function"===typeof e?e:(e[Be]||(e[Be]=function(t){return e.handleEvent(t)}),e[Be])}function ze(){M.call(this),this.i=new Se(this),this.P=this,this.I=null}function Ge(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new be(t,e);else if(t instanceof be)t.target=t.target||e;else{var i=t;t=new be(r,e),te(t,i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ke(o,r,!0,t)&&i}if(o=t.g=e,i=Ke(o,r,!0,t)&&i,i=Ke(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)o=t.g=n[a],i=Ke(o,r,!1,t)&&i}function Ke(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Ae(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}L(ze,M),ze.prototype[Ie]=!0,ze.prototype.removeEventListener=function(e,t,n,r){Me(this,e,t,n,r)},ze.prototype.M=function(){if(ze.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Te(n[r]);delete t.g[e],t.h--}}this.I=null},ze.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ze.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var He=E.JSON.stringify;function We(){var e=rt,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ye,Qe=function(){function e(){(0,c.Z)(this,e),this.h=this.g=null}return(0,l.Z)(e,[{key:"add",value:function(e,t){var n=Je.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Je=new(function(){function e(t,n){(0,c.Z)(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return(0,l.Z)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Xe}),(function(e){return e.reset()})),Xe=function(){function e(){(0,c.Z)(this,e),this.next=this.g=this.h=null}return(0,l.Z)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function $e(e){E.setTimeout((function(){throw e}),0)}function et(e,t){Ye||tt(),nt||(Ye(),nt=!0),rt.add(e,t)}function tt(){var e=E.Promise.resolve(void 0);Ye=function(){e.then(it)}}var nt=!1,rt=new Qe;function it(){for(var e;e=We();){try{e.h.call(e.g)}catch(n){$e(n)}var t=Je;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}nt=!1}function at(e,t){ze.call(this),this.h=e||1,this.g=t||E,this.j=D(this.kb,this),this.l=Date.now()}function ot(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function ut(e,t,n){if("function"===typeof e)n&&(e=D(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=D(e.handleEvent,e)}return 2147483647<Number(t)?-1:E.setTimeout(e,t||0)}function st(e){e.g=ut((function(){e.g=null,e.i&&(e.i=!1,st(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}L(at,ze),r=at.prototype,r.da=!1,r.S=null,r.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ge(this,"tick"),this.da&&(ot(this),this.start()))}},r.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){at.Z.M.call(this),ot(this),delete this.g};var ct=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),i=t.call(this),i.m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return(0,l.Z)(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:st(this)}},{key:"M",value:function(){(0,h.Z)((0,d.Z)(n.prototype),"M",this).call(this),this.g&&(E.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(M);function lt(e){M.call(this),this.h=e,this.g={}}L(lt,M);var ft=[];function ht(e,t,n,r){Array.isArray(n)||(n&&(ft[0]=n.toString()),n=ft);for(var i=0;i<n.length;i++){var a=Ne(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function dt(e){X(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ue(e)}),e),e.g={}}function pt(){this.g=!0}function vt(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}function gt(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}function yt(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+kt(e,n)+(r?" "+r:"")}))}function mt(e,t){e.info((function(){return"TIMEOUT: "+t}))}function kt(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return He(n)}catch(u){return t}}lt.prototype.M=function(){lt.Z.M.call(this),dt(this)},lt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pt.prototype.Aa=function(){this.g=!1},pt.prototype.info=function(){};var wt={},bt=null;function _t(){return bt=bt||new ze}function xt(e){be.call(this,wt.Ma,e)}function It(e){var t=_t();Ge(t,new xt(t,e))}function Et(e,t){be.call(this,wt.STAT_EVENT,e),this.stat=t}function Zt(e){var t=_t();Ge(t,new Et(t,e))}function Tt(e,t){be.call(this,wt.Na,e),this.size=t}function St(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return E.setTimeout((function(){e()}),t)}wt.Ma="serverreachability",L(xt,be),wt.STAT_EVENT="statevent",L(Et,be),wt.Na="timingevent",L(Tt,be);var At={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ct={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Rt(){}function Ot(e){return e.h||(e.h=e.i())}function Nt(){}Rt.prototype.h=null;var Dt,Pt={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Lt(){be.call(this,"d")}function Mt(){be.call(this,"c")}function Ut(){}function Ft(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new lt(this),this.P=Vt,e=se?125:void 0,this.W=new at(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new jt}function jt(){this.i=null,this.g="",this.h=!1}L(Lt,be),L(Mt,be),L(Ut,Rt),Ut.prototype.g=function(){return new XMLHttpRequest},Ut.prototype.i=function(){return{}},Dt=new Ut;var Vt=45e3,Bt={},qt={};function zt(e,t,n){e.K=1,e.v=gn(ln(t)),e.s=n,e.U=!0,Gt(e,null)}function Gt(e,t){e.F=Date.now(),Yt(e),e.A=ln(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Rn(n.h,"t",r),e.C=0,n=e.l.H,e.h=new jt,e.g=Mr(e.l,n?t:null,!e.s),0<e.O&&(e.L=new ct(D(e.Ia,e,e.g),e.O)),ht(e.V,e.g,"readystatechange",e.gb),t=e.H?$(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),It(1),vt(e.j,e.u,e.A,e.m,e.X,e.s)}function Kt(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Ht(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if(r=Wt(e,n),r==qt){4==t&&(e.o=4,Zt(14),i=!1),yt(e.j,e.m,null,"[Incomplete Response]");break}if(r==Bt){e.o=4,Zt(15),yt(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}yt(e.j,e.m,r,null),en(e,r)}Kt(e)&&r!=qt&&r!=Bt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Zt(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ar(t),t.L=!0,Zt(11))):(yt(e.j,e.m,n,"[Invalid Chunked Response]"),$t(e),Xt(e))}function Wt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?qt:(n=Number(t.substring(n,r)),isNaN(n)?Bt:(r+=1,r+n>t.length?qt:(t=t.substr(r,n),e.C=r+n,t)))}function Yt(e){e.Y=Date.now()+e.P,Qt(e,e.P)}function Qt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=St(D(e.eb,e),t)}function Jt(e){e.B&&(E.clearTimeout(e.B),e.B=null)}function Xt(e){0==e.l.G||e.I||Or(e.l,e)}function $t(e){Jt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ot(e.W),dt(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function en(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Fn(n.i,e)))if(n.I=e.N,!e.J&&Fn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Rr(n),kr(n)}Sr(n),Zt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=St(D(n.ab,n),6e3));if(1>=Un(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Dr(n,11)}else if((e.J||n.g==e)&&Rr(n),!G(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(W(l,"spdy")||W(l,"quic")||W(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(jn(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,vn(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var d=e;if(r.oa=Lr(r,r.H?r.la:null,r.W),d.J){Vn(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Jt(p),Yt(p)),r.g=d}else Tr(r);0<n.l.length&&_r(n)}else"stop"!=a[0]&&"close"!=a[0]||Dr(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Dr(n,7):mr(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}It(4)}catch(a){}}function tn(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(T(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function nn(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(T(e)||"string"===typeof e)V(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(T(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=tn(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function rn(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof rn)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function an(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];on(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],on(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function on(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r=Ft.prototype,r.setTimeout=function(e){this.P=e},r.gb=function(e){e=e.target;var t=this.L;t&&3==hr(e)?t.l():this.Ia(e)},r.Ia=function(e){try{if(e==this.g)e:{var t=hr(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||se||this.g&&(this.h.h||this.g.ga()||dr(this.g)))){this.I||4!=t||7==n||It(8==n||0>=r?3:2),Jt(this);var i=this.g.ba();this.N=i;t:if(Kt(this)){var a=dr(this.g);e="";var o=a.length,u=4==hr(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){$t(this),Xt(this);var s="";break t}this.h.i=new E.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,gt(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Zt(12),$t(this),Xt(this);break e}yt(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,en(this,i)}this.U?(Ht(this,t,s),se&&this.i&&3==t&&(ht(this.V,this.W,"tick",this.fb),this.W.start())):(yt(this.j,this.m,s,null),en(this,s)),4==t&&$t(this),this.i&&!this.I&&(4==t?Or(this.l,this):(this.i=!1,Yt(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Zt(12)):(this.o=0,Zt(13)),$t(this),Xt(this)}}}catch(t){}},r.fb=function(){if(this.g){var e=hr(this.g),t=this.g.ga();this.C<t.length&&(Jt(this),Ht(this,e,t),this.i&&4!=e&&Yt(this))}},r.cancel=function(){this.I=!0,$t(this)},r.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(mt(this.j,this.A),2!=this.K&&(It(3),Zt(17)),$t(this),this.o=2,Xt(this)):Qt(this,this.Y-e)},r=rn.prototype,r.R=function(){an(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},r.T=function(){return an(this),this.g.concat()},r.get=function(e,t){return on(this.h,e)?this.h[e]:t},r.set=function(e,t){on(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},r.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var un=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function sn(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function cn(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof cn){this.g=void 0!==t?t:e.g,fn(this,e.j),this.s=e.s,hn(this,e.i),dn(this,e.m),this.l=e.l,t=e.h;var n=new Tn;n.i=t.i,t.g&&(n.g=new rn(t.g),n.h=t.h),pn(this,n),this.o=e.o}else e&&(n=String(e).match(un))?(this.g=!!t,fn(this,n[1]||"",!0),this.s=kn(n[2]||""),hn(this,n[3]||"",!0),dn(this,n[4]),this.l=kn(n[5]||"",!0),pn(this,n[6]||"",!0),this.o=kn(n[7]||"")):(this.g=!!t,this.h=new Tn(null,this.g))}function ln(e){return new cn(e)}function fn(e,t,n){e.j=n?kn(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function hn(e,t,n){e.i=n?kn(t,!0):t}function dn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function pn(e,t,n){t instanceof Tn?(e.h=t,Nn(e.h,e.g)):(n||(t=wn(t,En)),e.h=new Tn(t,e.g))}function vn(e,t,n){e.h.set(t,n)}function gn(e){return vn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function yn(e){return e instanceof cn?ln(e):new cn(e,void 0)}function mn(e,t,n,r){var i=new cn(null,void 0);return e&&fn(i,e),t&&hn(i,t),n&&dn(i,n),r&&(i.l=r),i}function kn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function wn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,bn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function bn(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}cn.prototype.toString=function(){var e=[],t=this.j;t&&e.push(wn(t,_n,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(wn(t,_n,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,null!=n&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(wn(n,"/"==n.charAt(0)?In:xn,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",wn(n,Zn)),e.join("")};var _n=/[#\/\?@]/g,xn=/[#\?:]/g,In=/[#\?]/g,En=/[#\?@]/g,Zn=/#/g;function Tn(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Sn(e){e.g||(e.g=new rn,e.h=0,e.i&&sn(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function An(e,t){Sn(e),t=On(e,t),on(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,on(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&an(e)))}function Cn(e,t){return Sn(e),t=On(e,t),on(e.g.h,t)}function Rn(e,t,n){An(e,t),0<n.length&&(e.i=null,e.g.set(On(e,t),z(n)),e.h+=n.length)}function On(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Nn(e,t){t&&!e.j&&(Sn(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(An(this,t),Rn(this,n,e))}),e)),e.j=t}r=Tn.prototype,r.add=function(e,t){Sn(this),this.i=null,e=On(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){Sn(this),this.g.forEach((function(n,r){V(n,(function(n){e.call(t,n,r,this)}),this)}),this)},r.T=function(){Sn(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},r.R=function(e){Sn(this);var t=[];if("string"===typeof e)Cn(this,e)&&(t=q(t,this.g.get(On(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=q(t,e[n])}return t},r.set=function(e,t){return Sn(this),this.i=null,e=On(this,e),Cn(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Dn=(0,l.Z)((function e(t,n){(0,c.Z)(this,e),this.h=t,this.g=n}));function Pn(e){this.l=e||Ln,E.PerformanceNavigationTiming?(e=E.performance.getEntriesByType("navigation"),e=0<e.length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol)):e=!!(E.g&&E.g.Ea&&E.g.Ea()&&E.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ln=10;function Mn(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Un(e){return e.h?1:e.g?e.g.size:0}function Fn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function jn(e,t){e.g?e.g.add(t):e.h=t}function Vn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Bn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=(0,u.Z)(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return z(e.i)}function qn(){}function zn(){this.g=new qn}function Gn(e,t,n){var r=n||"";try{nn(e,(function(e,n){var i=e;S(e)&&(i=He(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Kn(e,t){var n=new pt;if(E.Image){var r=new Image;r.onload=P(Hn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=P(Hn,n,r,"TestLoadImage: error",!1,t),r.onabort=P(Hn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=P(Hn,n,r,"TestLoadImage: timeout",!1,t),E.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}function Hn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Wn(e){this.l=e.$b||null,this.j=e.ib||!1}function Yn(e,t){ze.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Qn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pn.prototype.cancel=function(){if(this.i=Bn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=(0,u.Z)(this.g.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;n.cancel()}}catch(r){t.e(r)}finally{t.f()}this.g.clear()}},qn.prototype.stringify=function(e){return E.JSON.stringify(e,void 0)},qn.prototype.parse=function(e){return E.JSON.parse(e,void 0)},L(Wn,Rt),Wn.prototype.g=function(){return new Yn(this.l,this.j)},Wn.prototype.i=function(e){return function(){return e}}({}),L(Yn,ze);var Qn=0;function Jn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Xn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,$n(e)}function $n(e){e.onreadystatechange&&e.onreadystatechange.call(e)}r=Yn.prototype,r.open=function(e,t){if(this.readyState!=Qn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,$n(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||E).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xn(this)),this.readyState=Qn},r.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof E.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Jn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},r.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Xn(this):$n(this),3==this.readyState&&Jn(this)}},r.Ua=function(e){this.g&&(this.response=this.responseText=e,Xn(this))},r.Ta=function(e){this.g&&(this.response=e,Xn(this))},r.ha=function(){this.g&&Xn(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Yn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var er=E.JSON.parse;function tr(e){ze.call(this),this.headers=new rn,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=nr,this.K=this.L=!1}L(tr,ze);var nr="",rr=/^https?$/i,ir=["POST","PUT"];function ar(e){return oe&&ye()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}function or(e){return"content-type"==e.toLowerCase()}function ur(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,sr(e),lr(e)}function sr(e){e.D||(e.D=!0,Ge(e,"complete"),Ge(e,"error"))}function cr(e){if(e.h&&"undefined"!=typeof I&&(!e.C[1]||4!=hr(e)||2!=e.ba()))if(e.v&&4==hr(e))ut(e.Fa,0,e);else if(Ge(e,"readystatechange"),4==hr(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(un)[1]||null;if(!a&&E.self&&E.self.location){var o=E.self.location.protocol;a=o.substr(0,o.length-1)}i=!rr.test(a?a.toLowerCase():"")}t=i}if(t)Ge(e,"complete"),Ge(e,"success");else{e.m=6;try{var u=2<hr(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",sr(e)}}finally{lr(e)}}}function lr(e,t){if(e.g){fr(e);var n=e.g,r=e.C[0]?Z:null;e.g=null,e.C=null,t||Ge(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function fr(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(E.clearTimeout(e.A),e.A=null)}function hr(e){return e.g?e.g.readyState:0}function dr(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case nr:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function pr(e){var t="";return X(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function vr(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=pr(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):vn(e,t,n))}function gr(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function yr(e){this.za=0,this.l=[],this.h=new pt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=gr("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=gr("baseRetryDelayMs",5e3,e),this.$a=gr("retryDelaySeedMs",1e4,e),this.Ya=gr("forwardChannelMaxRetries",2,e),this.ra=gr("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Pn(e&&e.concurrentRequestLimit),this.Ca=new zn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function mr(e){if(wr(e),3==e.G){var t=e.V++,n=ln(e.F);vn(n,"SID",e.J),vn(n,"RID",t),vn(n,"TYPE","terminate"),Er(e,n),t=new Ft(e,e.h,t,void 0),t.K=2,t.v=gn(ln(n)),n=!1,E.navigator&&E.navigator.sendBeacon&&(n=E.navigator.sendBeacon(t.v.toString(),"")),!n&&E.Image&&((new Image).src=t.v,n=!0),n||(t.g=Mr(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Yt(t)}Pr(e)}function kr(e){e.g&&(Ar(e),e.g.cancel(),e.g=null)}function wr(e){kr(e),e.u&&(E.clearTimeout(e.u),e.u=null),Rr(e),e.i.cancel(),e.m&&("number"===typeof e.m&&E.clearTimeout(e.m),e.m=null)}function br(e,t){e.l.push(new Dn(e.Za++,t)),3==e.G&&_r(e)}function _r(e){Mn(e.i)||e.m||(e.m=!0,et(e.Ha,e),e.C=0)}function xr(e,t){return!(Un(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=St(D(e.Ha,e,t),Nr(e,e.C)),e.C++,!0))}function Ir(e,t){var n;n=t?t.m:e.V++;var r=ln(e.F);vn(r,"SID",e.J),vn(r,"RID",n),vn(r,"AID",e.U),Er(e,r),e.o&&e.s&&vr(r,e.o,e.s),n=new Ft(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Zr(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),jn(e.i,n),zt(n,r,t)}function Er(e,t){e.j&&nn({},(function(e,n){vn(t,n,e)}))}function Zr(e,t,n){n=Math.min(e.l.length,n);var r=e.j?D(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(c-=a,0>c)a=Math.max(0,i[s].h-100),u=!1;else try{Gn(l,o,"req"+c+"_")}catch(di){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Tr(e){e.g||e.u||(e.Y=1,et(e.Ga,e),e.A=0)}function Sr(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=St(D(e.Ga,e),Nr(e,e.A)),e.A++,!0)}function Ar(e){null!=e.B&&(E.clearTimeout(e.B),e.B=null)}function Cr(e){e.g=new Ft(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=ln(e.oa);vn(t,"RID","rpc"),vn(t,"SID",e.J),vn(t,"CI",e.N?"0":"1"),vn(t,"AID",e.U),Er(e,t),vn(t,"TYPE","xmlhttp"),e.o&&e.s&&vr(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=gn(ln(t)),n.s=null,n.U=!0,Gt(n,e)}function Rr(e){null!=e.v&&(E.clearTimeout(e.v),e.v=null)}function Or(e,t){var n=null;if(e.g==t){Rr(e),Ar(e),e.g=null;var r=2}else{if(!Fn(e.i,t))return;n=t.D,Vn(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=_t(),Ge(r,new Tt(r,n,t,i)),_r(e)}else Tr(e);else if(i=t.o,3==i||0==i&&0<e.I||!(1==r&&xr(e,t)||2==r&&Sr(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Dr(e,5);break;case 4:Dr(e,10);break;case 3:Dr(e,6);break;default:Dr(e,2)}}function Nr(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Dr(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=D(e.jb,e);n||(n=new cn("//www.google.com/images/cleardot.gif"),E.location&&"http"==E.location.protocol||fn(n,"https"),gn(n)),Kn(n.toString(),r)}else Zt(2);e.G=0,e.j&&e.j.va(t),Pr(e),wr(e)}function Pr(e){e.G=0,e.I=-1,e.j&&(0==Bn(e.i).length&&0==e.l.length||(e.i.i.length=0,z(e.l),e.l.length=0),e.j.ua())}function Lr(e,t,n){var r=yn(n);if(""!=r.i)t&&hn(r,t+"."+r.i),dn(r,r.m);else{var i=E.location;r=mn(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&X(e.aa,(function(e,t){vn(r,t,e)})),t=e.D,n=e.sa,t&&n&&vn(r,t,n),vn(r,"VER",e.ma),Er(e,r),r}function Mr(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new tr(new Wn({ib:!0})):new tr(e.qa),t.L=e.H,t}function Ur(){}function Fr(){if(oe&&!(10<=Number(ke)))throw Error("Environmental error: no available transport.")}function jr(e,t){ze.call(this),this.g=new yr(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!G(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!G(t)&&(this.g.D=t,e=this.h,null!==e&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new qr(this)}function Vr(e){Lt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Br(){Mt.call(this),this.status=1}function qr(e){this.g=e}r=tr.prototype,r.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Dt.g(),this.C=this.u?Ot(this.u):Ot(Dt),this.g.onreadystatechange=D(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void ur(this,a)}e=n||"";var i=new rn(this.headers);r&&nn(r,(function(e,t){i.set(t,e)})),r=B(i.T()),n=E.FormData&&e instanceof E.FormData,!(0<=j(ir,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fr(this),0<this.B&&((this.K=ar(this.g))?(this.g.timeout=this.B,this.g.ontimeout=D(this.pa,this)):this.A=ut(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){ur(this,a)}},r.pa=function(){"undefined"!=typeof I&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ge(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ge(this,"complete"),Ge(this,"abort"),lr(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lr(this,!0)),tr.Z.M.call(this)},r.Fa=function(){this.s||(this.F||this.v||this.l?cr(this):this.cb())},r.cb=function(){cr(this)},r.ba=function(){try{return 2<hr(this)?this.g.status:-1}catch(e){return-1}},r.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},r.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),er(t)}},r.Da=function(){return this.m},r.La=function(){return"string"===typeof this.j?this.j:String(this.j)},r=yr.prototype,r.ma=8,r.G=1,r.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},r.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Ft(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=$(n),te(n,this.P)):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(a="__data__"in a.g&&(a=a.g.__data__,"string"===typeof a)?a.length:void 0,void 0===a)break;if(r+=a,4096<r){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Zr(this,t,r),i=ln(this.F),vn(i,"RID",e),vn(i,"CVER",22),this.D&&vn(i,"X-HTTP-Session-Id",this.D),Er(this,i),this.o&&n&&vr(i,this.o,n),jn(this.i,t),this.Ra&&vn(i,"TYPE","init"),this.ja?(vn(i,"$req",r),vn(i,"SID","null"),t.$=!0,zt(t,i,null)):zt(t,i,r),this.G=2}}else 3==this.G&&(e?Ir(this,e):0==this.l.length||Mn(this.i)||Ir(this))},r.Ga=function(){if(this.u=null,Cr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=St(D(this.bb,this),e)}},r.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Zt(10),kr(this),Cr(this))},r.ab=function(){null!=this.v&&(this.v=null,kr(this),Sr(this),Zt(19))},r.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Zt(2)):(this.h.info("Failed to ping google.com"),Zt(1))},r=Ur.prototype,r.xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Oa=function(){},Fr.prototype.g=function(e,t){return new jr(e,t)},L(jr,ze),jr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),et(D(e.hb,e,t))),Zt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Lr(e,null,e.W),_r(e)},jr.prototype.close=function(){mr(this.g)},jr.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,br(this.g,t)}else this.v?(t={},t.__data__=He(e),br(this.g,t)):br(this.g,e)},jr.prototype.M=function(){this.g.j=null,delete this.j,mr(this.g),delete this.g,jr.Z.M.call(this)},L(Vr,Lt),L(Br,Mt),L(qr,Ur),qr.prototype.xa=function(){Ge(this.g,"a")},qr.prototype.wa=function(e){Ge(this.g,new Vr(e))},qr.prototype.va=function(e){Ge(this.g,new Br(e))},qr.prototype.ua=function(){Ge(this.g,"b")},Fr.prototype.createWebChannel=Fr.prototype.g,jr.prototype.send=jr.prototype.u,jr.prototype.open=jr.prototype.m,jr.prototype.close=jr.prototype.close,At.NO_ERROR=0,At.TIMEOUT=8,At.HTTP_ERROR=6,Ct.COMPLETE="complete",Nt.EventType=Pt,Pt.OPEN="a",Pt.CLOSE="b",Pt.ERROR="c",Pt.MESSAGE="d",ze.prototype.listen=ze.prototype.N,tr.prototype.listenOnce=tr.prototype.O,tr.prototype.getLastError=tr.prototype.La,tr.prototype.getLastErrorCode=tr.prototype.Da,tr.prototype.getStatus=tr.prototype.ba,tr.prototype.getResponseJson=tr.prototype.Qa,tr.prototype.getResponseText=tr.prototype.ga,tr.prototype.send=tr.prototype.ea;var zr=x.createWebChannelTransport=function(){return new Fr},Gr=x.getStatEventTarget=function(){return _t()},Kr=x.ErrorCode=At,Hr=x.EventType=Ct,Wr=x.Event=wt,Yr=x.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Qr=x.FetchXmlHttpFactory=Wn,Jr=x.WebChannel=Nt,Xr=x.XhrIo=tr,$r="@firebase/firestore",ei=function(){function e(t){(0,c.Z)(this,e),this.uid=t}return(0,l.Z)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();ei.UNAUTHENTICATED=new ei(null),ei.GOOGLE_CREDENTIALS=new ei("google-credentials-uid"),ei.FIRST_PARTY=new ei("first-party-uid"),ei.MOCK_USER=new ei("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ti="9.8.0",ni=new w.Yd("@firebase/firestore");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return ni.logLevel}function ii(e){ni.setLogLevel(e)}function ai(e){if(ni.logLevel<=w["in"].DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(si);ni.debug.apply(ni,["Firestore (".concat(ti,"): ").concat(e)].concat((0,y.Z)(i)))}}function oi(e){if(ni.logLevel<=w["in"].ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(si);ni.error.apply(ni,["Firestore (".concat(ti,"): ").concat(e)].concat((0,y.Z)(i)))}}function ui(e){if(ni.logLevel<=w["in"].WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(si);ni.warn.apply(ni,["Firestore (".concat(ti,"): ").concat(e)].concat((0,y.Z)(i)))}}function si(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(ti,") INTERNAL ASSERTION FAILED: ")+e;throw oi(t),new Error(t)}function li(e,t){e||ci()}function fi(e,t){e||ci()}function hi(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var di={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},pi=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),i=t.call(this,e,r),i.code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return(0,l.Z)(n)}(b.ZR),vi=(0,l.Z)((function e(){var t=this;(0,c.Z)(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),gi=(0,l.Z)((function e(t,n){(0,c.Z)(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),yi=function(){function e(){(0,c.Z)(this,e)}return(0,l.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ei.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),mi=function(){function e(t){(0,c.Z)(this,e),this.token=t,this.changeListener=null}return(0,l.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),ki=function(){function e(t){(0,c.Z)(this,e),this.t=t,this.currentUser=ei.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return(0,l.Z)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new vi;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new vi,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable((0,g.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){ai("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(ai("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new vi)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(ai("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(li("string"==typeof n.accessToken),new gi(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return li(null===e||"string"==typeof e),new ei(e)}}]),e}(),wi=(0,l.Z)((function e(t,n,r){(0,c.Z)(this,e),this.type="FirstParty",this.user=ei.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),bi=function(){function e(t,n,r){(0,c.Z)(this,e),this.h=t,this.l=n,this.m=r}return(0,l.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(new wi(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ei.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),_i=(0,l.Z)((function e(t){(0,c.Z)(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),xi=function(){function e(t){(0,c.Z)(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return(0,l.Z)(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&ai("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,ai("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){ai("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):ai("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(li("string"==typeof t.token),e.p=t.token,new _i(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Ii=function(){function e(t,n){var r=this;(0,c.Z)(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return(0,l.Z)(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ei(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ii.A=-1;var Zi=function(){function e(){(0,c.Z)(this,e)}return(0,l.Z)(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ei(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Ti(e,t){return e<t?-1:e>t?1:0}function Si(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ai(e){return e+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ci=function(){function e(t,n){if((0,c.Z)(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new pi(di.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pi(di.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new pi(di.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pi(di.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return(0,l.Z)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Ti(this.nanoseconds,e.nanoseconds):Ti(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new e(n,r)}}]),e}(),Ri=function(){function e(t){(0,c.Z)(this,e),this.timestamp=t}return(0,l.Z)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Ci(0,0))}},{key:"max",value:function(){return new e(new Ci(253402300799,999999999))}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Oi(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ni(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Di(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pi=function(){function e(t,n,r){(0,c.Z)(this,e),void 0===n?n=0:n>t.length&&ci(),void 0===r?r=t.length-n:r>t.length-n&&ci(),this.segments=t,this.offset=n,this.len=r}return(0,l.Z)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Li=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new pi(di.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,y.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Pi),Mi=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ui=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Mi.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new pi(di.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new pi(di.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new pi(di.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new pi(di.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Pi),Fi=function(){function e(t){(0,c.Z)(this,e),this.fields=t,t.sort(Ui.comparator)}return(0,l.Z)(e,[{key:"covers",value:function(e){var t,n=(0,u.Z)(this.fields);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.isPrefixOf(e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Si(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(){return"undefined"!=typeof atob}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vi=function(e){function t(e){(0,c.Z)(this,t),this.binaryString=e}return(0,l.Z)(t,[{key:e,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Ti(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=atob(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}(Symbol.iterator);Vi.EMPTY_BYTE_STRING=new Vi("");var Bi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(e){if(li(!!e),"string"==typeof e){var t=0,n=Bi.exec(e);if(li(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:zi(e.seconds),nanos:zi(e.nanos)}}function zi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Gi(e){return"string"==typeof e?Vi.fromBase64String(e):Vi.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Hi(e){var t=e.mapValue.fields.__previous_value__;return Ki(t)?Hi(t):t}function Wi(e){var t=qi(e.mapValue.fields.__local_write_time__.timestampValue);return new Ci(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yi=(0,l.Z)((function e(t,n,r,i,a,o,u,s){(0,c.Z)(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Qi=function(){function e(t,n){(0,c.Z)(this,e),this.projectId=t,this.database=n||"(default)"}return(0,l.Z)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ji(e){return null==e}function Xi(e){return 0===e&&1/e==-1/0}function $i(e){return"number"==typeof e&&Number.isInteger(e)&&!Xi(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ea=function(){function e(t){(0,c.Z)(this,e),this.path=t}return(0,l.Z)(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Li.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Li.fromString(t))}},{key:"fromName",value:function(t){return new e(Li.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Li.emptyPath())}},{key:"comparator",value:function(e,t){return Li.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Li(t.slice()))}}]),e}(),ta={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},na={nullValue:"NULL_VALUE"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ki(e)?4:ya(e)?9007199254740991:10:ci()}function ia(e,t){if(e===t)return!0;var n=ra(e);if(n!==ra(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Wi(e).isEqual(Wi(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=qi(e.timestampValue),r=qi(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Gi(e.bytesValue).isEqual(Gi(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return zi(e.geoPointValue.latitude)===zi(t.geoPointValue.latitude)&&zi(e.geoPointValue.longitude)===zi(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return zi(e.integerValue)===zi(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=zi(e.doubleValue),r=zi(t.doubleValue);return n===r?Xi(n)===Xi(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Si(e.arrayValue.values||[],t.arrayValue.values||[],ia);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Oi(n)!==Oi(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ia(n[i],r[i])))return!1;return!0}(e,t);default:return ci()}}function aa(e,t){return void 0!==(e.values||[]).find((function(e){return ia(e,t)}))}function oa(e,t){if(e===t)return 0;var n=ra(e),r=ra(t);if(n!==r)return Ti(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ti(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=zi(e.integerValue||e.doubleValue),r=zi(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ua(e.timestampValue,t.timestampValue);case 4:return ua(Wi(e),Wi(t));case 5:return Ti(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Gi(e),r=Gi(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Ti(n[i],r[i]);if(0!==a)return a}return Ti(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Ti(zi(e.latitude),zi(t.latitude));return 0!==n?n:Ti(zi(e.longitude),zi(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=oa(n[i],r[i]);if(a)return a}return Ti(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ta.mapValue&&t===ta.mapValue)return 0;if(e===ta.mapValue)return 1;if(t===ta.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Ti(r[o],a[o]);if(0!==u)return u;var s=oa(n[r[o]],i[a[o]]);if(0!==s)return s}return Ti(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ci()}}function ua(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ti(e,t);var n=qi(e),r=qi(t),i=Ti(n.seconds,r.seconds);return 0!==i?i:Ti(n.nanos,r.nanos)}function sa(e){return ca(e)}function ca(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=qi(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Gi(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ea.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=(0,u.Z)(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ca(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n=Object.keys(e.fields||{}).sort(),r="{",i=!0,a=(0,u.Z)(n);try{for(a.s();!(t=a.n()).done;){var o=t.value;i?i=!1:r+=",",r+="".concat(o,":").concat(ca(e.fields[o]))}}catch(s){a.e(s)}finally{a.f()}return r+"}"}(e.mapValue):ci();var t,n}function la(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function fa(e){return!!e&&"integerValue"in e}function ha(e){return!!e&&"arrayValue"in e}function da(e){return!!e&&"nullValue"in e}function pa(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function va(e){return!!e&&"mapValue"in e}function ga(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==(0,s.Z)(e.timestampValue))return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ni(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=ga(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ga(e.arrayValue.values[r]);return n}return Object.assign({},e)}function ya(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ma(e){return"nullValue"in e?na:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?la(Qi.empty(),ea.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:ci()}function ka(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?la(Qi.empty(),ea.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?ta:ci()}function wa(e,t){var n=oa(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function ba(e,t){var n=oa(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _a=function(){function e(t){(0,c.Z)(this,e),this.value=t}return(0,l.Z)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!va(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ga(t)}},{key:"setAll",value:function(e){var t=this,n=Ui.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=ga(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());va(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return ia(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];va(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ni(t,(function(t,n){return e[t]=n}));var r,i=(0,u.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(ga(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function xa(e){var t=[];return Ni(e.fields,(function(e,n){var r=new Ui([e]);if(va(n)){var i=xa(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=(0,u.Z)(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(c){o.e(c)}finally{o.f()}}}else t.push(r)})),new Fi(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Ia=function(){function e(t,n,r,i,a,o){(0,c.Z)(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return(0,l.Z)(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=_a.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=_a.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Ri.min(),Ri.min(),_a.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Ri.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Ri.min(),_a.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Ri.min(),_a.empty(),2)}}]),e}(),Ea=(0,l.Z)((function e(t,n,r,i){(0,c.Z)(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Za(e){return e.fields.find((function(e){return 2===e.kind}))}function Ta(e){return e.fields.filter((function(e){return 2!==e.kind}))}Ea.UNKNOWN_ID=-1;var Sa=(0,l.Z)((function e(t,n){(0,c.Z)(this,e),this.fieldPath=t,this.kind=n})),Aa=function(){function e(t,n){(0,c.Z)(this,e),this.sequenceNumber=t,this.offset=n}return(0,l.Z)(e,null,[{key:"empty",value:function(){return new e(0,Oa.min())}}]),e}();function Ca(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ri.fromTimestamp(1e9===r?new Ci(n+1,0):new Ci(n,r));return new Oa(i,ea.empty(),t)}function Ra(e){return new Oa(e.readTime,e.key,-1)}var Oa=function(){function e(t,n,r){(0,c.Z)(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return(0,l.Z)(e,null,[{key:"min",value:function(){return new e(Ri.min(),ea.empty(),-1)}},{key:"max",value:function(){return new e(Ri.max(),ea.empty(),-1)}}]),e}();function Na(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ea.comparator(e.documentKey,t.documentKey),0!==n?n:Ti(e.largestBatchId,t.largestBatchId))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Da=function(){function e(t,n){(0,c.Z)(this,e),this.comparator=t,this.root=n||La.EMPTY}return(0,l.Z)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,La.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,La.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Pa(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Pa(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Pa(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Pa(this.root,e,this.comparator,!0)}}]),e}(),Pa=function(){function e(t,n,r,i){(0,c.Z)(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return(0,l.Z)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),La=function(){function e(t,n,r,i,a){(0,c.Z)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return(0,l.Z)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ci();if(this.right.isRed())throw ci();var e=this.left.check();if(e!==this.right.check())throw ci();return e+(this.isRed()?0:1)}}]),e}();La.EMPTY=null,La.RED=!0,La.BLACK=!1,La.EMPTY=new(function(){function e(){(0,c.Z)(this,e),this.size=0}return(0,l.Z)(e,[{key:"key",get:function(){throw ci()}},{key:"value",get:function(){throw ci()}},{key:"color",get:function(){throw ci()}},{key:"left",get:function(){throw ci()}},{key:"right",get:function(){throw ci()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new La(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ma=function(){function e(t){(0,c.Z)(this,e),this.comparator=t,this.data=new Da(this.comparator)}return(0,l.Z)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Ua(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Ua(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Ua=function(){function e(t){(0,c.Z)(this,e),this.iter=t}return(0,l.Z)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Fa(e){return e.hasNext()?e.getNext():void 0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ja=(0,l.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;(0,c.Z)(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function Va(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new ja(e,t,n,r,i,a,o)}function Ba(e){var t=hi(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+sa(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ji(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return sa(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return sa(e)})).join(",")),t.P=n}return t.P}function qa(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(sa(t.value));var t})).join(", "),"]")),Ji(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return sa(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return sa(e)})).join(",")),"Target(".concat(t,")")}function za(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!oo(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!ia(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!so(e.startAt,t.startAt)&&so(e.endAt,t.endAt)}function Ga(e){return ea.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ka(e,t){return e.filters.filter((function(e){return e instanceof Ya&&e.field.isEqual(t)}))}function Ha(e,t,n){var r,i=na,a=!0,o=(0,u.Z)(Ka(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,c=na,l=!0;switch(s.op){case"<":case"<=":c=ma(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,l=!1;break;case"!=":case"not-in":c=na}wa({value:i,inclusive:a},{value:c,inclusive:l})<0&&(i=c,a=l)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var f=0;f<e.orderBy.length;++f)if(e.orderBy[f].field.isEqual(t)){var h=n.position[f];wa({value:i,inclusive:a},{value:h,inclusive:n.inclusive})<0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}function Wa(e,t,n){var r,i=ta,a=!0,o=(0,u.Z)(Ka(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,c=ta,l=!0;switch(s.op){case">=":case">":c=ka(s.value),l=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,l=!1;break;case"!=":case"not-in":c=ta}ba({value:i,inclusive:a},{value:c,inclusive:l})>0&&(i=c,a=l)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var f=0;f<e.orderBy.length;++f)if(e.orderBy[f].field.isEqual(t)){var h=n.position[f];ba({value:i,inclusive:a},{value:h,inclusive:n.inclusive})>0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}var Ya=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),a=t.call(this),a.field=e,a.op=r,a.value=i,a}return(0,l.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(oa(t,this.value)):null!==t&&ra(this.value)===ra(t)&&this.v(oa(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ci()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Qa(e,t,r):"array-contains"===t?new eo(e,r):"in"===t?new to(e,r):"not-in"===t?new no(e,r):"array-contains-any"===t?new ro(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Ja(e,n):new Xa(e,n)}}]),n}(function(){function e(){(0,c.Z)(this,e)}return(0,l.Z)(e)}()),Qa=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),a=t.call(this,e,r,i),a.key=ea.fromName(i.referenceValue),a}return(0,l.Z)(n,[{key:"matches",value:function(e){var t=ea.comparator(e.key,this.key);return this.v(t)}}]),n}(Ya),Ja=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),i=t.call(this,e,"in",r),i.keys=$a("in",r),i}return(0,l.Z)(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ya),Xa=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),i=t.call(this,e,"not-in",r),i.keys=$a("not-in",r),i}return(0,l.Z)(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ya);function $a(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ea.fromName(e.referenceValue)}))}var eo=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){return(0,c.Z)(this,n),t.call(this,e,"array-contains",r)}return(0,l.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ha(t)&&aa(t.arrayValue,this.value)}}]),n}(Ya),to=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){return(0,c.Z)(this,n),t.call(this,e,"in",r)}return(0,l.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&aa(this.value.arrayValue,t)}}]),n}(Ya),no=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){return(0,c.Z)(this,n),t.call(this,e,"not-in",r)}return(0,l.Z)(n,[{key:"matches",value:function(e){if(aa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!aa(this.value.arrayValue,t)}}]),n}(Ya),ro=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){return(0,c.Z)(this,n),t.call(this,e,"array-contains-any",r)}return(0,l.Z)(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ha(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return aa(t.value.arrayValue,e)}))}}]),n}(Ya),io=(0,l.Z)((function e(t,n){(0,c.Z)(this,e),this.position=t,this.inclusive=n})),ao=(0,l.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";(0,c.Z)(this,e),this.field=t,this.dir=n}));function oo(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function uo(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?ea.comparator(ea.fromName(o.referenceValue),n.key):oa(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function so(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ia(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var co=(0,l.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;(0,c.Z)(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function lo(e,t,n,r,i,a,o,u){return new co(e,t,n,r,i,a,o,u)}function fo(e){return new co(e)}function ho(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function po(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function vo(e){var t,n=(0,u.Z)(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function go(e){return null!==e.collectionGroup}function yo(e){var t=hi(e);if(null===t.D){t.D=[];var n=vo(t),r=po(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new ao(n)),t.D.push(new ao(Ui.keyField(),"asc"));else{var i,a=!1,o=(0,u.Z)(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.D.push(s),s.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new ao(Ui.keyField(),c))}}}return t.D}function mo(e){var t=hi(e);if(!t.C)if("F"===t.limitType)t.C=Va(t.path,t.collectionGroup,yo(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=(0,u.Z)(yo(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new ao(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var s=t.endAt?new io(t.endAt.position,t.endAt.inclusive):null,c=t.startAt?new io(t.startAt.position,t.startAt.inclusive):null;t.C=Va(t.path,t.collectionGroup,r,t.filters,t.limit,s,c)}return t.C}function ko(e,t,n){return new co(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function wo(e,t){return za(mo(e),mo(t))&&e.limitType===t.limitType}function bo(e){return"".concat(Ba(mo(e)),"|lt:").concat(e.limitType)}function _o(e){return"Query(target=".concat(qa(mo(e)),"; limitType=").concat(e.limitType,")")}function xo(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ea.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=(0,u.Z)(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=(0,u.Z)(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.matches(t))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=uo(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,yo(e),t))&&!(e.endAt&&!function(e,t,n){var r=uo(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,yo(e),t))}(e,t)}function Io(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Eo(e){return function(t,n){var r,i=!1,a=(0,u.Z)(yo(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Zo(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(c){a.e(c)}finally{a.f()}return 0}}function Zo(e,t,n){var r=e.field.isKeyField()?ea.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?oa(r,i):ci()}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ci()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xi(t)?"-0":t}}function So(e){return{integerValue:""+e}}function Ao(e,t){return $i(t)?So(t):To(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Co=(0,l.Z)((function e(){(0,c.Z)(this,e),this._=void 0}));function Ro(e,t,n){return e instanceof Do?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Po?Lo(e,t):e instanceof Mo?Uo(e,t):function(e,t){var n=No(e,t),r=jo(n)+jo(e.k);return fa(n)&&fa(e.k)?So(r):To(e.M,r)}(e,t)}function Oo(e,t,n){return e instanceof Po?Lo(e,t):e instanceof Mo?Uo(e,t):n}function No(e,t){return e instanceof Fo?fa(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Do=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n)}(Co),Po=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r;return(0,c.Z)(this,n),r=t.call(this),r.elements=e,r}return(0,l.Z)(n)}(Co);function Lo(e,t){var n,r=Vo(t),i=(0,u.Z)(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return ia(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Mo=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r;return(0,c.Z)(this,n),r=t.call(this),r.elements=e,r}return(0,l.Z)(n)}(Co);function Uo(e,t){var n,r=Vo(t),i=(0,u.Z)(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!ia(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Fo=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),i=t.call(this),i.M=e,i.k=r,i}return(0,l.Z)(n)}(Co);function jo(e){return zi(e.integerValue||e.doubleValue)}function Vo(e){return ha(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bo=(0,l.Z)((function e(t,n){(0,c.Z)(this,e),this.field=t,this.transform=n}));function qo(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Po&&t instanceof Po||e instanceof Mo&&t instanceof Mo?Si(e.elements,t.elements,ia):e instanceof Fo&&t instanceof Fo?ia(e.k,t.k):e instanceof Do&&t instanceof Do}(e.transform,t.transform)}var zo=(0,l.Z)((function e(t,n){(0,c.Z)(this,e),this.version=t,this.transformResults=n})),Go=function(){function e(t,n){(0,c.Z)(this,e),this.updateTime=t,this.exists=n}return(0,l.Z)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Ko(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Ho=(0,l.Z)((function e(){(0,c.Z)(this,e)}));function Wo(e,t,n){e instanceof $o?function(e,t,n){var r=e.value.clone(),i=nu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof eu?function(e,t,n){if(Ko(e.precondition,t)){var r=nu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(tu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Yo(e,t,n){e instanceof $o?function(e,t,n){if(Ko(e.precondition,t)){var r=e.value.clone(),i=ru(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Xo(t),r).setHasLocalMutations()}}(e,t,n):e instanceof eu?function(e,t,n){if(Ko(e.precondition,t)){var r=ru(e.fieldTransforms,n,t),i=t.data;i.setAll(tu(e)),i.setAll(r),t.convertToFoundDocument(Xo(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Ko(e.precondition,t)&&t.convertToNoDocument(Ri.min())}(e,t)}function Qo(e,t){var n,r=null,i=(0,u.Z)(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=No(a.transform,o||null);null!=s&&(null==r&&(r=_a.empty()),r.set(a.field,s))}}catch(c){i.e(c)}finally{i.f()}return r||null}function Jo(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Si(e,t,(function(e,t){return qo(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Xo(e){return e.isFoundDocument()?e.version:Ri.min()}var $o=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return(0,c.Z)(this,n),a=t.call(this),a.key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return(0,l.Z)(n)}(Ho),eu=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return(0,c.Z)(this,n),o=t.call(this),o.key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return(0,l.Z)(n)}(Ho);function tu(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function nu(e,t,n){var r=new Map;li(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Oo(o,u,n[i]))}return r}function ru(e,t,n){var r,i=new Map,a=(0,u.Z)(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,c=n.data.field(o.field);i.set(o.field,Ro(s,c,t))}}catch(l){a.e(l)}finally{a.f()}return i}var iu,au,ou=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),i=t.call(this),i.key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return(0,l.Z)(n)}(Ho),uu=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),i=t.call(this),i.key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return(0,l.Z)(n)}(Ho),su=(0,l.Z)((function e(t){(0,c.Z)(this,e),this.count=t}));function cu(e){switch(e){default:return ci();case di.CANCELLED:case di.UNKNOWN:case di.DEADLINE_EXCEEDED:case di.RESOURCE_EXHAUSTED:case di.INTERNAL:case di.UNAVAILABLE:case di.UNAUTHENTICATED:return!1;case di.INVALID_ARGUMENT:case di.NOT_FOUND:case di.ALREADY_EXISTS:case di.PERMISSION_DENIED:case di.FAILED_PRECONDITION:case di.ABORTED:case di.OUT_OF_RANGE:case di.UNIMPLEMENTED:case di.DATA_LOSS:return!0}}function lu(e){if(void 0===e)return oi("GRPC error has no .code"),di.UNKNOWN;switch(e){case iu.OK:return di.OK;case iu.CANCELLED:return di.CANCELLED;case iu.UNKNOWN:return di.UNKNOWN;case iu.DEADLINE_EXCEEDED:return di.DEADLINE_EXCEEDED;case iu.RESOURCE_EXHAUSTED:return di.RESOURCE_EXHAUSTED;case iu.INTERNAL:return di.INTERNAL;case iu.UNAVAILABLE:return di.UNAVAILABLE;case iu.UNAUTHENTICATED:return di.UNAUTHENTICATED;case iu.INVALID_ARGUMENT:return di.INVALID_ARGUMENT;case iu.NOT_FOUND:return di.NOT_FOUND;case iu.ALREADY_EXISTS:return di.ALREADY_EXISTS;case iu.PERMISSION_DENIED:return di.PERMISSION_DENIED;case iu.FAILED_PRECONDITION:return di.FAILED_PRECONDITION;case iu.ABORTED:return di.ABORTED;case iu.OUT_OF_RANGE:return di.OUT_OF_RANGE;case iu.UNIMPLEMENTED:return di.UNIMPLEMENTED;case iu.DATA_LOSS:return di.DATA_LOSS;default:return ci()}}(au=iu||(iu={}))[au.OK=0]="OK",au[au.CANCELLED=1]="CANCELLED",au[au.UNKNOWN=2]="UNKNOWN",au[au.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",au[au.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",au[au.NOT_FOUND=5]="NOT_FOUND",au[au.ALREADY_EXISTS=6]="ALREADY_EXISTS",au[au.PERMISSION_DENIED=7]="PERMISSION_DENIED",au[au.UNAUTHENTICATED=16]="UNAUTHENTICATED",au[au.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",au[au.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",au[au.ABORTED=10]="ABORTED",au[au.OUT_OF_RANGE=11]="OUT_OF_RANGE",au[au.UNIMPLEMENTED=12]="UNIMPLEMENTED",au[au.INTERNAL=13]="INTERNAL",au[au.UNAVAILABLE=14]="UNAVAILABLE",au[au.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var fu=function(){function e(t,n){(0,c.Z)(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return(0,l.Z)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=(0,u.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=(0,p.Z)(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Ni(this.inner,(function(t,n){var r,i=(0,u.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=(0,p.Z)(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Di(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),hu=new Da(ea.comparator);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(){return hu}var pu=new Da(ea.comparator);function vu(){for(var e=pu,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function gu(){return new fu((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var yu=new Da(ea.comparator),mu=new Ma(ea.comparator);function ku(){for(var e=mu,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var wu=new Ma(Ti);function bu(){return wu}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _u=function(){function e(t,n,r,i,a){(0,c.Z)(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return(0,l.Z)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,xu.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Ri.min(),r,bu(),du(),ku())}}]),e}(),xu=function(){function e(t,n,r,i,a){(0,c.Z)(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return(0,l.Z)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Vi.EMPTY_BYTE_STRING,n,ku(),ku(),ku())}}]),e}(),Iu=(0,l.Z)((function e(t,n,r,i){(0,c.Z)(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),Eu=(0,l.Z)((function e(t,n){(0,c.Z)(this,e),this.targetId=t,this.$=n})),Zu=(0,l.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vi.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,c.Z)(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Tu=function(){function e(){(0,c.Z)(this,e),this.B=0,this.L=Cu(),this.U=Vi.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return(0,l.Z)(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=ku(),t=ku(),n=ku();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ci()}})),new xu(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Cu()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),Su=function(){function e(t){(0,c.Z)(this,e),this.nt=t,this.st=new Map,this.it=du(),this.rt=Au(),this.ot=new Ma(Ti)}return(0,l.Z)(e,[{key:"ut",value:function(e){var t,n=(0,u.Z)(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(s){n.e(s)}finally{n.f()}var i,a=(0,u.Z)(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:ci()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(Ga(i))if(0===n){var a=new ea(i.path);this.ct(t,a,Ia.newNoDocument(a,Ri.min()))}else li(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Ga(a.target)){var o=new ea(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Ia.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=ku();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new _u(e,n,this.ot,this.it,r);return this.it=du(),this.rt=Au(),this.ot=new Ma(Ti),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Tu,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Ma(Ti),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||ai("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Tu),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Au(){return new Da(ea.comparator)}function Cu(){return new Da(ea.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ru=function(){var e={asc:"ASCENDING",desc:"DESCENDING"};return e}(),Ou=function(){var e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};return e}(),Nu=(0,l.Z)((function e(t,n){(0,c.Z)(this,e),this.databaseId=t,this.N=n}));function Du(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Pu(e,t){return e.N?t.toBase64():t.toUint8Array()}function Lu(e,t){return Du(e,t.toTimestamp())}function Mu(e){return li(!!e),Ri.fromTimestamp(function(e){var t=qi(e);return new Ci(t.seconds,t.nanos)}(e))}function Uu(e,t){return function(e){return new Li(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Fu(e){var t=Li.fromString(e);return li(fs(t)),t}function ju(e,t){return Uu(e.databaseId,t.path)}function Vu(e,t){var n=Fu(t);if(n.get(1)!==e.databaseId.projectId)throw new pi(di.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new pi(di.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ea(Gu(n))}function Bu(e,t){return Uu(e.databaseId,t)}function qu(e){var t=Fu(e);return 4===t.length?Li.emptyPath():Gu(t)}function zu(e){return new Li(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Gu(e){return li(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ku(e,t,n){return{name:ju(e,t),fields:n.value.mapValue.fields}}function Hu(e,t,n){var r=Vu(e,t.name),i=Mu(t.updateTime),a=new _a({mapValue:{fields:t.fields}}),o=Ia.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Wu(e,t){return"found"in t?function(e,t){li(!!t.found),t.found.name,t.found.updateTime;var n=Vu(e,t.found.name),r=Mu(t.found.updateTime),i=new _a({mapValue:{fields:t.found.fields}});return Ia.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){li(!!t.missing),li(!!t.readTime);var n=Vu(e,t.missing),r=Mu(t.readTime);return Ia.newNoDocument(n,r)}(e,t):ci()}function Yu(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ci()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(li(void 0===t||"string"==typeof t),Vi.fromBase64String(t||"")):(li(void 0===t||t instanceof Uint8Array),Vi.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?di.UNKNOWN:lu(e.code);return new pi(t,e.message||"")}(o);n=new Zu(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Vu(e,s.document.name),l=Mu(s.document.updateTime),f=new _a({mapValue:{fields:s.document.fields}}),h=Ia.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Iu(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var g=Vu(e,v.document),y=v.readTime?Mu(v.readTime):Ri.min(),m=Ia.newNoDocument(g,y),k=v.removedTargetIds||[];n=new Iu([],k,m.key,m)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var b=Vu(e,w.document),_=w.removedTargetIds||[];n=new Iu([],_,b,null)}else{if(!("filter"in t))return ci();t.filter;var x=t.filter;x.targetId;var I=x.count||0,E=new su(I),Z=x.targetId;n=new Eu(Z,E)}return n}function Qu(e,t){var n;if(t instanceof $o)n={update:Ku(e,t.key,t.value)};else if(t instanceof ou)n={delete:ju(e,t.key)};else if(t instanceof eu)n={update:Ku(e,t.key,t.data),updateMask:ls(t.fieldMask)};else{if(!(t instanceof uu))return ci();n={verify:ju(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Do)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Po)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Mo)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Fo)return{fieldPath:t.field.canonicalString(),increment:n.k};throw ci()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Lu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ci()}(e,t.precondition)),n}function Ju(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Go.updateTime(Mu(e.updateTime)):void 0!==e.exists?Go.exists(e.exists):Go.none()}(t.currentDocument):Go.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)li("REQUEST_TIME"===t.setToServerValue),n=new Do;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Po(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Mo(i)}else"increment"in t?n=new Fo(e,t.increment):ci();var a=Ui.fromServerFormat(t.fieldPath);return new Bo(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Vu(e,t.update.name),a=new _a({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Fi(t.map((function(e){return Ui.fromServerFormat(e)})))}(t.updateMask);return new eu(i,a,o,n,r)}return new $o(i,a,n,r)}if(t.delete){var u=Vu(e,t.delete);return new ou(u,n)}if(t.verify){var s=Vu(e,t.verify);return new uu(s,n)}return ci()}function Xu(e,t){return e&&e.length>0?(li(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Mu(e.updateTime):Mu(t);return n.isEqual(Ri.min())&&(n=Mu(t)),new zo(n,e.transformResults||[])}(e,t)}))):[]}function $u(e,t){return{documents:[Bu(e,t.path)]}}function es(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Bu(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Bu(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(pa(e.value))return{unaryFilter:{field:os(e.field),op:"IS_NAN"}};if(da(e.value))return{unaryFilter:{field:os(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(pa(e.value))return{unaryFilter:{field:os(e.field),op:"IS_NOT_NAN"}};if(da(e.value))return{unaryFilter:{field:os(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:os(e.field),op:as(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:os(e.field),direction:is(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||Ji(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function ts(e){var t=qu(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){li(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=rs(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new ao(us(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var c=null;n.limit&&(c=function(e){var t;return t="object"==(0,s.Z)(e)?e.value:e,Ji(t)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new io(n,t)}(n.startAt));var f=null;return n.endAt&&(f=function(e){var t=!e.before,n=e.values||[];return new io(n,t)}(n.endAt)),lo(t,i,u,o,c,"F",l,f)}function ns(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ci()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}function rs(e){return e?void 0!==e.unaryFilter?[cs(e)]:void 0!==e.fieldFilter?[ss(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return rs(e)})).reduce((function(e,t){return e.concat(t)})):ci():[]}function is(e){return Ru[e]}function as(e){return Ou[e]}function os(e){return{fieldPath:e.canonicalString()}}function us(e){return Ui.fromServerFormat(e.fieldPath)}function ss(e){return Ya.create(us(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ci()}}(e.fieldFilter.op),e.fieldFilter.value)}function cs(e){switch(e.unaryFilter.op){case"IS_NAN":var t=us(e.unaryFilter.field);return Ya.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=us(e.unaryFilter.field);return Ya.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=us(e.unaryFilter.field);return Ya.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=us(e.unaryFilter.field);return Ya.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ci()}}function ls(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function fs(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=ps(t)),t=ds(e.get(n),t);return ps(t)}function ds(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="";break;case"":n+="";break;default:n+=a}}return n}function ps(e){return e+""}function vs(e){var t=e.length;if(li(t>=2),2===t)return li(""===e.charAt(0)&&""===e.charAt(1)),Li.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("",a);switch((o<0||o>n)&&ci(),e.charAt(o+1)){case"":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(i+=u,s=i,i=""),r.push(s);break;case"":i+=e.substring(a,o),i+="\0";break;case"":i+=e.substring(a,o+1);break;default:ci()}a=o+2}return new Li(r)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gs=["userId","batchId"];
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(e,t){return[e,hs(t)]}function ms(e,t,n){return[e,hs(t),n]}var ks={},ws=["prefixPath","collectionGroup","readTime","documentId"],bs=["prefixPath","collectionGroup","documentId"],_s=["collectionGroup","readTime","prefixPath","documentId"],xs=["canonicalId","targetId"],Is=["targetId","path"],Es=["path","targetId"],Zs=["collectionId","parent"],Ts=["indexId","uid"],Ss=["uid","sequenceNumber"],As=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Cs=["indexId","uid","orderedDocumentKey"],Rs=["userId","collectionPath","documentId"],Os=["userId","collectionPath","largestBatchId"],Ns=["userId","collectionGroup","largestBatchId"],Ds=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Ps=[].concat((0,y.Z)(Ds),["documentOverlays"]),Ls=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ms=[].concat(Ls,["indexConfiguration","indexState","indexEntries"]),Us="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Fs=function(){function e(){(0,c.Z)(this,e),this.onCommittedListeners=[]}return(0,l.Z)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),js=function(){function e(t){var n=this;(0,c.Z)(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return(0,l.Z)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ci(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=(0,u.Z)(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Vs=function(){function e(t,n){var r=this;(0,c.Z)(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new vi,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new zs(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=Ys(e.target.error);r.At.reject(new zs(t,n))}}return(0,l.Z)(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(ai("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Ks(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new zs(n,t)}}}]),e}(),Bs=function(){function e(t,n,r){(0,c.Z)(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt((0,b.z$)())&&oi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return(0,l.Z)(e,[{key:"Nt",value:function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t){var n=this;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return ai("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new zs(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new pi(di.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new pi(di.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new zs(t,n))},i.onupgradeneeded=function(e){ai("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){ai("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t,n,r,i){var a,o,u,c,l=this;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield((0,v.Z)().mark((function e(){var n,o;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l.Nt(t);case 2:return l.db=e.sent,n=Vs.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),js.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if(u=e.t0,"object"!==(0,s.Z)(u)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e["catch"](3),c="FirebaseError"!==e.t1.name&&o<3,ai("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return ai("SimpleDb","Removing database:",e),Hs(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!(0,b.hl)())return!1;if(e.St())return!0;var t=(0,b.z$)(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",BASE_URL:"/"})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),qs=function(){function e(t){(0,c.Z)(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return(0,l.Z)(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return Hs(this.Ft.delete())}}]),e}(),zs=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),i=t.call(this,di.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r)),i.name="IndexedDbTransactionError",i}return(0,l.Z)(n)}(pi);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(e){return"IndexedDbTransactionError"===e.name}var Ks=function(){function e(t){(0,c.Z)(this,e),this.store=t}return(0,l.Z)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(ai("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ai("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Hs(n)}},{key:"add",value:function(e){return ai("SimpleDb","ADD",this.store.name,e,e),Hs(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Hs(this.store.get(e)).next((function(n){return void 0===n&&(n=null),ai("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return ai("SimpleDb","DELETE",this.store.name,e),Hs(this.store.delete(e))}},{key:"count",value:function(){return ai("SimpleDb","COUNT",this.store.name),Hs(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new js((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new js((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){ai("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new js((function(n,r){t.onerror=function(e){var t=Ys(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new js((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new qs(i),o=t(i.primaryKey,i.value,a);if(o instanceof js){var u=o.catch((function(e){return a.done(),js.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return js.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Hs(e){return new js((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ys(e.target.error);n(t)}}))}var Ws=!1;function Ys(e){var t=Bs.Vt((0,b.z$)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new pi("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ws||(Ws=!0,setTimeout((function(){throw r}),0)),r}}return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qs=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),i=t.call(this),i.Ht=e,i.currentSequenceNumber=r,i}return(0,l.Z)(n)}(Fs);function Js(e,t){var n=hi(e);return Bs.xt(n.Ht,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xs=function(){function e(t,n,r,i){(0,c.Z)(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return(0,l.Z)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Wo(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=(0,u.Z)(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Yo(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=(0,u.Z)(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Yo(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ri.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),ku())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Si(this.mutations,e.mutations,(function(e,t){return Jo(e,t)}))&&Si(this.baseMutations,e.baseMutations,(function(e,t){return Jo(e,t)}))}}]),e}(),$s=function(){function e(t,n,r,i){(0,c.Z)(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return(0,l.Z)(e,null,[{key:"from",value:function(t,n,r){li(t.mutations.length===r.length);for(var i=yu,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),ec=function(){function e(t,n){(0,c.Z)(this,e),this.largestBatchId=t,this.mutation=n}return(0,l.Z)(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),tc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ri.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ri.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Vi.EMPTY_BYTE_STRING;(0,c.Z)(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return(0,l.Z)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),nc=(0,l.Z)((function e(t){(0,c.Z)(this,e),this.Jt=t}));function rc(e,t){var n;if(t.document)n=Hu(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=ea.fromSegments(t.noDocument.path),i=uc(t.noDocument.readTime);n=Ia.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ci();var a=ea.fromSegments(t.unknownDocument.path),o=uc(t.unknownDocument.version);n=Ia.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Ci(e[0],e[1]);return Ri.fromTimestamp(t)}(t.readTime)),n}function ic(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ac(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:ju(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Du(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:oc(t.version)};else{if(!t.isUnknownDocument())return ci();r.unknownDocument={path:n.path.toArray(),version:oc(t.version)}}return r}function ac(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function oc(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function uc(e){var t=new Ci(e.seconds,e.nanoseconds);return Ri.fromTimestamp(t)}function sc(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Ju(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Ju(e.Jt,t)})),u=Ci.fromMillis(t.localWriteTimeMs);return new Xs(t.batchId,u,n,o)}function cc(e){var t,n,r=uc(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?uc(e.lastLimboFreeSnapshotVersion):Ri.min();return void 0!==e.query.documents?(li(1===(n=e.query).documents.length),t=mo(fo(qu(n.documents[0])))):t=function(e){return mo(ts(e))}(e.query),new tc(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Vi.fromBase64String(e.resumeToken))}function lc(e,t){var n,r=oc(t.snapshotVersion),i=oc(t.lastLimboFreeSnapshotVersion);n=Ga(t.target)?$u(e.Jt,t.target):es(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ba(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function fc(e){var t=ts({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ko(t,t.limit,"L"):t}function hc(e,t){return new ec(t.largestBatchId,Ju(e.Jt,t.overlayMutation))}function dc(e,t){var n=t.path.lastSegment();return[e,hs(t.path.popLast()),n]}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pc=function(){function e(){(0,c.Z)(this,e)}return(0,l.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return vc(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:uc(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return vc(e).put({bundleId:(n=t).id,createTime:oc(Mu(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return gc(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:fc(t.bundledQuery),readTime:uc(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return gc(e).put(function(e){return{name:e.name,readTime:oc(Mu(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function vc(e){return Js(e,"bundles")}function gc(e){return Js(e,"namedQueries")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yc=function(){function e(t,n){(0,c.Z)(this,e),this.M=t,this.userId=n}return(0,l.Z)(e,[{key:"getOverlay",value:function(e,t){var n=this;return mc(e).get(dc(this.userId,t)).next((function(e){return e?hc(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new ec(t,a);i.push(r.Xt(e,o))})),js.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(hs(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(mc(e).Qt("collectionPathOverlayIndex",i))})),js.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=gu(),a=hs(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return mc(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=(0,u.Z)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=hc(r.M,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=gu(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return mc(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=hc(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return mc(e).put(function(e,t,n){var r=dc(t,n.mutation.key),i=(0,p.Z)(r,3),a=(i[0],i[1]),o=i[2];return{userId:t,collectionPath:a,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Qu(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){var r=n.uid||"";return new e(t,r)}}]),e}();function mc(e){return Js(e,"documentOverlays")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kc=function(){function e(){(0,c.Z)(this,e)}return(0,l.Z)(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(zi(e.integerValue));else if("doubleValue"in e){var n=zi(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Xi(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Gi(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?ya(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):ci()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=(0,u.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),ea.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function wc(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function bc(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=wc(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}kc.fe=new kc;var _c=function(){function e(){(0,c.Z)(this,e),this.buffer=new Uint8Array(1024),this.position=0}return(0,l.Z)(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=(0,u.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=(0,u.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=bc(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=bc(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),xc=function(){function e(t){(0,c.Z)(this,e),this.De=t}return(0,l.Z)(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),Ic=function(){function e(t){(0,c.Z)(this,e),this.De=t}return(0,l.Z)(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),Ec=function(){function e(){(0,c.Z)(this,e),this.De=new _c,this.Ce=new xc(this.De),this.xe=new Ic(this.De)}return(0,l.Z)(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),Zc=function(){function e(t,n,r,i){(0,c.Z)(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return(0,l.Z)(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Tc(e,t){var n=e.indexId-t.indexId;return 0!==n?n:(n=Sc(e.arrayValue,t.arrayValue),0!==n?n:(n=Sc(e.directionalValue,t.directionalValue),0!==n?n:ea.comparator(e.documentKey,t.documentKey)))}function Sc(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ac=function(){function e(t){(0,c.Z)(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=(0,u.Z)(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=i;a.S()?this.Fe=a:this.Oe.push(a)}}catch(o){r.e(o)}finally{r.f()}}return(0,l.Z)(e,[{key:"$e",value:function(e){var t=Za(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Ta(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=(0,u.Z)(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Cc=function(){function e(){(0,c.Z)(this,e),this.qe=new Rc}return(0,l.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),js.resolve()}},{key:"getCollectionParents",value:function(e,t){return js.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return js.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return js.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return js.resolve(null)}},{key:"getIndexType",value:function(e,t){return js.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return js.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return js.resolve(null)}},{key:"getMinOffset",value:function(e,t){return js.resolve(Oa.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return js.resolve()}},{key:"updateIndexEntries",value:function(e,t){return js.resolve()}}]),e}(),Rc=function(){function e(){(0,c.Z)(this,e),this.index={}}return(0,l.Z)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ma(Li.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Ma(Li.comparator)).toArray()}}]),e}(),Oc=new Uint8Array(0),Nc=function(){function e(t,n){(0,c.Z)(this,e),this.user=t,this.databaseId=n,this.Ke=new Rc,this.Ge=new fu((function(e){return Ba(e)}),(function(e,t){return za(e,t)})),this.uid=t.uid||""}return(0,l.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:hs(i)};return Dc(e).put(a)}return js.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ai(t),""],!1,!0);return Dc(e).qt(r).next((function(e){var r,i=(0,u.Z)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(vs(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=Lc(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Lc(e),r=Mc(e),i=Pc(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Pc(e),i=!0,a=new Map;return js.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=ku(),o=[];return js.forEach(a,(function(i,a){var s;ai("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Ba(t)));var c=function(e,t){var n=Za(t);if(void 0===n)return null;var r,i=(0,u.Z)(Ka(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=new Map,i=(0,u.Z)(Ta(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=(0,u.Z)(Ka(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var c=a.value;switch(c.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),c.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),c.value),Array.from(r.values())}}}catch(l){s.e(l)}finally{s.f()}}}catch(l){i.e(l)}finally{i.f()}return null}(a,i),f=function(e,t){var n,r=[],i=!0,a=(0,u.Z)(Ta(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Ha(e,o.fieldPath,e.startAt):Wa(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(c){a.e(c)}finally{a.f()}return new io(r,i)}(a,i),h=function(e,t){var n,r=[],i=!0,a=(0,u.Z)(Ta(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Wa(e,o.fieldPath,e.endAt):Ha(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(c){a.e(c)}finally{a.f()}return new io(r,i)}(a,i),d=n.We(i,a,f),p=n.We(i,a,h),v=n.ze(i,a,l),g=n.He(i.indexId,c,d,f.inclusive,p,h.inclusive,v);return js.forEach(g,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=ea.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return js.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"He",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.Je(t[s/c]):Oc,h=u.Ye(e,f,n[s%c],r),d=u.Xe(e,f,i[s%c],a),p=o.map((function(t){return u.Ye(e,f,t,!0)}));l.push.apply(l,(0,y.Z)(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"Ye",value:function(e,t,n,r){var i=new Zc(e,ea.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new Zc(e,ea.empty(),t,n);return r?i.ke():i}},{key:"je",value:function(e,t){var n=new Ac(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=(0,u.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.$e(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return js.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Ma(Ui.comparator),r=!1,i=(0,u.Z)(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=a;o.field.isKeyField()||("array-contains"===o.op||"array-contains-any"===o.op?r=!0:n=n.add(o.field))}}catch(f){i.e(f)}finally{i.f()}var s,c=(0,u.Z)(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"Ze",value:function(e,t){var n,r=new Ec,i=(0,u.Z)(Ta(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Ne(a.kind);kc.fe.Zt(o,s)}}catch(c){i.e(c)}finally{i.f()}return r.Se()}},{key:"Je",value:function(e){var t=new Ec;return kc.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new Ec;return kc.fe.Zt(la(this.databaseId,t),n.Ne(function(e){var t=Ta(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"ze",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Ec);var i,a=0,o=(0,u.Z)(Ta(e));try{for(o.s();!(i=o.n()).done;){var s,c=i.value,l=n[a++],f=(0,u.Z)(r);try{for(f.s();!(s=f.n()).done;){var h=s.value;if(this.en(t,c.fieldPath)&&ha(l))r=this.nn(r,c,l);else{var d=h.Ne(c.kind);kc.fe.Zt(l,d)}}}catch(p){f.e(p)}finally{f.f()}}}catch(p){o.e(p)}finally{o.f()}return this.sn(r)}},{key:"We",value:function(e,t,n){return this.ze(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=(0,y.Z)(e),a=[],o=(0,u.Z)(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,c=r.value,l=(0,u.Z)(i);try{for(l.s();!(s=l.n()).done;){var f=s.value,h=new Ec;h.seed(f.Se()),kc.fe.Zt(c,h.Ne(t.kind)),a.push(h)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Ya&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Lc(e),i=Mc(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return js.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Aa(t.sequenceNumber,new Oa(uc(t.readTime),new ea(vs(t.documentKey)),t.largestBatchId)):Aa.empty(),r=e.fields.map((function(e){var t=(0,p.Z)(e,2),n=t[0],r=t[1];return new Sa(Ui.fromServerFormat(n),r)}));return new Ea(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Ti(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Lc(e),a=Mc(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return js.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:oc(r.readTime),documentKey:hs(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return js.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?js.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),js.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?js.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return Pc(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return Pc(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=Pc(e),i=new Ma(Tc);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new Zc(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new Ma(Tc),r=this.Ze(t,e);if(null==r)return n;var i=Za(t);if(null!=i){var a=e.data.field(i.fieldPath);if(ha(a)){var o,s=(0,u.Z)(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var c=o.value;n=n.add(new Zc(t.indexId,e.key,this.Je(c),r))}}catch(l){s.e(l)}finally{s.f()}}}else n=n.add(new Zc(t.indexId,e.key,Oc,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;ai("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Fa(a),s=Fa(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Fa(o)):l?(i(u),u=Fa(a)):(u=Fa(a),s=Fa(o))}}(r,i,Tc,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),js.waitFor(o)}},{key:"rn",value:function(e){var t=1;return Mc(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Tc(e,t)})).filter((function(e,t,n){return!t||0!==Tc(e,n[t-1])}));var r=[];r.push(e);var i,a=(0,u.Z)(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=Tc(o,e),c=Tc(o,t);if(0===s)r[0]=e.ke();else if(s>0&&c<0)r.push(o),r.push(o.ke());else if(c>0)break}}catch(h){a.e(h)}finally{a.f()}r.push(t);for(var l=[],f=0;f<r.length;f+=2)l.push(IDBKeyRange.bound([r[f].indexId,this.uid,r[f].arrayValue,r[f].directionalValue,Oc,[]],[r[f+1].indexId,this.uid,r[f+1].arrayValue,r[f+1].directionalValue,Oc,[]]));return l}},{key:"getMinOffset",value:function(e,t){var n,r=this;return js.forEach(this.Qe(t),(function(t){return r.je(e,t).next((function(e){e?(!n||Na(e.indexState.offset,n)<0)&&(n=e.indexState.offset):n=Oa.min()}))})).next((function(){return n}))}}]),e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(e){return Js(e,"collectionParents")}function Pc(e){return Js(e,"indexEntries")}function Lc(e){return Js(e,"indexConfiguration")}function Mc(e){return Js(e,"indexState")}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fc=function(){function e(t,n,r){(0,c.Z)(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return(0,l.Z)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function jc(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,c=r.Wt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(c.next((function(){li(1===s)})));var l,f=[],h=(0,u.Z)(n.mutations);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=ms(t,d.key.path,n.batchId);a.push(i.delete(p)),f.push(d.key)}}catch(v){h.e(v)}finally{h.f()}return js.waitFor(a).next((function(){return f}))}function Vc(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ci();t=e.noDocument}return JSON.stringify(t).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fc.DEFAULT_COLLECTION_PERCENTILE=10,Fc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fc.DEFAULT=new Fc(41943040,Fc.DEFAULT_COLLECTION_PERCENTILE,Fc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fc.DISABLED=new Fc(-1,0,0);var Bc=function(){function e(t,n,r,i){(0,c.Z)(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.ln={}}return(0,l.Z)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zc(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Gc(e),o=zc(e);return o.add({}).next((function(s){li("number"==typeof s);var c,l=new Xs(s,t,n,r),f=function(e,t,n){var r=n.baseMutations.map((function(t){return Qu(e.Jt,t)})),i=n.mutations.map((function(t){return Qu(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,l),h=[],d=new Ma((function(e,t){return Ti(e.canonicalString(),t.canonicalString())})),p=(0,u.Z)(r);try{for(p.s();!(c=p.n()).done;){var v=c.value,g=ms(i.userId,v.key.path,s);d=d.add(v.key.path.popLast()),h.push(o.put(f)),h.push(a.put(g,ks))}}catch(y){p.e(y)}finally{p.f()}return d.forEach((function(t){h.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[s]=l.keys()})),js.waitFor(h).next((function(){return l}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return zc(e).get(t).next((function(e){return e?(li(e.userId===n.userId),sc(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?js.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return zc(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(li(t.batchId>=r),a=sc(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return zc(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zc(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return sc(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=ys(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Gc(e).Wt({range:i},(function(r,i,o){var u=(0,p.Z)(r,3),s=u[0],c=u[1],l=u[2],f=vs(c);if(s===n.userId&&t.path.isEqual(f))return zc(e).get(l).next((function(e){if(!e)throw ci();li(e.userId===n.userId),a.push(sc(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ma(Ti),i=[];return t.forEach((function(t){var a=ys(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Gc(e).Wt({range:o},(function(e,i,a){var o=(0,p.Z)(e,3),u=o[0],s=o[1],c=o[2],l=vs(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),js.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=ys(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Ma(Ti);return Gc(e).Wt({range:o},(function(e,t,a){var o=(0,p.Z)(e,3),s=o[0],c=o[1],l=o[2],f=vs(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.dn(e,u)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(zc(e).get(t).next((function(e){if(null===e)throw ci();li(e.userId===n.userId),r.push(sc(n.M,e))})))})),js.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return jc(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),js.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return js.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Gc(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=vs(e[1]);i.push(a)}else r.done()})).next((function(){li(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return qc(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return Kc(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){li(""!==t.uid);var a=t.isAuthenticated()?t.uid:"";return new e(a,n,r,i)}}]),e}();function qc(e,t,n){var r=ys(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Gc(e).Wt({range:a,jt:!0},(function(e,n,r){var a=(0,p.Z)(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function zc(e){return Js(e,"mutations")}function Gc(e){return Js(e,"documentMutations")}function Kc(e){return Js(e,"mutationQueues")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hc=function(){function e(t){(0,c.Z)(this,e),this.mn=t}return(0,l.Z)(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),Wc=function(){function e(t,n){(0,c.Z)(this,e),this.referenceDelegate=t,this.M=n}return(0,l.Z)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new Hc(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return Ri.fromTimestamp(new Ci(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Yc(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return li(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Yc(e).Wt((function(o,u){var s=cc(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return js.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Yc(e).Wt((function(e,n){var r=cc(n);t(r)}))}},{key:"pn",value:function(e){return Qc(e).get("targetGlobalKey").next((function(e){return li(null!==e),e}))}},{key:"In",value:function(e,t){return Qc(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return Yc(e).put(lc(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Ba(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Yc(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=cc(n);za(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Jc(e);return t.forEach((function(t){var o=hs(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),js.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Jc(e);return js.forEach(t,(function(t){var a=hs(t.path);return js.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Jc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Jc(e),i=ku();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=vs(e[1]),a=new ea(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=hs(t.path),r=IDBKeyRange.bound([n],[Ai(n)],!1,!0),i=0;return Jc(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=(0,p.Z)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Yc(e).get(t).next((function(e){return e?cc(e):null}))}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(e){return Js(e,"targets")}function Qc(e){return Js(e,"targetGlobal")}function Jc(e){return Js(e,"targetDocuments")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(e){return $c.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(){return $c=(0,g.Z)((0,v.Z)().mark((function e(t){return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.code===di.FAILED_PRECONDITION&&t.message===Us){e.next=2;break}throw t;case 2:ai("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),$c.apply(this,arguments)}function el(e,t){var n=(0,p.Z)(e,2),r=n[0],i=n[1],a=(0,p.Z)(t,2),o=a[0],u=a[1],s=Ti(r,o);return 0===s?Ti(i,u):s}var tl=function(){function e(t){(0,c.Z)(this,e),this.An=t,this.buffer=new Ma(el),this.Rn=0}return(0,l.Z)(e,[{key:"bn",value:function(){return++this.Rn}},{key:"Pn",value:function(e){var t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();el(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),nl=function(){function e(t,n){(0,c.Z)(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return(0,l.Z)(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;ai("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,g.Z)((0,v.Z)().mark((function n(){return(0,v.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n["catch"](1),!Gs(n.t0)){n.next=12;break}ai("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Xc(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),rl=function(){function e(t,n){(0,c.Z)(this,e),this.Dn=t,this.params=n}return(0,l.Z)(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return js.resolve(Ii.A);var r=new tl(t);return this.Dn.forEachTarget(e,(function(e){return r.Pn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.Pn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ai("LruGarbageCollector","Garbage collection skipped; disabled"),js.resolve(Uc)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(ai("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Uc):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(ai("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),ri()<=w["in"].DEBUG&&ai("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),js.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),il=function(){function e(t,n){(0,c.Z)(this,e),this.db=t,this.garbageCollector=function(e,t){return new rl(e,t)}(this,n)}return(0,l.Z)(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return al(e,n)}},{key:"removeReference",value:function(e,t,n){return al(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return al(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return Kc(e).zt((function(r){return qc(e,r,t).next((function(e){return e&&(n=!0),js.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,u){if(u<=t){var s=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Ri.min()),Jc(e).delete([0,hs(o.path)])}))}));i.push(s)}})).next((function(){return js.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return al(e,t)}},{key:"Mn",value:function(e,t){var n,r=Jc(e),i=Ii.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=(0,p.Z)(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Ii.A&&t(new ea(vs(n)),i),i=s,n=u):i=Ii.A})).next((function(){i!==Ii.A&&t(new ea(vs(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function al(e,t){return Jc(e).put(function(e,t){return{targetId:0,path:hs(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ol=function(){function e(){(0,c.Z)(this,e),this.changes=new fu((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return(0,l.Z)(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Ia.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?js.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),ul=function(){function e(t){(0,c.Z)(this,e),this.M=t}return(0,l.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return ll(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return ll(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],ac(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Ia.newInvalidDocument(t);return ll(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(fl(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:Ia.newInvalidDocument(t)};return ll(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(fl(t))},(function(e,i){r={document:n.$n(t,i),size:Vc(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=du();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=du(),i=new Da(ea.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,Vc(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return js.resolve();var r=new Ma(dl);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(fl(r.first()),fl(r.last())),a=r.getIterator(),o=a.getNext();return ll(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=ea.fromSegments([].concat((0,y.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&dl(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(fl(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),ac(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ll(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=du(),i=(0,u.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(ea.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=du(),o=hl(t,n),u=hl(t,Oa.max());return ll(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.$n(ea.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);a=a.insert(o.key,o),a.size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new sl(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return cl(e).get("remoteDocumentGlobalKey").next((function(e){return li(!!e),e}))}},{key:"Fn",value:function(e,t){return cl(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=rc(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(Ri.min()))return n}return Ia.newInvalidDocument(e)}}]),e}(),sl=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),i=t.call(this),i.Kn=e,i.trackRemovals=r,i.Gn=new fu((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return(0,l.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Ma((function(e,t){return Ti(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=ic(t.Kn.M,o);i=i.add(a.path.popLast());var c=Vc(s);r+=c-u.size,n.push(t.Kn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=ic(t.Kn.M,o.convertToNoDocument(Ri.min()));n.push(t.Kn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),js.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents,r=e.qn;return r.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(ol);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(e){return Js(e,"remoteDocumentGlobal")}function ll(e){return Js(e,"remoteDocumentsV14")}function fl(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function hl(e,t){var n=t.documentKey.path.toArray();return[e,ac(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function dl(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Ti(n[a],r[a]),i)return i;return i=Ti(n.length,r.length),i||(i=Ti(n[n.length-2],r[r.length-2]),i||Ti(n[n.length-1],r[r.length-1]))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pl=function(){function e(t){(0,c.Z)(this,e),this.M=t}return(0,l.Z)(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new Vs("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gs,{unique:!0}),e.createObjectStore("documentMutations")}(e),vl(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=js.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),vl(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ri.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gs,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return js.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Rs});t.createIndex("collectionPathOverlayIndex",Os,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Ns,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:ws});t.createIndex("documentKeyIndex",bs),t.createIndex("collectionGroupIndex",_s)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ts}).createIndex("sequenceNumberIndex",Ss,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:As}).createIndex("documentKeyIndex",Cs,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=Vc(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return js.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return js.forEach(r,(function(r){li(r.userId===n.userId);var i=sc(t.M,r);return jc(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new Li(n),o=function(e){return[0,hs(e)]}(a);r.push(t.get(o).next((function(n){return n?js.resolve():function(n){return t.put({targetId:0,path:hs(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return js.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Zs});var n=t.store("collectionParents"),r=new Rc,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:hs(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new Li(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=(0,p.Z)(e,3),r=(n[0],n[1]),a=(n[2],vs(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=cc(r),a=lc(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new ea(Li.fromString(i.document.name).popFirst(5)):i.noDocument?ea.fromSegments(i.noDocument.path):i.unknownDocument?ea.fromSegments(i.unknownDocument.path):ci()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return js.waitFor(r)}))}}]),e}();function vl(e){e.createObjectStore("targetDocuments",{keyPath:Is}).createIndex("documentTargetsIndex",Es,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",xs,{unique:!0}),e.createObjectStore("targetGlobal")}var gl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",yl=function(){function e(t,n,r,i,a,o,u,s,l,f){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if((0,c.Z)(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Yn=a,this.window=o,this.document=u,this.Xn=l,this.Zn=f,this.ts=h,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new pi(di.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new il(this,i),this.hs=n+"main",this.M=new nc(s),this.ls=new Bs(this.hs,this.ts,new pl(this.M)),this.fs=new Wc(this.referenceDelegate,this.M),this.ds=function(e){return new ul(e)}(this.M),this._s=new pc,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===f&&oi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return(0,l.Z)(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new pi(di.FAILED_PRECONDITION,gl);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new Ii(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=(0,g.Z)((0,v.Z)().mark((function n(r){return(0,v.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=(0,g.Z)((0,v.Z)().mark((function t(n){return(0,v.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,g.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return kl(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.bs(t).next((function(){return!0}))}))})).catch((function(t){if(Gs(t))return ai("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return ai("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return ml(e).get("owner").next((function(e){return js.resolve(t.Ps(e))}))}},{key:"Vs",value:function(e){return kl(e).delete(this.clientId)}},{key:"vs",value:function(){var e=(0,g.Z)((0,v.Z)().mark((function e(){var t,n,r,i,a=this;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Js(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return js.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=(0,u.Z)(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"Ps",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?js.resolve(!0):ml(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.Ps(n)&&t.networkEnabled)return!0;if(!t.Ps(n)){if(!n.allowTabSynchronization)throw new pi(di.FAILED_PRECONDITION,gl);return!1}}return!(!t.networkEnabled||!t.inForeground)||kl(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&ai("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=(0,g.Z)((0,v.Z)().mark((function e(){var t=this;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Qs(e,Ii.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return kl(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return Bc.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new Nc(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return yc.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;ai("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.ts)?Ms:13===i?Ls:12===i?Ps:11===i?Ds:void ci();return this.ls.runTransaction(e,o,u,(function(i){return a=new Qs(i,r.es?r.es.next():Ii.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw oi("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new pi(di.FAILED_PRECONDITION,Us);return n(a)})).next((function(e){return r.bs(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return ml(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.Ps(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new pi(di.FAILED_PRECONDITION,gl)}))}},{key:"bs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ml(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=ml(e);return n.get("owner").next((function(e){return t.Ps(e)?(ai("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):js.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(oi("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),(0,b.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return ai("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return oi("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(L){oi("Failed to set zombie client id.",L)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(L){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return Bs.vt()}}]),e}();function ml(e){return Js(e,"owner")}function kl(e){return Js(e,"clientMetadata")}function wl(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var bl=function(){function e(t,n,r){(0,c.Z)(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return(0,l.Z)(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=(0,u.Z)(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.applyToLocalView(e)}}catch(a){r.e(a)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=(0,u.Z)(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.applyToLocalView(n)}}catch(o){i.e(o)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return ea.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):go(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new ea(t)).next((function(e){var t=vu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=vu();return this.indexManager.getCollectionParents(e,i).next((function(o){return js.forEach(o,(function(o){var u=function(e,t){return new co(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=(0,u.Z)(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=(0,u.Z)(a.mutations);try{for(o.s();!(i=o.n()).done;){var s=i.value,c=s.key,l=r.get(c);null==l&&(l=Ia.newInvalidDocument(c),r=r.insert(c,l)),Yo(s,l,a.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){n.e(f)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){xo(t,n)||(r=r.remove(e))})),r}))}}]),e}(),_l=function(){function e(t,n,r,i){(0,c.Z)(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return(0,l.Z)(e,null,[{key:"Ys",value:function(t,n){var r,i=ku(),a=ku(),o=(0,u.Z)(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(c){o.e(c)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),xl=function(){function e(){(0,c.Z)(this,e),this.Xs=!1}return(0,l.Z)(e,[{key:"initialize",value:function(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}},{key:"Qs",value:function(e,t,n,r){var i=this;return this.ti(e,t).next((function(a){return a||i.ei(e,t,r,n)})).next((function(n){return n||i.ni(e,t)}))}},{key:"ti",value:function(e,t){return js.resolve(null)}},{key:"ei",value:function(e,t,n,r){var i=this;return ho(t)||r.isEqual(Ri.min())?this.ni(e,t):this.Zs.Ks(e,n).next((function(a){var o=i.si(t,a);return i.ii(t,o,n,r)?i.ni(e,t):(ri()<=w["in"].DEBUG&&ai("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),_o(t)),i.ri(e,o,t,Ca(r,-1)))}))}},{key:"si",value:function(e,t){var n=new Ma(Eo(e));return t.forEach((function(t,r){xo(e,r)&&(n=n.add(r))})),n}},{key:"ii",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ni",value:function(e,t){return ri()<=w["in"].DEBUG&&ai("QueryEngine","Using full collection scan to execute query:",_o(t)),this.Zs.Qs(e,t,Oa.min())}},{key:"ri",value:function(e,t,n,r){return this.Zs.Qs(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Il=function(){function e(t,n,r,i){(0,c.Z)(this,e),this.persistence=t,this.oi=n,this.M=i,this.ui=new Da(Ti),this.ai=new fu((function(e){return Ba(e)}),za),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(r)}return(0,l.Z)(e,[{key:"li",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new bl(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ui)}))}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(e,t,n,r){return new Il(e,t,n,r)}function Zl(e,t){return Tl.apply(this,arguments)}function Tl(){return Tl=(0,g.Z)((0,v.Z)().mark((function e(t,n){var r;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=hi(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.li(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=ku(),c=(0,u.Z)(t);try{for(c.s();!(i=c.n()).done;){var l=i.value;a.push(l.batchId);var f,h=(0,u.Z)(l.mutations);try{for(h.s();!(f=h.n()).done;){var d=f.value;s=s.add(d.key)}}catch(w){h.e(w)}finally{h.f()}}}catch(w){c.e(w)}finally{c.f()}var p,v=(0,u.Z)(n);try{for(v.s();!(p=v.n()).done;){var g=p.value;o.push(g.batchId);var y,m=(0,u.Z)(g.mutations);try{for(m.s();!(y=m.n()).done;){var k=y.value;s=s.add(k.key)}}catch(w){m.e(w)}finally{m.f()}}}catch(w){v.e(w)}finally{v.f()}return r.fi.Ks(e,s).next((function(e){return{di:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Tl.apply(this,arguments)}function Sl(e,t){var n=hi(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.hi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=js.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);li(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}function Al(e){var t=hi(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function Cl(e,t){var n=hi(e),r=t.snapshotVersion,i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Vi.EMPTY_BYTE_STRING,Ri.min()).withLastLimboFreeSnapshotVersion(Ri.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var u=du();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Rl(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(Ri.min())){var s=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return js.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.fi.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.ui=i,e}))}function Rl(e,t,n){var r=ku();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=du();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Ri.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):ai("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function Ol(e,t){var n=hi(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function Nl(e,t){var n=hi(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,js.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new tc(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ui=n.ui.insert(e.targetId,e),n.ai.set(t,e.targetId)),e}))}function Dl(e,t,n){return Pl.apply(this,arguments)}function Pl(){return Pl=(0,g.Z)((0,v.Z)().mark((function e(t,n,r){var i,a,o;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=hi(t),a=i.ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e["catch"](1),Gs(e.t1)){e.next=12;break}throw e.t1;case 12:ai("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ui=i.ui.remove(n),i.ai.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Pl.apply(this,arguments)}function Ll(e,t,n){var r=hi(e),i=Ri.min(),a=ku();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=hi(e),i=r.ai.get(n);return void 0!==i?js.resolve(r.ui.get(i)):r.fs.getTargetData(t,n)}(r,e,mo(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.oi.Qs(e,t,n?i:Ri.min(),n?a:ku())})).next((function(e){return Fl(r,Io(t),e),{documents:e,_i:a}}))}))}function Ml(e,t){var n=hi(e),r=hi(n.fs),i=n.ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function Ul(e,t){var n=hi(e),r=n.ci.get(t)||Ri.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.hi.getAllFromCollectionGroup(e,t,Ca(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Fl(n,t,e),e}))}function Fl(e,t,n){var r=Ri.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ci.set(t,r)}function jl(e,t,n,r){return Vl.apply(this,arguments)}function Vl(){return Vl=(0,g.Z)((0,v.Z)().mark((function e(t,n,r,i){var a,o,s,c,l,f,h,d,p,g;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=hi(t),o=ku(),s=du(),c=(0,u.Z)(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.wi(f.metadata.name),f.document&&(o=o.add(h)),d=n.mi(f),d.setReadTime(n.gi(f.metadata.readTime)),s=s.insert(h,d)}catch(v){c.e(v)}finally{c.f()}return p=a.hi.newChangeBuffer({trackRemovals:!0}),e.next=7,Nl(a,function(e){return mo(fo(Li.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return g=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Rl(e,p,s).next((function(t){return p.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,g.targetId).next((function(){return a.fs.addMatchingKeys(e,o,g.targetId)})).next((function(){return a.fi.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),Vl.apply(this,arguments)}function Bl(e,t){return ql.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(){return ql=(0,g.Z)((0,v.Z)().mark((function e(t,n){var r,i,a,o=arguments;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:ku(),e.next=3,Nl(t,mo(fc(n.bundledQuery)));case 3:return i=e.sent,a=hi(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Mu(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(Vi.EMPTY_BYTE_STRING,t);return a.ui=a.ui.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),ql.apply(this,arguments)}var zl=function(){function e(t){(0,c.Z)(this,e),this.M=t,this.yi=new Map,this.pi=new Map}return(0,l.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return js.resolve(this.yi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.yi.set(t.id,{id:(n=t).id,version:n.version,createTime:Mu(n.createTime)}),js.resolve()}},{key:"getNamedQuery",value:function(e,t){return js.resolve(this.pi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.pi.set(t.name,function(e){return{name:e.name,query:fc(e.bundledQuery),readTime:Mu(e.readTime)}}(t)),js.resolve()}}]),e}(),Gl=function(){function e(){(0,c.Z)(this,e),this.overlays=new Da(ea.comparator),this.Ii=new Map}return(0,l.Z)(e,[{key:"getOverlay",value:function(e,t){return js.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),js.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Ii.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Ii.delete(n)),js.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=gu(),i=t.length+1,a=new ea(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return js.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Da((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=gu(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=gu(),c=i.getIterator();c.hasNext();)if(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),s.size()>=r)break;return js.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Ii.get(r.largestBatchId).delete(n.key);this.Ii.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new ec(t,n));var a=this.Ii.get(t);void 0===a&&(a=ku(),this.Ii.set(t,a)),this.Ii.set(t,a.add(n.key))}}}]),e}(),Kl=function(){function e(){(0,c.Z)(this,e),this.Ti=new Ma(Hl.Ei),this.Ai=new Ma(Hl.Ri)}return(0,l.Z)(e,[{key:"isEmpty",value:function(){return this.Ti.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Hl(e,t);this.Ti=this.Ti.add(n),this.Ai=this.Ai.add(n)}},{key:"bi",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Pi(new Hl(e,t))}},{key:"Vi",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"vi",value:function(e){var t=this,n=new ea(new Li([])),r=new Hl(n,e),i=new Hl(n,e+1),a=[];return this.Ai.forEachInRange([r,i],(function(e){t.Pi(e),a.push(e.key)})),a}},{key:"Si",value:function(){var e=this;this.Ti.forEach((function(t){return e.Pi(t)}))}},{key:"Pi",value:function(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}},{key:"Di",value:function(e){var t=new ea(new Li([])),n=new Hl(t,e),r=new Hl(t,e+1),i=ku();return this.Ai.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Hl(e,0),n=this.Ti.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Hl=function(){function e(t,n){(0,c.Z)(this,e),this.key=t,this.Ci=n}return(0,l.Z)(e,null,[{key:"Ei",value:function(e,t){return ea.comparator(e.key,t.key)||Ti(e.Ci,t.Ci)}},{key:"Ri",value:function(e,t){return Ti(e.Ci,t.Ci)||ea.comparator(e.key,t.key)}}]),e}(),Wl=function(){function e(t,n){(0,c.Z)(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new Ma(Hl.Ei)}return(0,l.Z)(e,[{key:"checkEmpty",value:function(e){return js.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new Xs(i,t,n,r);this.Bs.push(a);var o,s=(0,u.Z)(r);try{for(s.s();!(o=s.n()).done;){var c=o.value;this.Ni=this.Ni.add(new Hl(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return js.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return js.resolve(this.ki(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Mi(n),i=r<0?0:r;return js.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return js.resolve(0===this.Bs.length?-1:this.xi-1)}},{key:"getAllMutationBatches",value:function(e){return js.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Hl(t,0),i=new Hl(t,Number.POSITIVE_INFINITY),a=[];return this.Ni.forEachInRange([r,i],(function(e){var t=n.ki(e.Ci);a.push(t)})),js.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ma(Ti);return t.forEach((function(e){var t=new Hl(e,0),i=new Hl(e,Number.POSITIVE_INFINITY);n.Ni.forEachInRange([t,i],(function(e){r=r.add(e.Ci)}))})),js.resolve(this.Oi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;ea.isDocumentKey(i)||(i=i.child(""));var a=new Hl(new ea(i),0),o=new Ma(Ti);return this.Ni.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Ci)),!0)}),a),js.resolve(this.Oi(o))}},{key:"Oi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ki(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;li(0===this.Fi(t.batchId,"removed")),this.Bs.shift();var r=this.Ni;return js.forEach(t.mutations,(function(i){var a=new Hl(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Ni=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Hl(t,0),r=this.Ni.firstAfterOrEqual(n);return js.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,js.resolve()}},{key:"Fi",value:function(e,t){return this.Mi(e)}},{key:"Mi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"ki",value:function(e){var t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),Yl=function(){function e(t){(0,c.Z)(this,e),this.$i=t,this.docs=new Da(ea.comparator),this.size=0}return(0,l.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.$i(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return js.resolve(n?n.document.mutableCopy():Ia.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=du();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Ia.newInvalidDocument(e))})),js.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=du(),i=new ea(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Na(Ra(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return js.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){ci()}},{key:"Bi",value:function(e,t){return js.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Ql(this)}},{key:"getSize",value:function(e){return js.resolve(this.size)}}]),e}(),Ql=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r;return(0,c.Z)(this,n),r=t.call(this),r.Kn=e,r}return(0,l.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),js.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(ol),Jl=function(){function e(t){(0,c.Z)(this,e),this.persistence=t,this.Li=new fu((function(e){return Ba(e)}),za),this.lastRemoteSnapshotVersion=Ri.min(),this.highestTargetId=0,this.Ui=0,this.qi=new Kl,this.targetCount=0,this.Ki=Hc.gn()}return(0,l.Z)(e,[{key:"forEachTarget",value:function(e,t){return this.Li.forEach((function(e,n){return t(n)})),js.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return js.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return js.resolve(this.Ui)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ki.next(),js.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ui&&(this.Ui=t),js.resolve()}},{key:"Tn",value:function(e){this.Li.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ki=new Hc(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,js.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),js.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,js.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Li.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Li.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),js.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return js.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Li.get(t)||null;return js.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.qi.bi(t,n),js.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.qi.Vi(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),js.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.qi.vi(t),js.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.qi.Di(t);return js.resolve(n)}},{key:"containsKey",value:function(e,t){return js.resolve(this.qi.containsKey(t))}}]),e}(),Xl=function(){function e(t,n){var r=this;(0,c.Z)(this,e),this.Gi={},this.overlays={},this.es=new Ii(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new Jl(this),this.indexManager=new Cc,this.ds=function(e){return new Yl(e)}((function(e){return r.referenceDelegate.Qi(e)})),this.M=new nc(n),this._s=new zl(this.M)}return(0,l.Z)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Gl,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Gi[e.toKey()];return n||(n=new Wl(t,this.referenceDelegate),this.Gi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;ai("MemoryPersistence","Starting transaction:",e);var i=new $l(this.es.next());return this.referenceDelegate.ji(),n(i).next((function(e){return r.referenceDelegate.Wi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zi",value:function(e,t){return js.or(Object.values(this.Gi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),$l=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r;return(0,c.Z)(this,n),r=t.call(this),r.currentSequenceNumber=e,r}return(0,l.Z)(n)}(Fs),ef=function(){function e(t){(0,c.Z)(this,e),this.persistence=t,this.Hi=new Kl,this.Ji=null}return(0,l.Z)(e,[{key:"Xi",get:function(){if(this.Ji)return this.Ji;throw ci()}},{key:"addReference",value:function(e,t,n){return this.Hi.addReference(n,t),this.Xi.delete(n.toString()),js.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Hi.removeReference(n,t),this.Xi.add(n.toString()),js.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Xi.add(t.toString()),js.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Hi.vi(t.targetId).forEach((function(e){return n.Xi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Xi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ji",value:function(){this.Ji=new Set}},{key:"Wi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return js.forEach(this.Xi,(function(r){var i=ea.fromPath(r);return t.Zi(e,i).next((function(e){e||n.removeEntry(i,Ri.min())}))})).next((function(){return t.Ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zi(e,t).next((function(e){e?n.Xi.delete(t.toString()):n.Xi.add(t.toString())}))}},{key:"Qi",value:function(e){return 0}},{key:"Zi",value:function(e,t){var n=this;return js.or([function(){return js.resolve(n.Hi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zi(e,t)}])}}],[{key:"Yi",value:function(t){return new e(t)}}]),e}();
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function nf(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function rf(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var af=function(){function e(t,n,r,i){(0,c.Z)(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return(0,l.Z)(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==(0,s.Z)(a)&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==(0,s.Z)(a.error));return o&&a.error&&(o="string"==typeof a.error.message&&"string"==typeof a.error.code,o&&(i=new pi(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(oi("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),of=function(){function e(t,n,r){(0,c.Z)(this,e),this.targetId=t,this.state=n,this.error=r}return(0,l.Z)(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n){var r,i=JSON.parse(n),a="object"==(0,s.Z)(i)&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==(0,s.Z)(i.error));return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new pi(i.error.code,i.error.message))),a?new e(t,i.state,r):(oi("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),uf=function(){function e(t,n){(0,c.Z)(this,e),this.clientId=t,this.activeTargetIds=n}return(0,l.Z)(e,null,[{key:"tr",value:function(t,n){for(var r=JSON.parse(n),i="object"==(0,s.Z)(r)&&r.activeTargetIds instanceof Array,a=bu(),o=0;i&&o<r.activeTargetIds.length;++o)i=$i(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(oi("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),sf=function(){function e(t,n){(0,c.Z)(this,e),this.clientId=t,this.onlineState=n}return(0,l.Z)(e,null,[{key:"tr",value:function(t){var n=JSON.parse(t);return"object"==(0,s.Z)(n)&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(oi("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),cf=function(){function e(){(0,c.Z)(this,e),this.activeTargetIds=bu()}return(0,l.Z)(e,[{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"er",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),lf=function(){function e(t,n,r,i,a){(0,c.Z)(this,e),this.window=t,this.Yn=n,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Da(Ti),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.hr=tf(this.persistenceKey,this.ir),this.lr=function(e){return"firestore_sequence_number_".concat(e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.persistenceKey),this.ar=this.ar.insert(this.ir,new cf),this.dr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this._r=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.wr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.mr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.gr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}return(0,l.Z)(e,[{key:"start",value:function(){var e=(0,g.Z)((0,v.Z)().mark((function e(){var t,n,r,i,a,o,s,c,l,f,h,d=this;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=(0,u.Z)(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if(i=r.value,i!==this.ir){e.next=10;break}return e.abrupt("continue",12);case 10:a=this.getItem(tf(this.persistenceKey,i)),a&&(o=uf.tr(i,a),o&&(this.ar=this.ar.insert(o.clientId,o)));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.yr(),s=this.storage.getItem(this.mr),s&&(c=this.pr(s),c&&this.Ir(c)),l=(0,u.Z)(this.cr);try{for(l.s();!(f=l.n()).done;)h=f.value,this.ur(h)}catch(p){l.e(p)}finally{l.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.lr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Tr(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Er(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Er(e,t,n),this.Ar(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(rf(this.persistenceKey,e));if(n){var r=of.tr(e,n);r&&(t=r.state)}}return this.Rr.nr(e),this.yr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Rr.sr(e),this.yr()}},{key:"isLocalQueryTarget",value:function(e){return this.Rr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(rf(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.br(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ar(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Pr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return ai("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){ai("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){ai("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ur",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(ai("SharedClientState","EVENT",n.key,n.newValue),n.key===this.hr)return void oi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,g.Z)((0,v.Z)().mark((function e(){var r,i,a,o,u,s,c;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.dr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Sr(r,null));case 6:if(i=t.Dr(n.key,n.newValue),!i){e.next=9;break}return e.abrupt("return",t.Sr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t._r.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(a=t.Cr(n.key,n.newValue),!a){e.next=16;break}return e.abrupt("return",t.Nr(a));case 16:e.next=41;break;case 18:if(!t.wr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(o=t.kr(n.key,n.newValue),!o){e.next=23;break}return e.abrupt("return",t.Mr(o));case 23:e.next=41;break;case 25:if(n.key!==t.mr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(u=t.pr(n.newValue),!u){e.next=30;break}return e.abrupt("return",t.Ir(u));case 30:e.next=41;break;case 32:if(n.key!==t.lr){e.next=37;break}s=function(e){var t=Ii.A;if(null!=e)try{var n=JSON.parse(e);li("number"==typeof n),t=n}catch(e){oi("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Ii.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.gr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Fr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Rr",get:function(){return this.ar.get(this.ir)}},{key:"yr",value:function(){this.setItem(this.hr,this.Rr.er())}},{key:"Er",value:function(e,t,n){var r=new af(this.currentUser,e,t,n),i=nf(this.persistenceKey,this.currentUser,e);this.setItem(i,r.er())}},{key:"Ar",value:function(e){var t=nf(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Pr",value:function(e){var t={clientId:this.ir,onlineState:e};this.storage.setItem(this.mr,JSON.stringify(t))}},{key:"br",value:function(e,t,n){var r=rf(this.persistenceKey,e),i=new of(e,t,n);this.setItem(r,i.er())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}},{key:"vr",value:function(e){var t=this.dr.exec(e);return t?t[1]:null}},{key:"Dr",value:function(e,t){var n=this.vr(e);return uf.tr(n,t)}},{key:"Cr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return af.tr(new ei(i),r,t)}},{key:"kr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]);return of.tr(r,t)}},{key:"pr",value:function(e){return sf.tr(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Nr",value:function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t){return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.$r(t.batchId,t.state,t.error));case 2:ai("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"Mr",value:function(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}},{key:"Sr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),a=this.Tr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Lr(o,u).then((function(){n.ar=r}))}},{key:"Ir",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Tr",value:function(e){var t=bu();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),ff=function(){function e(){(0,c.Z)(this,e),this.Ur=new cf,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return(0,l.Z)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.nr(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.sr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new cf,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),hf=function(){function e(){(0,c.Z)(this,e)}return(0,l.Z)(e,[{key:"Kr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),df=function(){function e(){var t=this;(0,c.Z)(this,e),this.Gr=function(){return t.Qr()},this.jr=function(){return t.Wr()},this.zr=[],this.Hr()}return(0,l.Z)(e,[{key:"Kr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}},{key:"Hr",value:function(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}},{key:"Qr",value:function(){ai("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=(0,u.Z)(this.zr);try{for(t.s();!(e=t.n()).done;){var n=e.value;n(0)}}catch(r){t.e(r)}finally{t.f()}}},{key:"Wr",value:function(){ai("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=(0,u.Z)(this.zr);try{for(t.s();!(e=t.n()).done;){var n=e.value;n(1)}}catch(r){t.e(r)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),pf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},vf=function(){function e(t){(0,c.Z)(this,e),this.Jr=t.Jr,this.Yr=t.Yr}return(0,l.Z)(e,[{key:"Xr",value:function(e){this.Zr=e}},{key:"eo",value:function(e){this.no=e}},{key:"onMessage",value:function(e){this.so=e}},{key:"close",value:function(){this.Yr()}},{key:"send",value:function(e){this.Jr(e)}},{key:"io",value:function(){this.Zr()}},{key:"ro",value:function(e){this.no(e)}},{key:"oo",value:function(e){this.so(e)}}]),e}(),gf=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r;return(0,c.Z)(this,n),r=t.call(this,e),r.forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return(0,l.Z)(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Xr;o.listenOnce(Hr.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Kr.NO_ERROR:var t=o.getResponseJson();ai("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Kr.TIMEOUT:ai("Connection",'RPC "'+e+'" timed out'),a(new pi(di.DEADLINE_EXCEEDED,"Request time out"));break;case Kr.HTTP_ERROR:var n=o.getStatus();if(ai("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(di).indexOf(t)>=0?t:di.UNKNOWN}(r.status);a(new pi(u,r.message))}else a(new pi(di.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new pi(di.UNAVAILABLE,"Connection failed."));break;default:ci()}}finally{ai("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=zr(),a=Gr(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Qr({})),this.lo(o.initMessageHeaders,t,n),(0,b.uI)()||(0,b.b$)()||(0,b.d)()||(0,b.w1)()||(0,b.Mn)()||(0,b.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");ai("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new vf({Jr:function(e){l?ai("Connection","Not sending because WebChannel is closed:",e):(c||(ai("Connection","Opening WebChannel transport."),s.open(),c=!0),ai("Connection","WebChannel sending:",e),s.send(e))},Yr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Jr.EventType.OPEN,(function(){l||ai("Connection","WebChannel transport opened.")})),h(s,Jr.EventType.CLOSE,(function(){l||(l=!0,ai("Connection","WebChannel transport closed"),f.ro())})),h(s,Jr.EventType.ERROR,(function(e){l||(l=!0,ui("Connection","WebChannel transport errored:",e),f.ro(new pi(di.UNAVAILABLE,"The operation could not be completed")))})),h(s,Jr.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];li(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){ai("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=iu[e];if(void 0!==t)return lu(t)}(a),u=i.message;void 0===o&&(o=di.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.ro(new pi(o,u)),s.close()}else ai("Connection","WebChannel received:",n),f.oo(n)}})),h(a,Wr.STAT_EVENT,(function(e){e.stat===Yr.PROXY?ai("Connection","Detected buffering proxy"):e.stat===Yr.NOPROXY&&ai("Connection","Detected no buffering proxy")})),setTimeout((function(){f.io()}),0),f}}]),n}(function(){function e(t){(0,c.Z)(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.uo=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return(0,l.Z)(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ho(e,t);ai("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return ai("RestConnection","Received: ",e),e}),(function(t){throw ui("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i){return this.co(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ti,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=pf[e];return"".concat(this.uo,"/v1/").concat(t,":").concat(n)}}]),e}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(){return"undefined"!=typeof window?window:null}function mf(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(e){return new Nu(e,!0)}var wf=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;(0,c.Z)(this,e),this.Yn=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return(0,l.Z)(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&ai("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),bf=function(){function e(t,n,r,i,a,o,u,s){(0,c.Z)(this,e),this.Yn=t,this.Vo=r,this.vo=i,this.So=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new wf(t,n)}return(0,l.Z)(e,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=(0,g.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=this.ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,(function(){return e.Bo()})))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var e=(0,g.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t,n){return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==t?this.No.reset():n&&n.code===di.RESOURCE_EXHAUSTED?(oi(n.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===di.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.eo(n);case 9:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,p.Z)(t,2),i=r[0],a=r[1];e.Do===n&&e.Qo(i,a)}),(function(n){t((function(){var t=new pi(di.UNKNOWN,"Fetching auth token failed: "+n.message);return e.jo(t)}))}))}},{key:"Qo",value:function(e,t){var n=this,r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.xo=n.Yn.enqueueAfterDelay(n.vo,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.eo((function(e){r((function(){return n.jo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.No.Ro((0,g.Z)((0,v.Z)().mark((function t(){return(0,v.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"jo",value:function(e){return ai("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Do===e?n():(ai("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),_f=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i,a,o,u){var s;return(0,c.Z)(this,n),s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u),s.M=o,s}return(0,l.Z)(n,[{key:"Wo",value:function(e,t){return this.So.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.No.reset();var t=Yu(this.M,e),n=function(e){if(!("targetChange"in e))return Ri.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Ri.min():t.readTime?Mu(t.readTime):Ri.min()}(e);return this.listener.zo(t,n)}},{key:"Ho",value:function(e){var t={};t.database=zu(this.M),t.addTarget=function(e,t){var n,r=t.target;return n=Ga(r)?{documents:$u(e,r)}:{query:es(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Pu(e,t.resumeToken):t.snapshotVersion.compareTo(Ri.min())>0&&(n.readTime=Du(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=ns(this.M,e);n&&(t.labels=n),this.Lo(t)}},{key:"Jo",value:function(e){var t={};t.database=zu(this.M),t.removeTarget=e,this.Lo(t)}}]),n}(bf),xf=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i,a,o,u){var s;return(0,c.Z)(this,n),s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u),s.M=o,s.Yo=!1,s}return(0,l.Z)(n,[{key:"Xo",get:function(){return this.Yo}},{key:"start",value:function(){this.Yo=!1,this.lastStreamToken=void 0,(0,h.Z)((0,d.Z)(n.prototype),"start",this).call(this)}},{key:"Ko",value:function(){this.Yo&&this.Zo([])}},{key:"Wo",value:function(e,t){return this.So.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(li(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();var t=Xu(e.writeResults,e.commitTime),n=Mu(e.commitTime);return this.listener.tu(n,t)}return li(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}},{key:"nu",value:function(){var e={};e.database=zu(this.M),this.Lo(e)}},{key:"Zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Qu(t.M,e)}))};this.Lo(n)}}]),n}(bf),If=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i,a){var o;return(0,c.Z)(this,n),o=t.call(this),o.authCredentials=e,o.appCheckCredentials=r,o.So=i,o.M=a,o.su=!1,o}return(0,l.Z)(n,[{key:"iu",value:function(){if(this.su)throw new pi(di.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,p.Z)(i,2),o=a[0],u=a[1];return r.So.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===di.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new pi(di.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,p.Z)(i,2),o=a[0],u=a[1];return r.So._o(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===di.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new pi(di.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.su=!0}}]),n}(function(){function e(){(0,c.Z)(this,e)}return(0,l.Z)(e)}()),Ef=function(){function e(t,n){(0,c.Z)(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return(0,l.Z)(e,[{key:"au",value:function(){var e=this;0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"lu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(oi(t),this.uu=!1):ai("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),e}(),Zf=(0,l.Z)((function e(t,n,r,i,a){var o=this;(0,c.Z)(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.Kr((function(e){r.enqueueAndForget((0,g.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=Mf(o),!e.t0){e.next=5;break}return ai("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t){var n;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=hi(t),n.wu.add(4),e.next=4,Af(n);case 4:return n.yu.set("Unknown"),n.wu.delete(4),e.next=8,Tf(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.yu=new Ef(r,i)}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(e){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,g.Z)((0,v.Z)().mark((function e(t){var n,r,i;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!Mf(t)){e.next=18;break}n=(0,u.Z)(t.mu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Sf.apply(this,arguments)}function Af(e){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,g.Z)((0,v.Z)().mark((function e(t){var n,r,i;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=(0,u.Z)(t.mu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Cf.apply(this,arguments)}function Rf(e,t){var n=hi(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),Lf(n)?Pf(n):hh(n).Mo()&&Nf(n,t))}function Of(e,t){var n=hi(e),r=hh(n);n._u.delete(t),r.Mo()&&Df(n,t),0===n._u.size&&(r.Mo()?r.$o():Mf(n)&&n.yu.set("Unknown"))}function Nf(e,t){e.pu.Z(t.targetId),hh(e).Ho(t)}function Df(e,t){e.pu.Z(t),hh(e).Jo(t)}function Pf(e){e.pu=new Su({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e._u.get(t)||null}}),hh(e).start(),e.yu.au()}function Lf(e){return Mf(e)&&!hh(e).ko()&&e._u.size>0}function Mf(e){return 0===hi(e).wu.size}function Uf(e){e.pu=void 0}function Ff(e){return jf.apply(this,arguments)}function jf(){return jf=(0,g.Z)((0,v.Z)().mark((function e(t){return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t._u.forEach((function(e,n){Nf(t,e)}));case 1:case"end":return e.stop()}}),e)}))),jf.apply(this,arguments)}function Vf(e,t){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,g.Z)((0,v.Z)().mark((function e(t,n){return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:Uf(t),Lf(t)?(t.yu.lu(n),Pf(t)):t.yu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Bf.apply(this,arguments)}function qf(e,t,n){return zf.apply(this,arguments)}function zf(){return zf=(0,g.Z)((0,v.Z)().mark((function e(t,n,r){var i;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.yu.set("Online"),!(n instanceof Zu&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t,n){var r,i,a,o;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=n.cause,i=(0,u.Z)(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t._u.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t._u.delete(o),t.pu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e["catch"](2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e["catch"](1),ai("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Gf(t,e.t0);case 11:e.next=29;break;case 13:if(n instanceof Iu?t.pu.ut(n):n instanceof Eu?t.pu._t(n):t.pu.ht(n),r.isEqual(Ri.min())){e.next=29;break}return e.prev=14,e.next=17,Al(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.pu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e._u.get(t);if(n){e._u.set(t,n.withResumeToken(Vi.EMPTY_BYTE_STRING,n.snapshotVersion)),Df(e,t);var r=new tc(n.target,t,1,n.sequenceNumber);Nf(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 22:e.next=29;break;case 24:return e.prev=24,e.t2=e["catch"](14),ai("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Gf(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),zf.apply(this,arguments)}function Gf(e,t,n){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,g.Z)((0,v.Z)().mark((function e(t,n,r){return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Gs(n)){e.next=2;break}throw n;case 2:return t.wu.add(1),e.next=5,Af(t);case 5:t.yu.set("Offline"),r||(r=function(){return Al(t.localStore)}),t.asyncQueue.enqueueRetryable((0,g.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return ai("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.wu.delete(1),e.next=6,Tf(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Kf.apply(this,arguments)}function Hf(e,t){return t().catch((function(n){return Gf(e,n,t)}))}function Wf(e){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,g.Z)((0,v.Z)().mark((function e(t){var n,r,i,a;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=hi(t),r=dh(n),i=n.du.length>0?n.du[n.du.length-1].batchId:-1;case 2:if(!Qf(n)){e.next=19;break}return e.prev=3,e.next=6,Ol(n.localStore,i);case 6:if(a=e.sent,null!==a){e.next=10;break}return 0===n.du.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,Jf(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e["catch"](3),e.next=17,Gf(n,e.t0);case 17:e.next=2;break;case 19:Xf(n)&&$f(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Yf.apply(this,arguments)}function Qf(e){return Mf(e)&&e.du.length<10}function Jf(e,t){e.du.push(t);var n=dh(e);n.Mo()&&n.Xo&&n.Zo(t.mutations)}function Xf(e){return Mf(e)&&!dh(e).ko()&&e.du.length>0}function $f(e){dh(e).start()}function eh(e){return th.apply(this,arguments)}function th(){return th=(0,g.Z)((0,v.Z)().mark((function e(t){return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:dh(t).nu();case 1:case"end":return e.stop()}}),e)}))),th.apply(this,arguments)}function nh(e){return rh.apply(this,arguments)}function rh(){return rh=(0,g.Z)((0,v.Z)().mark((function e(t){var n,r,i,a;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=dh(t),r=(0,u.Z)(t.du);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),rh.apply(this,arguments)}function ih(e,t,n){return ah.apply(this,arguments)}function ah(){return ah=(0,g.Z)((0,v.Z)().mark((function e(t,n,r){var i,a;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.du.shift(),a=$s.from(i,n,r),e.next=3,Hf(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Wf(t);case 5:case"end":return e.stop()}}),e)}))),ah.apply(this,arguments)}function oh(e,t){return uh.apply(this,arguments)}function uh(){return uh=(0,g.Z)((0,v.Z)().mark((function e(t,n){return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=n&&dh(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t,n){var r,i;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=n.code,!cu(i)||i===di.ABORTED){e.next=7;break}return r=t.du.shift(),dh(t).Fo(),e.next=5,Hf(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Wf(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Xf(t)&&$f(t);case 5:case"end":return e.stop()}}),e)}))),uh.apply(this,arguments)}function sh(e,t){return ch.apply(this,arguments)}function ch(){return ch=(0,g.Z)((0,v.Z)().mark((function e(t,n){var r,i;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=hi(t),r.asyncQueue.verifyOperationInProgress(),ai("RemoteStore","RemoteStore received new credentials"),i=Mf(r),r.wu.add(3),e.next=6,Af(r);case 6:return i&&r.yu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.wu.delete(3),e.next=12,Tf(r);case 12:case"end":return e.stop()}}),e)}))),ch.apply(this,arguments)}function lh(e,t){return fh.apply(this,arguments)}function fh(){return fh=(0,g.Z)((0,v.Z)().mark((function e(t,n){var r;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=hi(t),!n){e.next=7;break}return r.wu.delete(2),e.next=5,Tf(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.wu.add(2),e.next=12,Af(r);case 12:r.yu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),fh.apply(this,arguments)}function hh(e){return e.Iu||(e.Iu=function(e,t,n){var r=hi(e);return r.iu(),new _f(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(e.datastore,e.asyncQueue,{Xr:Ff.bind(null,e),eo:Vf.bind(null,e),zo:qf.bind(null,e)}),e.mu.push(function(){var t=(0,g.Z)((0,v.Z)().mark((function t(n){return(0,v.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Iu.Fo(),Lf(e)?Pf(e):e.yu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Iu.stop();case 6:Uf(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}function dh(e){return e.Tu||(e.Tu=function(e,t,n){var r=hi(e);return r.iu(),new xf(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:eh.bind(null,e),eo:oh.bind(null,e),eu:nh.bind(null,e),tu:ih.bind(null,e)}),e.mu.push(function(){var t=(0,g.Z)((0,v.Z)().mark((function t(n){return(0,v.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Tu.Fo(),t.next=4,Wf(e);case 4:t.next=9;break;case 6:return t.next=8,e.Tu.stop();case 8:e.du.length>0&&(ai("RemoteStore","Stopping write stream with ".concat(e.du.length," pending writes")),e.du=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var ph=function(){function e(t,n,r,i,a){(0,c.Z)(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return(0,l.Z)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new pi(di.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=Date.now()+r,u=new e(t,n,o,i,a);return u.start(r),u}}]),e}();function vh(e,t){if(oi("AsyncQueue","".concat(t,": ").concat(e)),Gs(e))return new pi(di.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gh=function(){function e(t){(0,c.Z)(this,e),this.comparator=t?function(e,n){return t(e,n)||ea.comparator(e.key,n.key)}:function(e,t){return ea.comparator(e.key,t.key)},this.keyedMap=vu(),this.sortedSet=new Da(this.comparator)}return(0,l.Z)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),yh=function(){function e(){(0,c.Z)(this,e),this.Eu=new Da(ea.comparator)}return(0,l.Z)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):ci():this.Eu=this.Eu.insert(t,e)}},{key:"Au",value:function(){var e=[];return this.Eu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),mh=function(){function e(t,n,r,i,a,o,u,s){(0,c.Z)(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return(0,l.Z)(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,gh.emptySet(n),a,r,i,!0,!1)}}]),e}(),kh=(0,l.Z)((function e(){(0,c.Z)(this,e),this.Ru=void 0,this.listeners=[]})),wh=(0,l.Z)((function e(){(0,c.Z)(this,e),this.queries=new fu((function(e){return bo(e)}),wo),this.onlineState="Unknown",this.bu=new Set}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(e,t){return _h.apply(this,arguments)}function _h(){return _h=(0,g.Z)((0,v.Z)().mark((function e(t,n){var r,i,a,o,u;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=hi(t),i=n.query,a=!1,o=r.queries.get(i),o||(a=!0,o=new kh),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Ru=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](3),u=vh(e.t0,"Initialization of query '".concat(_o(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.Ru&&n.Vu(o.Ru)&&Th(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),_h.apply(this,arguments)}function xh(e,t){return Ih.apply(this,arguments)}function Ih(){return Ih=(0,g.Z)((0,v.Z)().mark((function e(t,n){var r,i,a,o,u;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=hi(t),i=n.query,a=!1,o=r.queries.get(i),o&&(u=o.listeners.indexOf(n),u>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length)),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Ih.apply(this,arguments)}function Eh(e,t){var n,r=hi(e),i=!1,a=(0,u.Z)(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,c=r.queries.get(s);if(c){var l,f=(0,u.Z)(c.listeners);try{for(f.s();!(l=f.n()).done;){var h=l.value;h.Vu(o)&&(i=!0)}}catch(d){f.e(d)}finally{f.f()}c.Ru=o}}}catch(d){a.e(d)}finally{a.f()}i&&Th(r)}function Zh(e,t,n){var r=hi(e),i=r.queries.get(t);if(i){var a,o=(0,u.Z)(i.listeners);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.onError(n)}}catch(c){o.e(c)}finally{o.f()}}r.queries.delete(t)}function Th(e){e.bu.forEach((function(e){e.next()}))}var Sh=function(){function e(t,n,r){(0,c.Z)(this,e),this.query=t,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}return(0,l.Z)(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=(0,u.Z)(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new mh(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),a=!0):this.xu(e,this.onlineState)&&(this.Nu(e),a=!0),this.Du=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}},{key:"xu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.ku||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Cu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Nu",value:function(e){e=mh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}]),e}(),Ah=function(){function e(t,n){(0,c.Z)(this,e),this.payload=t,this.byteLength=n}return(0,l.Z)(e,[{key:"Mu",value:function(){return"metadata"in this.payload}}]),e}(),Ch=function(){function e(t){(0,c.Z)(this,e),this.M=t}return(0,l.Z)(e,[{key:"wi",value:function(e){return Vu(this.M,e)}},{key:"mi",value:function(e){return e.metadata.exists?Hu(this.M,e.document,!1):Ia.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}},{key:"gi",value:function(e){return Mu(e)}}]),e}(),Rh=function(){function e(t,n,r){(0,c.Z)(this,e),this.Ou=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Oh(t)}return(0,l.Z)(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Li.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new Ch(this.M),i=(0,u.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.wi(a.metadata.name),c=(0,u.Z)(a.metadata.queries);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=(n.get(l)||ku()).add(s);n.set(l,f)}}catch(h){c.e(h)}finally{c.f()}}}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"complete",value:function(){var e=(0,g.Z)((0,v.Z)().mark((function e(){var t,n,r,i,a;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,jl(this.localStore,new Ch(this.M),this.documents,this.Ou.id);case 2:t=e.sent,n=this.$u(this.documents),r=(0,u.Z)(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Bl(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));function t(){return e.apply(this,arguments)}return t}()}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nh=(0,l.Z)((function e(t){(0,c.Z)(this,e),this.key=t})),Dh=(0,l.Z)((function e(t){(0,c.Z)(this,e),this.key=t})),Ph=function(){function e(t,n){(0,c.Z)(this,e),this.query=t,this.Uu=n,this.qu=null,this.current=!1,this.Ku=ku(),this.mutatedKeys=ku(),this.Gu=Eo(t),this.Qu=new gh(this.Gu)}return(0,l.Z)(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new yh,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=xo(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,ii:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Au();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ci()}};return n(e)-n(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new mh(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1),Xu:o}:{Xu:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new yh,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=ku(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new Dh(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new Nh(e))})),n}},{key:"ta",value:function(e){this.Uu=e._i,this.Ku=ku();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ea",value:function(){return mh.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}]),e}(),Lh=(0,l.Z)((function e(t,n,r){(0,c.Z)(this,e),this.query=t,this.targetId=n,this.view=r})),Mh=(0,l.Z)((function e(t){(0,c.Z)(this,e),this.key=t,this.na=!1})),Uh=function(){function e(t,n,r,i,a,o){(0,c.Z)(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new fu((function(e){return bo(e)}),wo),this.ra=new Map,this.oa=new Set,this.ua=new Da(ea.comparator),this.aa=new Map,this.ca=new Kl,this.ha={},this.la=new Map,this.fa=Hc.yn(),this.onlineState="Unknown",this.da=void 0}return(0,l.Z)(e,[{key:"isPrimaryClient",get:function(){return!0===this.da}}]),e}();function Fh(e,t){return jh.apply(this,arguments)}function jh(){return jh=(0,g.Z)((0,v.Z)().mark((function e(t,n){var r,i,a,o,u,s;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=Od(t),o=r.ia.get(n),!o){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ea(),e.next=15;break;case 6:return e.next=8,Nl(r.localStore,mo(n));case 8:return u=e.sent,r.isPrimaryClient&&Rf(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,Vh(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),jh.apply(this,arguments)}function Vh(e,t,n,r){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,g.Z)((0,v.Z)().mark((function e(t,n,r,i){var a,o,u,s,c,l;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t._a=function(e,n,r){return function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t,n,r,i){var a,o,u;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.ii,!e.t0){e.next=6;break}return e.next=5,Ll(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(sd(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Ll(t.localStore,n,!0);case 3:return a=e.sent,o=new Ph(n,a._i),u=o.Wu(a.documents),s=xu.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),sd(t,r,c.Xu),l=new Lh(n,r,o),e.abrupt("return",(t.ia.set(n,l),t.ra.has(r)?t.ra.get(r).push(n):t.ra.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Bh.apply(this,arguments)}function qh(e,t){return zh.apply(this,arguments)}function zh(){return zh=(0,g.Z)((0,v.Z)().mark((function e(t,n){var r,i,a;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=hi(t),i=r.ia.get(n),a=r.ra.get(i.targetId),!(a.length>1)){e.next=3;break}return e.abrupt("return",(r.ra.set(i.targetId,a.filter((function(e){return!wo(e,n)}))),void r.ia.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Dl(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Of(r.remoteStore,i.targetId),od(r,i.targetId)})).catch(Xc);case 9:e.next=14;break;case 11:return od(r,i.targetId),e.next=14,Dl(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),zh.apply(this,arguments)}function Gh(e,t,n){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,g.Z)((0,v.Z)().mark((function e(t,n,r){var i,a,o;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=Nd(t),e.prev=1,e.next=4,function(e,t){var n,r=hi(e),i=Ci.now(),a=t.reduce((function(e,t){return e.add(t.key)}),ku());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.fi.Ks(e,a).next((function(a){n=a;var o,s=[],c=(0,u.Z)(t);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=Qo(l,n.get(l.key));null!=f&&s.push(new eu(l.key,f,xa(f.value.mapValue),Go.exists(!0)))}}catch(h){c.e(h)}finally{c.f()}return r.Bs.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ha[e.currentUser.toKey()];r||(r=new Da(Ti)),r=r.insert(t,n),e.ha[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,fd(i,a.changes);case 9:return e.next=11,Wf(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](1),o=vh(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Kh.apply(this,arguments)}function Hh(e,t){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,g.Z)((0,v.Z)().mark((function e(t,n){var r,i;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=hi(t),e.prev=1,e.next=4,Cl(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.aa.get(t);n&&(li(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.na=!0:e.modifiedDocuments.size>0?li(n.na):e.removedDocuments.size>0&&(li(n.na),n.na=!1))})),e.next=8,fd(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e["catch"](1),e.next=14,Xc(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Wh.apply(this,arguments)}function Yh(e,t,n){var r=hi(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ia.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=hi(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=(0,u.Z)(n.listeners);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.Pu(t)&&(r=!0)}}catch(s){a.e(s)}finally{a.f()}})),r&&Th(n)}(r.eventManager,t),i.length&&r.sa.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Qh(e,t,n){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,g.Z)((0,v.Z)().mark((function e(t,n,r){var i,a,o,u,s,c;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=hi(t),i.sharedClientState.updateQueryState(n,"rejected",r),a=i.aa.get(n),o=a&&a.key,!o){e.next=14;break}return u=new Da(ea.comparator),u=u.insert(o,Ia.newNoDocument(o,Ri.min())),s=ku().add(o),c=new _u(Ri.min(),new Map,new Ma(Ti),u,s),e.next=9,Hh(i,c);case 9:i.ua=i.ua.remove(o),i.aa.delete(n),ld(i),e.next=16;break;case 14:return e.next=16,Dl(i.localStore,n,!1).then((function(){return od(i,n,r)})).catch(Xc);case 16:case"end":return e.stop()}}),e)}))),Jh.apply(this,arguments)}function Xh(e,t){return $h.apply(this,arguments)}function $h(){return $h=(0,g.Z)((0,v.Z)().mark((function e(t,n){var r,i,a;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=hi(t),i=n.batch.batchId,e.prev=1,e.next=4,Sl(r.localStore,n);case 4:return a=e.sent,ad(r,i,null),id(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,fd(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e["catch"](1),e.next=16,Xc(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),$h.apply(this,arguments)}function ed(e,t,n){return td.apply(this,arguments)}function td(){return td=(0,g.Z)((0,v.Z)().mark((function e(t,n,r){var i,a;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=hi(t),e.prev=1,e.next=4,function(e,t){var n=hi(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return li(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,ad(i,n,r),id(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,fd(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e["catch"](1),e.next=16,Xc(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),td.apply(this,arguments)}function nd(e,t){return rd.apply(this,arguments)}function rd(){return rd=(0,g.Z)((0,v.Z)().mark((function e(t,n){var r,i,a,o;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=hi(t),Mf(r.remoteStore)||ai("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=hi(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(i=e.sent,-1!==i){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:a=r.la.get(i)||[],a.push(n),r.la.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](2),o=vh(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),rd.apply(this,arguments)}function id(e,t){(e.la.get(t)||[]).forEach((function(e){e.resolve()})),e.la.delete(t)}function ad(e,t,n){var r=hi(e),i=r.ha[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ha[r.currentUser.toKey()]=i}}function od(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=(0,u.Z)(e.ra.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ia.delete(a),n&&e.sa.wa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ra.delete(t),e.isPrimaryClient&&e.ca.vi(t).forEach((function(t){e.ca.containsKey(t)||ud(e,t)}))}function ud(e,t){e.oa.delete(t.path.canonicalString());var n=e.ua.get(t);null!==n&&(Of(e.remoteStore,n),e.ua=e.ua.remove(t),e.aa.delete(n),ld(e))}function sd(e,t,n){var r,i=(0,u.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Nh?(e.ca.addReference(a.key,t),cd(e,a)):a instanceof Dh?(ai("SyncEngine","Document no longer in limbo: "+a.key),e.ca.removeReference(a.key,t),e.ca.containsKey(a.key)||ud(e,a.key)):ci()}}catch(o){i.e(o)}finally{i.f()}}function cd(e,t){var n=t.key,r=n.path.canonicalString();e.ua.get(n)||e.oa.has(r)||(ai("SyncEngine","New document in limbo: "+n),e.oa.add(r),ld(e))}function ld(e){for(;e.oa.size>0&&e.ua.size<e.maxConcurrentLimboResolutions;){var t=e.oa.values().next().value;e.oa.delete(t);var n=new ea(Li.fromString(t)),r=e.fa.next();e.aa.set(r,new Mh(n)),e.ua=e.ua.insert(n,r),Rf(e.remoteStore,new tc(mo(fo(n.path)),r,2,Ii.A))}}function fd(e,t,n){return hd.apply(this,arguments)}function hd(){return hd=(0,g.Z)((0,v.Z)().mark((function e(t,n,r){var i,a,o,s;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=hi(t),a=[],o=[],s=[],e.t0=i.ia.isEmpty(),e.t0){e.next=9;break}return i.ia.forEach((function(e,t){s.push(i._a(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=_l.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.sa.zo(a),e.next=9,function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t,n){var r,i,a,o,s,c,l,f;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=hi(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return js.forEach(n,(function(t){return js.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return js.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e["catch"](1),Gs(e.t0)){e.next=10;break}throw e.t0;case 10:ai("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=(0,u.Z)(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(c=r.ui.get(s),l=c.snapshotVersion,f=c.withLastLimboFreeSnapshotVersion(l),r.ui=r.ui.insert(s,f))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),hd.apply(this,arguments)}function dd(e,t){return pd.apply(this,arguments)}function pd(){return pd=(0,g.Z)((0,v.Z)().mark((function e(t,n){var r,i;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=hi(t),r.currentUser.isEqual(n)){e.next=11;break}return ai("SyncEngine","User change. New user:",n.toKey()),e.next=5,Zl(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.la.forEach((function(e){e.forEach((function(e){e.reject(new pi(di.CANCELLED,t))}))})),e.la.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,fd(r,i.di);case 11:case"end":return e.stop()}}),e)}))),pd.apply(this,arguments)}function vd(e,t){var n=hi(e),r=n.aa.get(t);if(r&&r.na)return ku().add(r.key);var i=ku(),a=n.ra.get(t);if(!a)return i;var o,s=(0,u.Z)(a);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=n.ia.get(c);i=i.unionWith(l.view.ju)}}catch(f){s.e(f)}finally{s.f()}return i}function gd(e,t){return yd.apply(this,arguments)}function yd(){return yd=(0,g.Z)((0,v.Z)().mark((function e(t,n){var r,i,a;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=hi(t),e.next=3,Ll(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ta(i),e.abrupt("return",(r.isPrimaryClient&&sd(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),yd.apply(this,arguments)}function md(e,t){return kd.apply(this,arguments)}function kd(){return kd=(0,g.Z)((0,v.Z)().mark((function e(t,n){var r;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=hi(t),e.abrupt("return",Ul(r.localStore,n).then((function(e){return fd(r,e)})));case 2:case"end":return e.stop()}}),e)}))),kd.apply(this,arguments)}function wd(e,t,n,r){return bd.apply(this,arguments)}function bd(){return bd=(0,g.Z)((0,v.Z)().mark((function e(t,n,r,i){var a,o;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=hi(t),e.next=3,function(e,t){var n=hi(e),r=hi(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.fi.Ks(e,t):js.resolve(null)}))}))}(a.localStore,n);case 3:if(o=e.sent,null===o){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Wf(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(ad(a,n,i||null),id(a,n),function(e,t){hi(hi(e).Bs)._n(t)}(a.localStore,n)):ci();case 11:return e.next=13,fd(a,o);case 13:e.next=16;break;case 15:ai("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),bd.apply(this,arguments)}function _d(e,t){return xd.apply(this,arguments)}function xd(){return xd=(0,g.Z)((0,v.Z)().mark((function e(t,n){var r,i,a,o,s,c,l,f;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=hi(t),Od(r),Nd(r),!0!==n||!0===r.da){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Id(r,i.toArray());case 5:return a=e.sent,r.da=!0,e.next=9,lh(r.remoteStore,!0);case 9:o=(0,u.Z)(a);try{for(o.s();!(s=o.n()).done;)c=s.value,Rf(r.remoteStore,c)}catch(h){o.e(h)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.da){e.next=25;break}return l=[],f=Promise.resolve(),r.ra.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?l.push(t):f=f.then((function(){return od(r,t),Dl(r.localStore,t,!0)})),Of(r.remoteStore,t)})),e.next=19,f;case 19:return e.next=21,Id(r,l);case 21:return function(e){var t=hi(e);t.aa.forEach((function(e,n){Of(t.remoteStore,n)})),t.ca.Si(),t.aa=new Map,t.ua=new Da(ea.comparator)}(r),r.da=!1,e.next=25,lh(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),xd.apply(this,arguments)}function Id(e,t,n){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,g.Z)((0,v.Z)().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d,p,g,y,m,k;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=hi(t),a=[],o=[],s=(0,u.Z)(n),e.prev=2,s.s();case 4:if((c=s.n()).done){e.next=45;break}if(l=c.value,f=void 0,h=i.ra.get(l),!h||0===h.length){e.next=34;break}return e.next=11,Nl(i.localStore,mo(h[0]));case 11:f=e.sent,d=(0,u.Z)(h),e.prev=13,d.s();case 15:if((p=d.n()).done){e.next=24;break}return g=p.value,y=i.ia.get(g),e.next=20,gd(i,y);case 20:m=e.sent,m.snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e["catch"](13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Ml(i.localStore,l);case 36:return k=e.sent,e.next=39,Nl(i.localStore,k);case 39:return f=e.sent,e.next=42,Vh(i,Zd(k),l,!1);case 42:a.push(f);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e["catch"](2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.sa.zo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Ed.apply(this,arguments)}function Zd(e){return lo(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Td(e){var t=hi(e);return hi(hi(t.localStore).persistence).Fs()}function Sd(e,t,n,r){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,g.Z)((0,v.Z)().mark((function e(t,n,r,i){var a,o,u,s;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=hi(t),!a.da){e.next=3;break}return e.abrupt("return",void ai("SyncEngine","Ignoring unexpected query state notification."));case 3:if(o=a.ra.get(n),!(o&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Ul(a.localStore,Io(o[0]));case 10:return u=e.sent,s=_u.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,fd(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Dl(a.localStore,n,!0);case 17:return od(a,n,i),e.abrupt("break",20);case 19:ci();case 20:case"end":return e.stop()}}),e)}))),Ad.apply(this,arguments)}function Cd(e,t,n){return Rd.apply(this,arguments)}function Rd(){return Rd=(0,g.Z)((0,v.Z)().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=Od(t),!i.da){e.next=45;break}a=(0,u.Z)(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.ra.has(s)){e.next=10;break}return ai("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Ml(i.localStore,s);case 12:return c=e.sent,e.next=15,Nl(i.localStore,c);case 15:return l=e.sent,e.next=18,Vh(i,Zd(c),l.targetId,!1);case 18:Rf(i.remoteStore,l);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e["catch"](3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:f=(0,u.Z)(r),e.prev=30,d=(0,v.Z)().mark((function e(){var t;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i.ra.has(t),!e.t0){e.next=5;break}return e.next=5,Dl(i.localStore,t,!1).then((function(){Of(i.remoteStore,t),od(i,t)})).catch(Xc);case 5:case"end":return e.stop()}}),e)})),f.s();case 33:if((h=f.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e["catch"](30),f.e(e.t2);case 42:return e.prev=42,f.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Rd.apply(this,arguments)}function Od(e){var t=hi(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Hh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Qh.bind(null,t),t.sa.zo=Eh.bind(null,t.eventManager),t.sa.wa=Zh.bind(null,t.eventManager),t}function Nd(e){var t=hi(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Xh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ed.bind(null,t),t}function Dd(e,t,n){var r=hi(e);(function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t,n,r){var i,a,o,u,s;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=hi(e),r=Mu(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Oh(i)),a=new Rh(i,t.localStore,n.M),e.next=15,n.ma();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return u=e.sent,u&&r._updateProgress(u),e.next=23,n.ma();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,fd(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=hi(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e["catch"](0),e.abrupt("return",(ui("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var Pd=function(){function e(){(0,c.Z)(this,e),this.synchronizeTabs=!1}return(0,l.Z)(e,[{key:"initialize",value:function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t){return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.M=kf(t.databaseInfo.databaseId),this.sharedClientState=this.ga(t),this.persistence=this.ya(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.pa(t),this.localStore=this.Ia(t);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"pa",value:function(e){return null}},{key:"Ia",value:function(e){return El(this.persistence,new xl,e.initialUser,this.M)}},{key:"ya",value:function(e){return new Xl(ef.Yi,this.M)}},{key:"ga",value:function(e){return new ff}},{key:"terminate",value:function(){var e=(0,g.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),Ld=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),a=t.call(this),a.Ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return(0,l.Z)(n,[{key:"initialize",value:function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t){var r=this;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,h.Z)((0,d.Z)(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ta.initialize(this,t);case 4:return e.next=6,Nd(this.Ta.syncEngine);case 6:return e.next=8,Wf(this.Ta.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"Ia",value:function(e){return El(this.persistence,new xl,e.initialUser,this.M)}},{key:"pa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new nl(t,e.asyncQueue)}},{key:"ya",value:function(e){var t=wl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Fc.withCacheSize(this.cacheSizeBytes):Fc.DEFAULT;return new yl(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,yf(),mf(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"ga",value:function(e){return new ff}}]),n}(Pd),Md=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),i=t.call(this,e,r,!1),i.Ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return(0,l.Z)(n,[{key:"initialize",value:function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t){var r,i=this;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,h.Z)((0,d.Z)(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ta.syncEngine,e.t0=this.sharedClientState instanceof lf,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={$r:wd.bind(null,r),Br:Sd.bind(null,r),Lr:Cd.bind(null,r),Fs:Td.bind(null,r),Fr:md.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t){return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_d(i.Ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"ga",value:function(e){var t=yf();if(!lf.vt(t))throw new pi(di.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=wl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new lf(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Ld),Ud=function(){function e(){(0,c.Z)(this,e)}return(0,l.Z)(e,[{key:"initialize",value:function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t,n){var r=this;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Yh(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=dd.bind(null,this.syncEngine),e.next=12,lh(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"createEventManager",value:function(e){return new wh}},{key:"createDatastore",value:function(e){var t,n=kf(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new gf(t));return function(e,t,n,r){return new If(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Yh(o.syncEngine,e,0)},a=df.vt()?new df:new hf,new Zf(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Uh(e,t,n,r,i,a);return o&&(u.da=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t){var n;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=hi(t),ai("RemoteStore","RemoteStore shutting down."),n.wu.add(5),e.next=5,Af(n);case 5:n.gu.shutdown(),n.yu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Fd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return(0,g.Z)((0,v.Z)().mark((function r(){var i;return(0,v.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return(0,g.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jd=function(){function e(t){(0,c.Z)(this,e),this.observer=t,this.muted=!1}return(0,l.Z)(e,[{key:"next",value:function(e){this.observer.next&&this.Ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Aa",value:function(){this.muted=!0}},{key:"Ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Vd=function(){function e(t,n){var r=this;(0,c.Z)(this,e),this.Ra=t,this.M=n,this.metadata=new vi,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then((function(e){e&&e.Mu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return(0,l.Z)(e,[{key:"close",value:function(){return this.Ra.cancel()}},{key:"getMetadata",value:function(){var e=(0,g.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"ma",value:function(){var e=(0,g.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Pa());case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Pa",value:function(){var e=(0,g.Z)((0,v.Z)().mark((function e(){var t,n,r,i;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.Va();case 2:if(t=e.sent,null!==t){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ba.decode(t),r=Number(n),isNaN(r)&&this.va("length string (".concat(n,") is not valid number")),e.next=9,this.Sa(r);case 9:return i=e.sent,e.abrupt("return",new Ah(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Da",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Va",value:function(){var e=(0,g.Z)((0,v.Z)().mark((function e(){var t,n;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.Da()<0)){e.next=7;break}return e.next=3,this.Ca();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return t=this.Da(),t<0&&this.va("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Sa",value:function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t){var n;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ca();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.va("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ba.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"va",value:function(e){throw this.Ra.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ca",value:function(){var e=(0,g.Z)((0,v.Z)().mark((function e(){var t,n;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.Ra.read();case 2:return t=e.sent,t.done||(n=new Uint8Array(this.buffer.length+t.value.length),n.set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),Bd=function(){function e(t){(0,c.Z)(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return(0,l.Z)(e,[{key:"lookup",value:function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t){var n,r=this;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new pi(di.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t,n){var r,i,a,o,u,s;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=hi(t),i=zu(r.M)+"/documents",a={documents:n.map((function(e){return ju(r.M,e)}))},e.next=5,r._o("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Wu(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());li(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new ou(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=(0,g.Z)((0,v.Z)().mark((function e(){var t,n=this;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=ea.fromPath(t);n.mutations.push(new uu(r,n.precondition(r)))})),e.next=7,function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t,n){var r,i,a;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=hi(t),i=zu(r.M)+"/documents",a={writes:n.map((function(e){return Qu(r.M,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ci();t=Ri.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new pi(di.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Go.updateTime(t):Go.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ri.min()))throw new pi(di.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Go.updateTime(t)}return Go.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),qd=function(){function e(t,n,r,i,a){(0,c.Z)(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.xa=r.maxAttempts,this.No=new wf(this.asyncQueue,"transaction_retry")}return(0,l.Z)(e,[{key:"run",value:function(){this.xa-=1,this.Na()}},{key:"Na",value:function(){var e=this;this.No.Ro((0,g.Z)((0,v.Z)().mark((function t(){var n,r;return(0,v.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=new Bd(e.datastore),r=e.ka(n),r&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ma(t)}))}))})).catch((function(t){e.Ma(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"ka",value:function(e){try{var t=this.updateFunction(e);return!Ji(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ma",value:function(e){var t=this;this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Na(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Oa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!cu(t)}return!1}}]),e}(),zd=function(){function e(t,n,r,i){var a=this;(0,c.Z)(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ei.UNAUTHENTICATED,this.clientId=Zi.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t){return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return ai("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return ai("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return(0,l.Z)(e,[{key:"getConfiguration",value:function(){var e=(0,g.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new pi(di.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,g.Z)((0,v.Z)().mark((function n(){var r;return(0,v.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n["catch"](0),r=vh(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(e,t){return Kd.apply(this,arguments)}function Kd(){return Kd=(0,g.Z)((0,v.Z)().mark((function e(t,n){var r,i;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),ai("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t){return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Zl(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Kd.apply(this,arguments)}function Hd(e,t){return Wd.apply(this,arguments)}function Wd(){return Wd=(0,g.Z)((0,v.Z)().mark((function e(t,n){var r,i;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Yd(t);case 3:return r=e.sent,ai("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return sh(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return sh(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Wd.apply(this,arguments)}function Yd(e){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,g.Z)((0,v.Z)().mark((function e(t){return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return ai("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Gd(t,new Pd);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Qd.apply(this,arguments)}function Jd(e){return Xd.apply(this,arguments)}function Xd(){return Xd=(0,g.Z)((0,v.Z)().mark((function e(t){return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return ai("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Hd(t,new Ud);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Xd.apply(this,arguments)}function $d(e){return Yd(e).then((function(e){return e.persistence}))}function ep(e){return Yd(e).then((function(e){return e.localStore}))}function tp(e){return Jd(e).then((function(e){return e.remoteStore}))}function np(e){return Jd(e).then((function(e){return e.syncEngine}))}function rp(e){return ip.apply(this,arguments)}function ip(){return ip=(0,g.Z)((0,v.Z)().mark((function e(t){var n,r;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Jd(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Fh.bind(null,n.syncEngine),r.onUnlisten=qh.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),ip.apply(this,arguments)}function ap(e){return e.asyncQueue.enqueue((0,g.Z)((0,v.Z)().mark((function t(){var n,r;return(0,v.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$d(e);case 2:return n=t.sent,t.next=5,tp(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=hi(e);return t.wu.delete(0),Tf(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}function op(e){return e.asyncQueue.enqueue((0,g.Z)((0,v.Z)().mark((function t(){var n,r;return(0,v.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$d(e);case 2:return n=t.sent,t.next=5,tp(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t){var n;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=hi(t),n.wu.add(0),e.next=4,Af(n);case 4:n.yu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}function up(e,t){var n=new vi;return e.asyncQueue.enqueueAndForget((0,g.Z)((0,v.Z)().mark((function r(){return(0,v.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.t0=function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t,n,r){var i,a;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=hi(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.fi.Ls(e,t)}))}(t,n);case 3:i=e.sent,i.isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new pi(di.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),a=vh(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,ep(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}function sp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new vi;return e.asyncQueue.enqueueAndForget((0,g.Z)((0,v.Z)().mark((function i(){return(0,v.Z)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new jd({next:function(a){t.enqueueAndForget((function(){return xh(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new pi(di.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new pi(di.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Sh(fo(n.path),a,{includeMetadataChanges:!0,ku:!0});return bh(e,o)},i.next=3,rp(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function cp(e,t){var n=new vi;return e.asyncQueue.enqueueAndForget((0,g.Z)((0,v.Z)().mark((function r(){return(0,v.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.t0=function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t,n,r){var i,a,o,u,s;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ll(t,n,!0);case 3:i=e.sent,a=new Ph(n,i._i),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](0),s=vh(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,ep(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}function lp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new vi;return e.asyncQueue.enqueueAndForget((0,g.Z)((0,v.Z)().mark((function i(){return(0,v.Z)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new jd({next:function(n){t.enqueueAndForget((function(){return xh(e,o)})),n.fromCache&&"server"===r.source?i.reject(new pi(di.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Sh(n,a,{includeMetadataChanges:!0,ku:!0});return bh(e,o)},i.next=3,rp(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function fp(e,t){var n=new jd(t);return e.asyncQueue.enqueueAndForget((0,g.Z)((0,v.Z)().mark((function t(){return(0,v.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=function(e,t){hi(e).bu.add(t),t.next()},t.next=3,rp(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Aa(),e.asyncQueue.enqueueAndForget((0,g.Z)((0,v.Z)().mark((function t(){return(0,v.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=function(e,t){hi(e).bu.delete(t)},t.next=3,rp(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}function hp(e,t,n){var r=new vi;return e.asyncQueue.enqueueAndForget((0,g.Z)((0,v.Z)().mark((function i(){var a;return(0,v.Z)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,function(e){return Jd(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new qd(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}function dp(e,t,n,r){var i=function(e,t){var n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new Vd(e,t)}(function(e,t){if(e instanceof Uint8Array)return Fd(e,t);if(e instanceof ArrayBuffer)return Fd(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,kf(t));e.asyncQueue.enqueueAndForget((0,g.Z)((0,v.Z)().mark((function t(){return(0,v.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=Dd,t.next=3,np(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}function pp(e,t){return e.asyncQueue.enqueue((0,g.Z)((0,v.Z)().mark((function n(){return(0,v.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=hi(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,ep(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}var vp=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(e,t,n){if(!n)throw new pi(di.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function yp(e,t,n,r){if(!0===t&&!0===r)throw new pi(di.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function mp(e){if(!ea.isDocumentKey(e))throw new pi(di.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function kp(e){if(ea.isDocumentKey(e))throw new pi(di.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function wp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==(0,s.Z)(e)){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ci()}function bp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new pi(di.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=wp(e);throw new pi(di.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function _p(e,t){if(t<=0)throw new pi(di.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xp=function(){function e(t){var n;if((0,c.Z)(this,e),void 0===t.host){if(void 0!==t.ssl)throw new pi(di.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new pi(di.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,yp("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return(0,l.Z)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Ip=function(){function e(t,n,r){(0,c.Z)(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xp({}),this._settingsFrozen=!1,t instanceof Qi?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new pi(di.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qi(e.options.projectId)}(t))}return(0,l.Z)(e,[{key:"app",get:function(){if(!this._app)throw new pi(di.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new pi(di.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xp(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new yi;switch(e.type){case"gapi":var t=e.client;return li(!("object"!=(0,s.Z)(t)||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new bi(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new pi(di.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=vp.get(e);t&&(ai("ComponentProvider","Removing Datastore"),vp.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=bp(e,Ip))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&ui("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=ei.MOCK_USER;else{o=(0,b.Sg)(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new pi(di.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ei(s)}e._authCredentials=new mi(new gi(o,u))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zp=function(){function e(t,n,r){(0,c.Z)(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return(0,l.Z)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Sp(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Tp=function(){function e(t,n,r){(0,c.Z)(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return(0,l.Z)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Sp=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),a=t.call(this,e,r,fo(i)),a._path=i,a.type="collection",a}return(0,l.Z)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Zp(this.firestore,null,new ea(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Tp);function Ap(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,b.m9)(e),gp("collection","path",t),e instanceof Ip){var a=Li.fromString.apply(Li,[t].concat(r));return kp(a),new Sp(e,null,a)}if(!(e instanceof Zp||e instanceof Sp))throw new pi(di.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Li.fromString.apply(Li,[t].concat(r)));return kp(o),new Sp(e.firestore,null,o)}function Cp(e,t){if(e=bp(e,Ip),gp("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new pi(di.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Tp(e,null,function(e){return new co(Li.emptyPath(),e)}(t))}function Rp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,b.m9)(e),1===arguments.length&&(t=Zi.R()),gp("doc","path",t),e instanceof Ip){var a=Li.fromString.apply(Li,[t].concat(r));return mp(a),new Zp(e,null,new ea(a))}if(!(e instanceof Zp||e instanceof Sp))throw new pi(di.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Li.fromString.apply(Li,[t].concat(r)));return mp(o),new Zp(e.firestore,e instanceof Sp?e.converter:null,new ea(o))}function Op(e,t){return e=(0,b.m9)(e),t=(0,b.m9)(t),(e instanceof Zp||e instanceof Sp)&&(t instanceof Zp||t instanceof Sp)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Np(e,t){return e=(0,b.m9)(e),t=(0,b.m9)(t),e instanceof Tp&&t instanceof Tp&&e.firestore===t.firestore&&wo(e._query,t._query)&&e.converter===t.converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Dp=function(){function e(){var t=this;(0,c.Z)(this,e),this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new wf(this,"async_queue_retry"),this.Qa=function(){var e=mf();e&&ai("AsyncQueue","Visibility state changed to "+e.visibilityState),t.No.Po()};var n=mf();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Qa)}return(0,l.Z)(e,[{key:"isShuttingDown",get:function(){return this.Ba}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ja(),this.Wa(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;var t=mf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.ja(),this.Ba)return new Promise((function(){}));var n=new vi;return this.Wa((function(){return t.Ba&&t.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.$a.push(e),t.za()}))}},{key:"za",value:function(){var e=(0,g.Z)((0,v.Z)().mark((function e(){var t=this;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0===this.$a.length){e.next=14;break}return e.prev=1,e.next=4,this.$a[0]();case 4:this.$a.shift(),this.No.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e["catch"](1),Gs(e.t0)){e.next=12;break}throw e.t0;case 12:ai("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.$a.length>0&&this.No.Ro((function(){return t.za()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"Wa",value:function(e){var t=this,n=this.Fa.then((function(){return t.qa=!0,e().catch((function(e){t.Ua=e,t.qa=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);throw oi("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.qa=!1,e}))}));return this.Fa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ja(),this.Ga.indexOf(e)>-1&&(t=0);var i=ph.createAndSchedule(this,e,t,n,(function(e){return r.Ha(e)}));return this.La.push(i),i}},{key:"ja",value:function(){this.Ua&&ci()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ja",value:function(){var e=(0,g.Z)((0,v.Z)().mark((function e(){var t;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.Fa,e.next=3,t;case 3:if(t!==this.Fa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Ya",value:function(e){var t,n=(0,u.Z)(this.La);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.timerId===e)return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Xa",value:function(e){var t=this;return this.Ja().then((function(){t.La.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=(0,u.Z)(t.La);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ja()}))}},{key:"Za",value:function(e){this.Ga.push(e)}},{key:"Ha",value:function(e){var t=this.La.indexOf(e);this.La.splice(t,1)}}]),e}();function Pp(e){return function(e,t){if("object"!=(0,s.Z)(e)||null===e)return!1;var n,r=e,i=(0,u.Z)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,["next","error","complete"])}var Lp=function(){function e(){(0,c.Z)(this,e),this._progressObserver={},this._taskCompletionResolver=new vi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return(0,l.Z)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Mp=-1,Up=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),a=t.call(this,e,r,i),a.type="firestore",a._queue=new Dp,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return(0,l.Z)(n,[{key:"_terminate",value:function(){return this._firestoreClient||jp(this),this._firestoreClient.terminate()}}]),n}(Ip);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(e){return e._firestoreClient||jp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function jp(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Yi(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new zd(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Vp(e,t){Qp(e=bp(e,Up));var n=Fp(e),r=e._freezeSettings(),i=new Ud;return qp(n,i,new Ld(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function Bp(e){Qp(e=bp(e,Up));var t=Fp(e),n=e._freezeSettings(),r=new Ud;return qp(t,r,new Md(r,n.cacheSizeBytes))}function qp(e,t,n){var r=new vi;return e.asyncQueue.enqueue((0,g.Z)((0,v.Z)().mark((function i(){return(0,v.Z)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Gd(e,n);case 3:return i.next=5,Hd(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i["catch"](0),function(e){return"FirebaseError"===e.name?e.code===di.FAILED_PRECONDITION||e.code===di.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function zp(e){if(e._initialized&&!e._terminated)throw new pi(di.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new vi;return e._queue.enqueueAndForgetEvenWhileRestricted((0,g.Z)((0,v.Z)().mark((function n(){return(0,v.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t){var n;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Bs.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Bs.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(wl(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}function Gp(e){return function(e){var t=new vi;return e.asyncQueue.enqueueAndForget((0,g.Z)((0,v.Z)().mark((function n(){return(0,v.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.t0=nd,n.next=3,np(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Fp(e=bp(e,Up)))}function Kp(e){return ap(Fp(e=bp(e,Up)))}function Hp(e){return op(Fp(e=bp(e,Up)))}function Wp(e,t){var n=Fp(e=bp(e,Up)),r=new Lp;return dp(n,e._databaseId,t,r),r}function Yp(e,t){return pp(Fp(e=bp(e,Up)),t).then((function(t){return t?new Tp(e,null,t.query):null}))}function Qp(e){if(e._initialized||e._terminated)throw new pi(di.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jp=function(){function e(){(0,c.Z)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new pi(di.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ui(n)}return(0,l.Z)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Xp=function(){function e(t){(0,c.Z)(this,e),this._byteString=t}return(0,l.Z)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Vi.fromBase64String(t))}catch(t){throw new pi(di.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Vi.fromUint8Array(t))}}]),e}(),$p=(0,l.Z)((function e(t){(0,c.Z)(this,e),this._methodName=t})),ev=function(){function e(t,n){if((0,c.Z)(this,e),!isFinite(t)||t<-90||t>90)throw new pi(di.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new pi(di.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return(0,l.Z)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Ti(this._lat,e._lat)||Ti(this._long,e._long)}}]),e}(),tv=/^__.*__$/,nv=function(){function e(t,n,r){(0,c.Z)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,l.Z)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new eu(e,this.data,this.fieldMask,t,this.fieldTransforms):new $o(e,this.data,t,this.fieldTransforms)}}]),e}(),rv=function(){function e(t,n,r){(0,c.Z)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,l.Z)(e,[{key:"toMutation",value:function(e,t){return new eu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ci()}}var av=function(){function e(t,n,r,i,a,o){(0,c.Z)(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.tc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return(0,l.Z)(e,[{key:"path",get:function(){return this.settings.path}},{key:"ec",get:function(){return this.settings.ec}},{key:"nc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.rc(e),r}},{key:"oc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.tc(),r}},{key:"uc",value:function(e){return this.nc({path:void 0,ic:!0})}},{key:"ac",value:function(e){return Ev(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"tc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.rc(this.path.get(e))}},{key:"rc",value:function(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(iv(this.ec)&&tv.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}]),e}(),ov=function(){function e(t,n,r){(0,c.Z)(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||kf(t)}return(0,l.Z)(e,[{key:"lc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new av({ec:e,methodName:t,hc:n,path:Ui.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function uv(e){var t=e._freezeSettings(),n=kf(e._databaseId);return new ov(e._databaseId,!!t.ignoreUndefinedProperties,n)}function sv(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.lc(a.merge||a.mergeFields?2:0,t,n,i);bv("Data must be an object, but it was:",o,r);var s,c,l=kv(r,o);if(a.merge)s=new Fi(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){var f,h=[],d=(0,u.Z)(a.mergeFields);try{for(d.s();!(f=d.n()).done;){var p=f.value,v=_v(t,p,n);if(!o.contains(v))throw new pi(di.INVALID_ARGUMENT,"Field '".concat(v,"' is specified in your field mask but missing from your input data."));Zv(h,v)||h.push(v)}}catch(g){d.e(g)}finally{d.f()}s=new Fi(h),c=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,c=o.fieldTransforms;return new nv(new _a(l),s,c)}var cv=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ec)throw 1===e.ec?e.ac("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ac("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}($p);function lv(e,t,n){return new av({ec:3,hc:t.settings.hc,methodName:e._methodName,ic:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var fv=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"_toFieldTransform",value:function(e){return new Bo(e.path,new Do)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}($p),hv=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),i=t.call(this,e),i.fc=r,i}return(0,l.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=lv(this,e,!0),n=this.fc.map((function(e){return mv(e,t)})),r=new Po(n);return new Bo(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}($p),dv=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),i=t.call(this,e),i.fc=r,i}return(0,l.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=lv(this,e,!0),n=this.fc.map((function(e){return mv(e,t)})),r=new Mo(n);return new Bo(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}($p),pv=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),i=t.call(this,e),i.dc=r,i}return(0,l.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=new Fo(e.M,Ao(e.M,this.dc));return new Bo(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}($p);function vv(e,t,n,r){var i=e.lc(1,t,n);bv("Data must be an object, but it was:",i,r);var a=[],o=_a.empty();Ni(r,(function(e,r){var u=Iv(t,e,n);r=(0,b.m9)(r);var s=i.oc(u);if(r instanceof cv)a.push(u);else{var c=mv(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Fi(a);return new rv(o,u,i.fieldTransforms)}function gv(e,t,n,r,i,a){var o=e.lc(1,t,n),u=[_v(t,r,n)],s=[i];if(a.length%2!=0)throw new pi(di.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(_v(t,a[c])),s.push(a[c+1]);for(var l=[],f=_a.empty(),h=u.length-1;h>=0;--h)if(!Zv(l,u[h])){var d=u[h],p=s[h];p=(0,b.m9)(p);var v=o.oc(d);if(p instanceof cv)l.push(d);else{var g=mv(p,v);null!=g&&(l.push(d),f.set(d,g))}}var y=new Fi(l);return new rv(f,y,o.fieldTransforms)}function yv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return mv(n,e.lc(r?4:3,t))}function mv(e,t){if(wv(e=(0,b.m9)(e)))return bv("Unsupported field value:",t,e),kv(e,t);if(e instanceof $p)return function(e,t){if(!iv(t.ec))throw t.ac("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ac("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=(0,u.Z)(e);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=mv(o,t.uc(i));null==s&&(s={nullValue:"NULL_VALUE"}),r.push(s),i++}}catch(c){a.e(c)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=(0,b.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ao(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ci.fromDate(e);return{timestampValue:Du(t.M,n)}}if(e instanceof Ci){var r=new Ci(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Du(t.M,r)}}if(e instanceof ev)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Xp)return{bytesValue:Pu(t.M,e._byteString)};if(e instanceof Zp){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ac("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Uu(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ac("Unsupported field value: ".concat(wp(e)))}(e,t)}function kv(e,t){var n={};return Di(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ni(e,(function(e,r){var i=mv(r,t.sc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function wv(e){return!("object"!=(0,s.Z)(e)||null===e||e instanceof Array||e instanceof Date||e instanceof Ci||e instanceof ev||e instanceof Xp||e instanceof Zp||e instanceof $p)}function bv(e,t,n){if(!wv(n)||!function(e){return"object"==(0,s.Z)(e)&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=wp(n);throw"an object"===r?t.ac(e+" a custom object"):t.ac(e+" "+r)}}function _v(e,t,n){if((t=(0,b.m9)(t))instanceof Jp)return t._internalPath;if("string"==typeof t)return Iv(e,t);throw Ev("Field path arguments must be of type string or ",e,!1,void 0,n)}var xv=new RegExp("[~\\*/\\[\\]]");function Iv(e,t,n){if(t.search(xv)>=0)throw Ev("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return(0,i.Z)(Jp,(0,y.Z)(t.split(".")))._internalPath}catch(r){throw Ev("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Ev(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new pi(di.INVALID_ARGUMENT,u+e+s)}function Zv(e,t){return e.some((function(e){return e.isEqual(t)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tv=function(){function e(t,n,r,i,a){(0,c.Z)(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return(0,l.Z)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Zp(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Sv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Av("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Sv=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"data",value:function(){return(0,h.Z)((0,d.Z)(n.prototype),"data",this).call(this)}}]),n}(Tv);function Av(e,t){return"string"==typeof t?Iv(e,t):t instanceof Jp?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cv=function(){function e(t,n){(0,c.Z)(this,e),this.hasPendingWrites=t,this.fromCache=n}return(0,l.Z)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Rv=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i,a,o,u){var s;return(0,c.Z)(this,n),s=t.call(this,e,r,i,a,u),s._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return(0,l.Z)(n,[{key:"exists",value:function(){return(0,h.Z)((0,d.Z)(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Ov(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Av("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Tv),Ov=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,h.Z)((0,d.Z)(n.prototype),"data",this).call(this,e)}}]),n}(Rv),Nv=function(){function e(t,n,r,i){(0,c.Z)(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Cv(i.hasPendingWrites,i.fromCache),this.query=r}return(0,l.Z)(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Ov(n._firestore,n._userDataWriter,r.key,r,new Cv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pi(di.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Ov(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Cv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Ov(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Cv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(r=r.add(t.doc),a=r.indexOf(t.doc.key)),{type:Dv(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Dv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ci()}}function Pv(e,t){return e instanceof Rv&&t instanceof Rv?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Nv&&t instanceof Nv&&e._firestore===t._firestore&&Np(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new pi(di.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Mv=(0,l.Z)((function e(){(0,c.Z)(this,e)}));function Uv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Fv=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),a=t.call(this),a._c=e,a.wc=r,a.mc=i,a.type="where",a}return(0,l.Z)(n,[{key:"_apply",value:function(e){var t=uv(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new pi(di.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){eg(o,a);var c,l=[],f=(0,u.Z)(o);try{for(f.s();!(c=f.n()).done;){var h=c.value;l.push($v(r,e,h))}}catch(p){f.e(p)}finally{f.f()}s={arrayValue:{values:l}}}else s=$v(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||eg(o,a),s=yv(n,t,o,"in"===a||"not-in"===a);var d=Ya.create(i,a,s);return function(e,t){if(t.S()){var n=vo(e);if(null!==n&&!n.isEqual(t.field))throw new pi(di.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=po(e);null!==r&&tg(e,t.field,r)}var i=function(e,t){var n,r=(0,u.Z)(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(p){r.e(p)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new pi(di.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new pi(di.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,d),d}(e._query,"where",t,e.firestore._databaseId,this._c,this.wc,this.mc);return new Tp(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new co(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Mv);function jv(e,t,n){var r=t,i=Av("where",e);return new Fv(i,r,n)}var Vv=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),i=t.call(this),i._c=e,i.gc=r,i.type="orderBy",i}return(0,l.Z)(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new pi(di.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new pi(di.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ao(t,n);return function(e,t){if(null===po(e)){var n=vo(e);null!==n&&tg(e,n,t.field)}}(e,r),r}(e._query,this._c,this.gc);return new Tp(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new co(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Mv);function Bv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=Av("orderBy",e);return new Vv(r,n)}var qv=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),a=t.call(this),a.type=e,a.yc=r,a.Ic=i,a}return(0,l.Z)(n,[{key:"_apply",value:function(e){return new Tp(e.firestore,e.converter,ko(e._query,this.yc,this.Ic))}}]),n}(Mv);function zv(e){return _p("limit",e),new qv("limit",e,"F")}function Gv(e){return _p("limitToLast",e),new qv("limitToLast",e,"L")}var Kv=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),a=t.call(this),a.type=e,a.Tc=r,a.Ec=i,a}return(0,l.Z)(n,[{key:"_apply",value:function(e){var t=Xv(e,this.type,this.Tc,this.Ec);return new Tp(e.firestore,e.converter,function(e,t){return new co(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Mv);function Hv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Kv("startAt",t,!0)}function Wv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Kv("startAfter",t,!1)}var Yv=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),a=t.call(this),a.type=e,a.Tc=r,a.Ec=i,a}return(0,l.Z)(n,[{key:"_apply",value:function(e){var t=Xv(e,this.type,this.Tc,this.Ec);return new Tp(e.firestore,e.converter,function(e,t){return new co(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Mv);function Qv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Yv("endBefore",t,!1)}function Jv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Yv("endAt",t,!0)}function Xv(e,t,n,r){if(n[0]=(0,b.m9)(n[0]),n[0]instanceof Tv)return function(e,t,n,r,i){if(!r)throw new pi(di.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=(0,u.Z)(yo(e));try{for(s.s();!(a=s.n()).done;){var c=a.value;if(c.field.isKeyField())o.push(la(t,r.key));else{var l=r.data.field(c.field);if(Ki(l))throw new pi(di.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var f=c.field.canonicalString();throw new pi(di.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(f,"' (used as the orderBy) does not exist."))}o.push(l)}}}catch(h){s.e(h)}finally{s.f()}return new io(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=uv(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new pi(di.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],c=0;c<i.length;c++){var l=i[c];if(o[c].field.isKeyField()){if("string"!=typeof l)throw new pi(di.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat((0,s.Z)(l)));if(!go(e)&&-1!==l.indexOf("/"))throw new pi(di.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(l,"' contains a slash."));var f=e.path.child(Li.fromString(l));if(!ea.isDocumentKey(f))throw new pi(di.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(f,"' is not because it contains an odd number of segments."));var h=new ea(f);u.push(la(t,h))}else{var d=yv(n,r,l);u.push(d)}}return new io(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function $v(e,t,n){if("string"==typeof(n=(0,b.m9)(n))){if(""===n)throw new pi(di.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!go(t)&&-1!==n.indexOf("/"))throw new pi(di.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Li.fromString(n));if(!ea.isDocumentKey(r))throw new pi(di.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return la(e,new ea(r))}if(n instanceof Zp)return la(e,n._key);throw new pi(di.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(wp(n),"."))}function eg(e,t){if(!Array.isArray(e)||0===e.length)throw new pi(di.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new pi(di.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function tg(e,t,n){if(!n.isEqual(t))throw new pi(di.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ng={maxAttempts:5},rg=function(){function e(){(0,c.Z)(this,e)}return(0,l.Z)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ci()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Ni(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new ev(zi(e.latitude),zi(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Hi(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Wi(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=qi(e);return new Ci(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Li.fromString(e);li(fs(n));var r=new Qi(n.get(1),n.get(3)),i=new ea(n.popFirst(5));return r.isEqual(t)||oi("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ig(e,t,n){var r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}var ag=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r;return(0,c.Z)(this,n),r=t.call(this),r.firestore=e,r}return(0,l.Z)(n,[{key:"convertBytes",value:function(e){return new Xp(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zp(this.firestore,null,t)}}]),n}(rg),og=function(){function e(t,n){(0,c.Z)(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=uv(t)}return(0,l.Z)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=ug(e,this._firestore),i=ig(r.converter,t,n),a=sv(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Go.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=ug(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=(0,b.m9)(t))||t instanceof Jp?gv(this._dataReader,"WriteBatch.update",i._key,t,n,o):vv(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Go.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=ug(e,this._firestore);return this._mutations=this._mutations.concat(new ou(t._key,Go.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new pi(di.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(e,t){if((e=(0,b.m9)(e)).firestore!==t)throw new pi(di.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(e){e=bp(e,Zp);var t=bp(e.firestore,Up);return sp(Fp(t),e._key).then((function(n){return _g(t,e,n)}))}var cg=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r;return(0,c.Z)(this,n),r=t.call(this),r.firestore=e,r}return(0,l.Z)(n,[{key:"convertBytes",value:function(e){return new Xp(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zp(this.firestore,null,t)}}]),n}(rg);function lg(e){e=bp(e,Zp);var t=bp(e.firestore,Up),n=Fp(t),r=new cg(t);return up(n,e._key).then((function(n){return new Rv(t,r,e._key,n,new Cv(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function fg(e){e=bp(e,Zp);var t=bp(e.firestore,Up);return sp(Fp(t),e._key,{source:"server"}).then((function(n){return _g(t,e,n)}))}function hg(e){e=bp(e,Tp);var t=bp(e.firestore,Up),n=Fp(t),r=new cg(t);return Lv(e._query),lp(n,e._query).then((function(n){return new Nv(t,r,e,n)}))}function dg(e){e=bp(e,Tp);var t=bp(e.firestore,Up),n=Fp(t),r=new cg(t);return cp(n,e._query).then((function(n){return new Nv(t,r,e,n)}))}function pg(e){e=bp(e,Tp);var t=bp(e.firestore,Up),n=Fp(t),r=new cg(t);return lp(n,e._query,{source:"server"}).then((function(n){return new Nv(t,r,e,n)}))}function vg(e,t,n){e=bp(e,Zp);var r=bp(e.firestore,Up),i=ig(e.converter,t,n);return bg(r,[sv(uv(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Go.none())])}function gg(e,t,n){e=bp(e,Zp);for(var r,i=bp(e.firestore,Up),a=uv(i),o=arguments.length,u=new Array(o>3?o-3:0),s=3;s<o;s++)u[s-3]=arguments[s];return r="string"==typeof(t=(0,b.m9)(t))||t instanceof Jp?gv(a,"updateDoc",e._key,t,n,u):vv(a,"updateDoc",e._key,t),bg(i,[r.toMutation(e._key,Go.exists(!0))])}function yg(e){return bg(bp(e.firestore,Up),[new ou(e._key,Go.none())])}function mg(e,t){var n=bp(e.firestore,Up),r=Rp(e),i=ig(e.converter,t);return bg(n,[sv(uv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Go.exists(!1))]).then((function(){return r}))}function kg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=(0,b.m9)(e);var u={includeMetadataChanges:!1},c=0;"object"!=(0,s.Z)(n[c])||Pp(n[c])||(u=n[c],c++);var l,f,h,d={includeMetadataChanges:u.includeMetadataChanges};if(Pp(n[c])){var p=n[c];n[c]=null===(i=p.next)||void 0===i?void 0:i.bind(p),n[c+1]=null===(a=p.error)||void 0===a?void 0:a.bind(p),n[c+2]=null===(o=p.complete)||void 0===o?void 0:o.bind(p)}if(e instanceof Zp)f=bp(e.firestore,Up),h=fo(e._key.path),l={next:function(t){n[c]&&n[c](_g(f,e,t))},error:n[c+1],complete:n[c+2]};else{var y=bp(e,Tp);f=bp(y.firestore,Up),h=y._query;var m=new cg(f);l={next:function(e){n[c]&&n[c](new Nv(f,m,y,e))},error:n[c+1],complete:n[c+2]},Lv(e._query)}return function(e,t,n,r){var i=new jd(r),a=new Sh(t,i,n);return e.asyncQueue.enqueueAndForget((0,g.Z)((0,v.Z)().mark((function t(){return(0,v.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=bh,t.next=3,rp(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Aa(),e.asyncQueue.enqueueAndForget((0,g.Z)((0,v.Z)().mark((function t(){return(0,v.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=xh,t.next=3,rp(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Fp(f),h,d,l)}function wg(e,t){return fp(Fp(e=bp(e,Up)),Pp(t)?t:{next:t})}function bg(e,t){return function(e,t){var n=new vi;return e.asyncQueue.enqueueAndForget((0,g.Z)((0,v.Z)().mark((function r(){return(0,v.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.t0=Gh,r.next=3,np(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Fp(e),t)}function _g(e,t,n){var r=n.docs.get(t._key),i=new cg(e);return new Rv(e,i,t._key,r,new Cv(n.hasPendingWrites,n.fromCache),t.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xg=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),i=t.call(this,e,r),i._firestore=e,i}return(0,l.Z)(n,[{key:"get",value:function(e){var t=this,r=ug(e,this._firestore),i=new cg(this._firestore);return(0,h.Z)((0,d.Z)(n.prototype),"get",this).call(this,e).then((function(e){return new Rv(t._firestore,i,r._key,e._document,new Cv(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){(0,c.Z)(this,e),this._firestore=t,this._transaction=n,this._dataReader=uv(t)}return(0,l.Z)(e,[{key:"get",value:function(e){var t=this,n=ug(e,this._firestore),r=new ag(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ci();var i=e[0];if(i.isFoundDocument())return new Tv(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Tv(t._firestore,r,n._key,null,n.converter);throw ci()}))}},{key:"set",value:function(e,t,n){var r=ug(e,this._firestore),i=ig(r.converter,t,n),a=sv(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=ug(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=(0,b.m9)(t))||t instanceof Jp?gv(this._dataReader,"Transaction.update",i._key,t,n,o):vv(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=ug(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Ig(e,t,n){e=bp(e,Up);var r=Object.assign(Object.assign({},ng),n);return function(e){if(e.maxAttempts<1)throw new pi(di.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),hp(Fp(e),(function(n){return t(new xg(e,n))}),r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(){return new cv("deleteField")}function Zg(){return new fv("serverTimestamp")}function Tg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new hv("arrayUnion",t)}function Sg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dv("arrayRemove",t)}function Ag(e){return new pv("increment",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ti=e}(m.SDK_VERSION),(0,m._registerComponent)(new k.wA("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Up(i,new ki(e.getProvider("auth-internal")),new xi(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),(0,m.registerVersion)($r,"3.4.9",e),(0,m.registerVersion)($r,"3.4.9","esm2017")}();var Cg="@firebase/firestore-compat",Rg="0.1.18";
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Og(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new pi("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(){if("undefined"===typeof Uint8Array)throw new pi("unimplemented","Uint8Arrays are not available in this environment.")}function Dg(){if(!ji())throw new pi("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Pg=function(){function e(t){(0,c.Z)(this,e),this._delegate=t}return(0,l.Z)(e,[{key:"toBase64",value:function(){return Dg(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Ng(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Dg(),new e(Xp.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Ng(),new e(Xp.fromUint8Array(t))}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(e){return Mg(e,["next","error","complete"])}function Mg(e,t){if("object"!==(0,s.Z)(e)||null===e)return!1;var n,r=e,i=(0,u.Z)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ug=function(){function e(){(0,c.Z)(this,e)}return(0,l.Z)(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return Vp(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return Bp(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return zp(e._delegate)}}]),e}(),Fg=function(){function e(t,n,r){var i=this;(0,c.Z)(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Qi||(this._appCompat=t)}return(0,l.Z)(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||ui("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ep(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Kp(this._delegate)}},{key:"disableNetwork",value:function(){return Hp(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,yp("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return Gp(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return wg(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new pi("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new ey(this,Ap(this._delegate,e))}catch(t){throw Kg(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Gg(this,Rp(this._delegate,e))}catch(t){throw Kg(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new Jg(this,Cp(this._delegate,e))}catch(t){throw Kg(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Ig(this._delegate,(function(n){return e(new Bg(t,n))}))}},{key:"batch",value:function(){var e=this;return Fp(this._delegate),new qg(new og(this._delegate,(function(t){return bg(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Wp(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Yp(this._delegate,e).then((function(e){return e?new Jg(t,e):null}))}}]),e}(),jg=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r;return(0,c.Z)(this,n),r=t.call(this),r.firestore=e,r}return(0,l.Z)(n,[{key:"convertBytes",value:function(e){return new Pg(new Xp(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Gg.forKey(t,this.firestore,null)}}]),n}(rg);function Vg(e){ii(e)}var Bg=function(){function e(t,n){(0,c.Z)(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new jg(t)}return(0,l.Z)(e,[{key:"get",value:function(e){var t=this,n=ty(e);return this._delegate.get(n).then((function(e){return new Yg(t._firestore,new Rv(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=ty(e);return n?(Og("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=ty(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=ty(e);return this._delegate.delete(t),this}}]),e}(),qg=function(){function e(t){(0,c.Z)(this,e),this._delegate=t}return(0,l.Z)(e,[{key:"set",value:function(e,t,n){var r=ty(e);return n?(Og("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=ty(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=ty(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),zg=function(){function e(t,n,r){(0,c.Z)(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return(0,l.Z)(e,[{key:"fromFirestore",value:function(e,t){var n=new Ov(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Qg(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new jg(t),n),i.set(n,a)),a}}]),e}();zg.INSTANCES=new WeakMap;var Gg=function(){function e(t,n){(0,c.Z)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new jg(t)}return(0,l.Z)(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new ey(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new ey(this.firestore,Ap(this._delegate,e))}catch(t){throw Kg(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return e=(0,b.m9)(e),e instanceof Zp&&Op(this._delegate,e)}},{key:"set",value:function(e,t){t=Og("DocumentReference.set",t);try{return t?vg(this._delegate,e,t):vg(this._delegate,e)}catch(n){throw Kg(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?gg(this._delegate,e):gg.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Kg(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return yg(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Hg(n),a=Wg(n,(function(t){return new Yg(e.firestore,new Rv(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return kg(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?lg(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?fg(this._delegate):sg(this._delegate),t.then((function(e){return new Yg(n.firestore,new Rv(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(zg.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new pi("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Zp(n._delegate,r,new ea(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Zp(n._delegate,r,t))}}]),e}();function Kg(e,t,n){return e.message=e.message.replace(t,n),e}function Hg(e){var t,n=(0,u.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===(0,s.Z)(r)&&!Lg(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Wg(e,t){var n,r,i;return i=Lg(e[0])?e[0]:Lg(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:function(e){i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Yg=function(){function e(t,n){(0,c.Z)(this,e),this._firestore=t,this._delegate=n}return(0,l.Z)(e,[{key:"ref",get:function(){return new Gg(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Pv(this._delegate,e._delegate)}}]),e}(),Qg=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return fi(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}]),n}(Yg),Jg=function(){function e(t,n){(0,c.Z)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new jg(t)}return(0,l.Z)(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Uv(this._delegate,jv(t,n,r)))}catch(i){throw Kg(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Uv(this._delegate,Bv(t,n)))}catch(r){throw Kg(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Uv(this._delegate,zv(t)))}catch(n){throw Kg(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Uv(this._delegate,Gv(t)))}catch(n){throw Kg(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Uv(this._delegate,Hv.apply(void 0,arguments)))}catch(t){throw Kg(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Uv(this._delegate,Wv.apply(void 0,arguments)))}catch(t){throw Kg(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Uv(this._delegate,Qv.apply(void 0,arguments)))}catch(t){throw Kg(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Uv(this._delegate,Jv.apply(void 0,arguments)))}catch(t){throw Kg(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Np(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?dg(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?pg(this._delegate):hg(this._delegate),t.then((function(e){return new $g(n.firestore,new Nv(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Hg(n),a=Wg(n,(function(t){return new $g(e.firestore,new Nv(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return kg(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(zg.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),Xg=function(){function e(t,n){(0,c.Z)(this,e),this._firestore=t,this._delegate=n}return(0,l.Z)(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Qg(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),$g=function(){function e(t,n){(0,c.Z)(this,e),this._firestore=t,this._delegate=n}return(0,l.Z)(e,[{key:"query",get:function(){return new Jg(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Qg(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Xg(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Qg(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Pv(this._delegate,e._delegate)}}]),e}(),ey=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),i=t.call(this,e,r),i.firestore=e,i._delegate=r,i}return(0,l.Z)(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Gg(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Gg(this.firestore,void 0===e?Rp(this._delegate):Rp(this._delegate,e))}catch(t){throw Kg(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return mg(this._delegate,e).then((function(e){return new Gg(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Op(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(zg.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(Jg);function ty(e){return bp(e,Zp)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ny=function(){function e(){(0,c.Z)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=(0,i.Z)(Jp,n)}return(0,l.Z)(e,[{key:"isEqual",value:function(e){return e=(0,b.m9)(e),e instanceof Jp&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Ui.keyField().canonicalString())}}]),e}(),ry=function(){function e(t){(0,c.Z)(this,e),this._delegate=t}return(0,l.Z)(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=Zg();return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=Eg();return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Tg.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Sg.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=Ag(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),iy={Firestore:Fg,GeoPoint:ev,Timestamp:Ci,Blob:Pg,Transaction:Bg,WriteBatch:qg,DocumentReference:Gg,DocumentSnapshot:Yg,Query:Jg,QueryDocumentSnapshot:Qg,QuerySnapshot:$g,CollectionReference:ey,FieldPath:ny,FieldValue:ry,setLogLevel:Vg,CACHE_SIZE_UNLIMITED:Mp};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(e,t){e.INTERNAL.registerComponent(new k.wA("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},iy)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(e){ay(e,(function(e,t){return new Fg(e,t,new Ug)})),e.registerVersion(Cg,Rg)}oy(f.Z)},7097:function(e,t,n){"use strict";var r=n(3087),i=n(2833),a=(n(1249),n(8309),n(1539),n(9714),n(4916),n(7601),n(2661)),o=n(8478),u=n(124),s=n(8534),c=n(4621),l=n(6347),f=n(3336),h=n(2417),d=n(9110),p=n(7946),v=(n(2222),n(7042),n(4603),n(8450),n(8386),n(5306),n(5505),n(7714),n(2801),n(1174),n(2472),n(8675),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),n(4723),n(8264),n(4747),n(9600),n(7327),n(3123),n(9653),n(8862),n(6699),n(2023),n(8783),n(3948),n(561),n(189),n(1703),n(7077)),g=n(5287),y=n(7142),m="firebasestorage.googleapis.com",k="storageBucket",w=12e4,b=6e5,_=function(e){(0,d.Z)(n,e);var t=(0,p.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),a=t.call(this,x(e),"Firebase Storage: ".concat(i," (").concat(x(e),")")),a.customData={serverResponse:null},a._baseMessage=a.message,Object.setPrototypeOf((0,h.Z)(a),n.prototype),a}return(0,i.Z)(n,[{key:"_codeEquals",value:function(e){return x(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(g.ZR);function x(e){return"storage/"+e}function I(){var e="An unknown error occurred, please check the error payload for server response.";return new _("unknown",e)}function E(e){return new _("object-not-found","Object '"+e+"' does not exist.")}function Z(e){return new _("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function T(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _("unauthenticated",e)}function S(){return new _("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function A(e){return new _("unauthorized","User does not have permission to access '"+e+"'.")}function C(){return new _("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function R(){return new _("canceled","User canceled the upload/download.")}function O(e){return new _("invalid-url","Invalid URL '"+e+"'.")}function N(e){return new _("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function D(){return new _("no-default-bucket","No default bucket found. Did you set the '"+k+"' property when initializing the app?")}function P(){return new _("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function L(){return new _("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function M(){return new _("no-download-url","The given file does not have any download URLs.")}function U(e){return new _("invalid-argument",e)}function F(){return new _("app-deleted","The Firebase app was deleted.")}function j(e){return new _("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function V(e,t){return new _("invalid-format","String does not match format '"+e+"': "+t)}function B(e){throw new _("internal-error","Internal error: "+e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q,z=function(){function e(t,n){(0,r.Z)(this,e),this.bucket=t,this.path_=n}return(0,i.Z)(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw N(t)}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function a(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}var o="(/(.*))?$",u=new RegExp("^gs://"+i+o,"i"),s={bucket:1,path:3};function c(e){e.path_=decodeURIComponent(e.path)}for(var l="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",d=new RegExp("^https?://".concat(f,"/").concat(l,"/b/").concat(i,"/o").concat(h),"i"),p={bucket:1,path:3},v=n===m?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",y=new RegExp("^https?://".concat(v,"/").concat(i,"/").concat(g),"i"),k={bucket:1,path:2},w=[{regex:u,indices:s,postModify:a},{regex:d,indices:p,postModify:c},{regex:y,indices:k,postModify:c}],b=0;b<w.length;b++){var _=w[b],x=_.regex.exec(t);if(x){var I=x[_.indices.bucket],E=x[_.indices.path];E||(E=""),r=new e(I,E),_.postModify(r);break}}if(null==r)throw O(t);return r}}]),e}(),G=function(){function e(t){(0,r.Z)(this,e),this.promise_=Promise.reject(t)}return(0,i.Z)(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function K(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a,d=s()||o;if(d)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}function H(e){e(!1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(e){return void 0!==e}function Y(e){return"function"===typeof e}function Q(e){return"object"===(0,f.Z)(e)&&!Array.isArray(e)}function J(e){return"string"===typeof e||e instanceof String}function X(e){return $()&&e instanceof Blob}function $(){return"undefined"!==typeof Blob}function ee(e,t,n,r){if(r<t)throw U("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw U("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function ne(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e[e["NO_ERROR"]=0]="NO_ERROR",e[e["NETWORK_ERROR"]=1]="NETWORK_ERROR",e[e["ABORT"]=2]="ABORT"})(q||(q={}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var re=function(){function e(t,n,i,a,o,u,s,c,l,f,h){var d=this;(0,r.Z)(this,e),this.url_=t,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=s,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=f,this.connectionFactory_=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return(0,i.Z)(e,[{key:"start_",value:function(){var e=this,t=function(t,n){if(n)t(!1,new ie(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===q.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new ie(o,r))}else{var u=r.getErrorCode()===q.ABORT;t(!1,new ie(!1,null,u))}}))}},n=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());W(o)?r(o):r()}catch(l){i(l)}else if(null!==a){var u=I();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else if(n.canceled){var s=e.appDelete_?F():R();i(s)}else{var c=C();i(c)}};this.canceled_?n(!1,new ie(!1,null,!0)):this.backoffId_=K(t,n,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&H(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=[408,429],r=-1!==n.indexOf(e),i=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||i}}]),e}(),ie=(0,i.Z)((function e(t,n,i){(0,r.Z)(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}));function ae(e,t){null!==t&&t.length>0&&(e["Authorization"]="Firebase "+t)}function oe(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function ue(e,t){t&&(e["X-Firebase-GMPID"]=t)}function se(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function ce(e,t,n,r,i,a){var o=ne(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return ue(s,t),ae(s,n),oe(s,a),se(s,r),new re(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function fe(){for(var e=le(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if($())return new Blob(n);throw new _("unsupported-environment","This browser doesn't seem to support creating Blobs")}function he(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(e){return atob(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ve=(0,i.Z)((function e(t,n){(0,r.Z)(this,e),this.data=t,this.contentType=n||null}));function ge(e,t){switch(e){case pe.RAW:return new ve(ye(t));case pe.BASE64:case pe.BASE64URL:return new ve(ke(e,t));case pe.DATA_URL:return new ve(be(t),_e(t))}throw I()}function ye(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){var i=n<e.length-1&&56320===(64512&e.charCodeAt(n+1));if(i){var a=r,o=e.charCodeAt(++n);r=65536|(1023&a)<<10|1023&o,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function me(e){var t;try{t=decodeURIComponent(e)}catch(n){throw V(pe.DATA_URL,"Malformed data URL.")}return ye(t)}function ke(e,t){switch(e){case pe.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){var i=n?"-":"_";throw V(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break;case pe.BASE64URL:var a=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(a||o){var u=a?"+":"/";throw V(e,"Invalid character '"+u+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}var s;try{s=de(t)}catch(f){throw V(e,"Invalid character found")}for(var c=new Uint8Array(s.length),l=0;l<s.length;l++)c[l]=s.charCodeAt(l);return c}var we=(0,i.Z)((function e(t){(0,r.Z)(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw V(pe.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var i=n[1]||null;null!=i&&(this.base64=xe(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}));function be(e){var t=new we(e);return t.base64?ke(pe.BASE64,t.rest):me(t.rest)}function _e(e){var t=new we(e);return t.contentType}function xe(e,t){var n=e.length>=t.length;return!!n&&e.substring(e.length-t.length)===t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie=function(){function e(t,n){(0,r.Z)(this,e);var i=0,a="";X(t)?(this.data_=t,i=t.size,a=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=a}return(0,i.Z)(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(X(this.data_)){var r=this.data_,i=he(r,t,n);return null===i?null:new e(i)}var a=new Uint8Array(this.data_.buffer,t,n-t);return new e(a,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if($()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(fe.apply(null,i))}var a=n.map((function(e){return J(e)?ge(pe.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(e){var t;try{t=JSON.parse(e)}catch(n){return null}return Q(t)?t:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(e){if(0===e.length)return null;var t=e.lastIndexOf("/");if(-1===t)return"";var n=e.slice(0,t);return n}function Te(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}function Se(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(e,t){return t}var Ce=(0,i.Z)((function e(t,n,i,a){(0,r.Z)(this,e),this.server=t,this.local=n||t,this.writable=!!i,this.xform=a||Ae})),Re=null;function Oe(e){return!J(e)||e.length<2?e:Se(e)}function Ne(){if(Re)return Re;var e=[];function t(e,t){return Oe(t)}e.push(new Ce("bucket")),e.push(new Ce("generation")),e.push(new Ce("metageneration")),e.push(new Ce("name","fullPath",!0));var n=new Ce("name");function r(e,t){return void 0!==t?Number(t):t}n.xform=t,e.push(n);var i=new Ce("size");return i.xform=r,e.push(i),e.push(new Ce("timeCreated")),e.push(new Ce("updated")),e.push(new Ce("md5Hash",null,!0)),e.push(new Ce("cacheControl",null,!0)),e.push(new Ce("contentDisposition",null,!0)),e.push(new Ce("contentEncoding",null,!0)),e.push(new Ce("contentLanguage",null,!0)),e.push(new Ce("contentType",null,!0)),e.push(new Ce("metadata","customMetadata",!0)),Re=e,Re}function De(e,t){function n(){var n=e["bucket"],r=e["fullPath"],i=new z(n,r);return t._makeStorageReference(i)}Object.defineProperty(e,"ref",{get:n})}function Pe(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return De(r,e),r}function Le(e,t,n){var r=Ee(t);if(null===r)return null;var i=r;return Pe(e,i,n)}function Me(e,t,n,r){var i=Ee(t);if(null===i)return null;if(!J(i["downloadTokens"]))return null;var a=i["downloadTokens"];if(0===a.length)return null;var o=encodeURIComponent,u=a.split(","),s=u.map((function(t){var i=e["bucket"],a=e["fullPath"],u="/b/"+o(i)+"/o/"+o(a),s=te(u,n,r),c=ne({alt:"media",token:t});return s+c}));return s[0]}function Ue(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe="prefixes",je="items";function Ve(e,t,n){var r={prefixes:[],items:[],nextPageToken:n["nextPageToken"]};if(n[Fe]){var i,a=(0,l.Z)(n[Fe]);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=o.replace(/\/$/,""),s=e._makeStorageReference(new z(t,u));r.prefixes.push(s)}}catch(p){a.e(p)}finally{a.f()}}if(n[je]){var c,f=(0,l.Z)(n[je]);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=e._makeStorageReference(new z(t,h["name"]));r.items.push(d)}}catch(p){f.e(p)}finally{f.f()}}return r}function Be(e,t,n){var r=Ee(n);if(null===r)return null;var i=r;return Ve(e,t,i)}var qe=(0,i.Z)((function e(t,n,i,a){(0,r.Z)(this,e),this.url=t,this.method=n,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(e){if(!e)throw I()}function Ge(e,t){function n(n,r){var i=Le(e,r,t);return ze(null!==i),i}return n}function Ke(e,t){function n(n,r){var i=Be(e,t,r);return ze(null!==i),i}return n}function He(e,t){function n(n,r){var i=Le(e,r,t);return ze(null!==i),Me(i,r,e.host,e._protocol)}return n}function We(e){function t(t,n){var r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?S():T():402===t.getStatus()?Z(e.bucket):403===t.getStatus()?A(e.path):n,r.serverResponse=n.serverResponse,r}return t}function Ye(e){var t=We(e);function n(n,r){var i=t(n,r);return 404===n.getStatus()&&(i=E(e.path)),i.serverResponse=r.serverResponse,i}return n}function Qe(e,t,n){var r=t.fullServerUrl(),i=te(r,e.host,e._protocol),a="GET",o=e.maxOperationRetryTime,u=new qe(i,a,Ge(e,n),o);return u.errorHandler=Ye(t),u}function Je(e,t,n,r,i){var a={};t.isRoot?a["prefix"]="":a["prefix"]=t.path+"/",n&&n.length>0&&(a["delimiter"]=n),r&&(a["pageToken"]=r),i&&(a["maxResults"]=i);var o=t.bucketOnlyServerUrl(),u=te(o,e.host,e._protocol),s="GET",c=e.maxOperationRetryTime,l=new qe(u,s,Ke(e,t.bucket),c);return l.urlParams=a,l.errorHandler=We(t),l}function Xe(e,t,n){var r=t.fullServerUrl(),i=te(r,e.host,e._protocol),a="GET",o=e.maxOperationRetryTime,u=new qe(i,a,He(e,n),o);return u.errorHandler=Ye(t),u}function $e(e,t,n,r){var i=t.fullServerUrl(),a=te(i,e.host,e._protocol),o="PATCH",u=Ue(n,r),s={"Content-Type":"application/json; charset=utf-8"},c=e.maxOperationRetryTime,l=new qe(a,o,Ge(e,r),c);return l.headers=s,l.body=u,l.errorHandler=Ye(t),l}function et(e,t){var n=t.fullServerUrl(),r=te(n,e.host,e._protocol),i="DELETE",a=e.maxOperationRetryTime;function o(e,t){}var u=new qe(r,i,o,a);return u.successCodes=[200,204],u.errorHandler=Ye(t),u}function tt(e,t){return e&&e["contentType"]||t&&t.type()||"application/octet-stream"}function nt(e,t,n){var r=Object.assign({},n);return r["fullPath"]=e.path,r["size"]=t.size(),r["contentType"]||(r["contentType"]=tt(null,t)),r}function rt(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function u(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}var s=u();o["Content-Type"]="multipart/related; boundary="+s;var c=nt(t,r,i),l=Ue(c,n),f="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+s+"\r\nContent-Type: "+c["contentType"]+"\r\n\r\n",h="\r\n--"+s+"--",d=Ie.getBlob(f,r,h);if(null===d)throw P();var p={name:c["fullPath"]},v=te(a,e.host,e._protocol),g="POST",y=e.maxUploadRetryTime,m=new qe(v,g,Ge(e,n),y);return m.urlParams=p,m.headers=o,m.body=d.uploadData(),m.errorHandler=We(t),m}var it=(0,i.Z)((function e(t,n,i,a){(0,r.Z)(this,e),this.current=t,this.total=n,this.finalized=!!i,this.metadata=a||null}));function at(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(i){ze(!1)}var r=t||["active"];return ze(!!n&&-1!==r.indexOf(n)),n}function ot(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=nt(t,r,i),u={name:o["fullPath"]},s=te(a,e.host,e._protocol),c="POST",l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o["contentType"],"Content-Type":"application/json; charset=utf-8"},f=Ue(o,n),h=e.maxUploadRetryTime;function d(e){var t;at(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){ze(!1)}return ze(J(t)),t}var p=new qe(s,c,d,h);return p.urlParams=u,p.headers=l,p.body=f,p.errorHandler=We(t),p}function ut(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function a(e){var t=at(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){ze(!1)}n||ze(!1);var i=Number(n);return ze(!isNaN(i)),new it(i,r.size(),"final"===t)}var o="POST",u=e.maxUploadRetryTime,s=new qe(n,o,a,u);return s.headers=i,s.errorHandler=We(t),s}var st=262144;function ct(e,t,n,r,i,a,o,u){var s=new it(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw L();var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d=l===c?"upload, finalize":"upload",p={"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":"".concat(s.current)},v=r.slice(f,h);if(null===v)throw P();function g(e,n){var i,o=at(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?Ge(t,a)(e,n):null,new it(u,c,"final"===o,i)}var y="POST",m=t.maxUploadRetryTime,k=new qe(n,y,g,m);return k.headers=p,k.body=v.uploadData(),k.progressCallback=u||null,k.errorHandler=We(e),k}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt={STATE_CHANGED:"state_changed"},ft={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ht(e){switch(e){case"running":case"pausing":case"canceling":return ft.RUNNING;case"paused":return ft.PAUSED;case"success":return ft.SUCCESS;case"canceled":return ft.CANCELED;case"error":return ft.ERROR;default:return ft.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt=(0,i.Z)((function e(t,n,i){(0,r.Z)(this,e);var a=Y(t)||null!=n||null!=i;if(a)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==i&&void 0!==i?i:void 0;else{var o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt=null,gt=function(){function e(){var t=this;(0,r.Z)(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=q.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=q.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=q.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return(0,i.Z)(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw B("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw B("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw B("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw B("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw B("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),yt=function(e){(0,d.Z)(n,e);var t=(0,p.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(gt);function mt(){return vt?vt():new yt}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var kt=function(){function e(t,n){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,r.Z)(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=a,this._mappings=Ne(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){i._request=void 0,i._chunkMultiplier=1,e._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=e,i._transition("error"))},this._metadataErrorHandler=function(e){i._request=void 0,e._codeEquals("canceled")?i.completeTransitions_():(i._error=e,i._transition("error"))},this._promise=new Promise((function(e,t){i._resolve=e,i._reject=t,i._start()})),this._promise.then(null,(function(){}))}return(0,i.Z)(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=(0,c.Z)(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused");break}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=ot(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,mt,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=ut(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,mt,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=st*this._chunkMultiplier,n=new it(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=ct(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,mt,i,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){var e=st*this._chunkMultiplier;e<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=Qe(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,mt,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=rt(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,mt,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":this._state=e,void 0!==this._request&&this._request.cancel();break;case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=R(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}},{key:"snapshot",get:function(){var e=ht(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new dt(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise();var t=this._observers.slice();t.forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(ht(this._state)){case ft.SUCCESS:pt(this._resolve.bind(null,this.snapshot))();break;case ft.CANCELED:case ft.ERROR:var t=this._reject;pt(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){var t=ht(this._state);switch(t){case ft.RUNNING:case ft.PAUSED:e.next&&pt(e.next.bind(e,this.snapshot))();break;case ft.SUCCESS:e.complete&&pt(e.complete.bind(e))();break;case ft.CANCELED:case ft.ERROR:e.error&&pt(e.error.bind(e,this._error))();break;default:e.error&&pt(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),wt=function(){function e(t,n){(0,r.Z)(this,e),this._service=t,this._location=n instanceof z?n:z.makeFromUrl(n,t.host)}return(0,i.Z)(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new z(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return Se(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=Ze(this._location.path);if(null===t)return null;var n=new z(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw j(e)}}]),e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new kt(e,new Ie(t),n)}function _t(e){var t={prefixes:[],items:[]};return xt(e,t).then((function(){return t}))}function xt(e,t,n){return It.apply(this,arguments)}function It(){return It=(0,s.Z)((0,u.Z)().mark((function e(t,n,r){var i,a,s,c;return(0,u.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={pageToken:r},e.next=3,Et(t,s);case 3:if(c=e.sent,(i=n.prefixes).push.apply(i,(0,o.Z)(c.prefixes)),(a=n.items).push.apply(a,(0,o.Z)(c.items)),null==c.nextPageToken){e.next=9;break}return e.next=9,xt(t,n,c.nextPageToken);case 9:case"end":return e.stop()}}),e)}))),It.apply(this,arguments)}function Et(e,t){null!=t&&"number"===typeof t.maxResults&&ee("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=Je(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,mt)}function Zt(e){e._throwIfRoot("getMetadata");var t=Qe(e.storage,e._location,Ne());return e.storage.makeRequestWithTokens(t,mt)}function Tt(e,t){e._throwIfRoot("updateMetadata");var n=$e(e.storage,e._location,t,Ne());return e.storage.makeRequestWithTokens(n,mt)}function St(e){e._throwIfRoot("getDownloadURL");var t=Xe(e.storage,e._location,Ne());return e.storage.makeRequestWithTokens(t,mt).then((function(e){if(null===e)throw M();return e}))}function At(e){e._throwIfRoot("deleteObject");var t=et(e.storage,e._location);return e.storage.makeRequestWithTokens(t,mt)}function Ct(e,t){var n=Te(e._location.path,t),r=new z(e._location.bucket,n);return new wt(e.storage,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(e){return/^[A-Za-z]+:\/\//.test(e)}function Ot(e,t){return new wt(e,t)}function Nt(e,t){if(e instanceof Mt){var n=e;if(null==n._bucket)throw D();var r=new wt(n,n._bucket);return null!=t?Nt(r,t):r}return void 0!==t?Ct(e,t):e}function Dt(e,t){if(t&&Rt(t)){if(e instanceof Mt)return Ot(e,t);throw U("To use ref(service, url), the first argument must be a Storage instance.")}return Nt(e,t)}function Pt(e,t){var n=null===t||void 0===t?void 0:t[k];return null==n?null:z.makeFromBucketSpec(n,e)}function Lt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:(0,g.Sg)(i,e.app.options.projectId))}var Mt=function(){function e(t,n,i,a,o){(0,r.Z)(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=o,this._bucket=null,this._host=m,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=w,this._maxUploadRetryTime=b,this._requests=new Set,this._bucket=null!=a?z.makeFromBucketSpec(a,this._host):Pt(this._host,this.app.options)}return(0,i.Z)(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=z.makeFromBucketSpec(this._url,e):this._bucket=Pt(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){ee("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){ee("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(){var t,n;return(0,u.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(t=this._authProvider.getImmediate({optional:!0}),!t){e.next=9;break}return e.next=6,t.getToken();case 6:if(n=e.sent,null===n){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_getAppCheckToken",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(){var t,n;return(0,u.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this._appCheckProvider.getImmediate({optional:!0}),!t){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new wt(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new G(F());var a=ce(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t,n){var r,i,a,o;return(0,u.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=(0,c.Z)(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),Ut="@firebase/storage",Ft="0.9.6",jt="storage";function Vt(e,t,n){return e=(0,g.m9)(e),bt(e,t,n)}function Bt(e){return e=(0,g.m9)(e),Zt(e)}function qt(e,t){return e=(0,g.m9)(e),Tt(e,t)}function zt(e,t){return e=(0,g.m9)(e),Et(e,t)}function Gt(e){return e=(0,g.m9)(e),_t(e)}function Kt(e){return e=(0,g.m9)(e),St(e)}function Ht(e){return e=(0,g.m9)(e),At(e)}function Wt(e,t){return e=(0,g.m9)(e),Dt(e,t)}function Yt(e,t){return Ct(e,t)}function Qt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Lt(e,t,n,r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Mt(r,i,a,n,v.SDK_VERSION)}function Xt(){(0,v._registerComponent)(new y.wA(jt,Jt,"PUBLIC").setMultipleInstances(!0)),(0,v.registerVersion)(Ut,Ft,""),(0,v.registerVersion)(Ut,Ft,"esm2017")}Xt();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var $t=function(){function e(t,n,i){(0,r.Z)(this,e),this._delegate=t,this.task=n,this.ref=i}return(0,i.Z)(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),en=function(){function e(t,n){(0,r.Z)(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return(0,i.Z)(e,[{key:"snapshot",get:function(){return new $t(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new $t(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new $t(e,i,i._ref))}:{next:t.next?function(e){return t.next(new $t(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),tn=function(){function e(t,n){(0,r.Z)(this,e),this._delegate=t,this._service=n}return(0,i.Z)(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new nn(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new nn(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),nn=function(){function e(t,n){(0,r.Z)(this,e),this._delegate=t,this.storage=n}return(0,i.Z)(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=Yt(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new en(Vt(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pe.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=ge(t,e),i=Object.assign({},n);return null==i["contentType"]&&null!=r.contentType&&(i["contentType"]=r.contentType),new en(new kt(this._delegate,new Ie(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return Gt(this._delegate).then((function(t){return new tn(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return zt(this._delegate,e||void 0).then((function(e){return new tn(e,t.storage)}))}},{key:"getMetadata",value:function(){return Bt(this._delegate)}},{key:"updateMetadata",value:function(e){return qt(this._delegate,e)}},{key:"getDownloadURL",value:function(){return Kt(this._delegate)}},{key:"delete",value:function(){return this._throwIfRoot("delete"),Ht(this._delegate)}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw j(e)}}]),e}(),rn=function(){function e(t,n){(0,r.Z)(this,e),this.app=t,this._delegate=n}return(0,i.Z)(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(an(e))throw U("ref() expected a child path but got a URL, use refFromURL instead.");return new nn(Wt(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!an(e))throw U("refFromURL() expected a full URL but got a child path, use ref() instead.");try{z.makeFromUrl(e,this._delegate.host)}catch(t){throw U("refFromUrl() expected a valid full URL but got an invalid one.")}return new nn(Wt(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Qt(this._delegate,e,t,n)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(e){return/^[A-Za-z]+:\/\//.test(e)}var on="@firebase/storage-compat",un="0.1.14",sn="storage-compat";function cn(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n}),a=new rn(r,i);return a}function ln(e){var t={TaskState:ft,TaskEvent:lt,StringFormat:pe,Storage:rn,Reference:nn};e.INTERNAL.registerComponent(new y.wA(sn,cn,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(on,un)}ln(a.Z)},5431:function(e,t,n){"use strict";n.d(t,{z:function(){return a}});n(4916),n(4723),n(1539),n(1703);var r,i=function(){return Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))};function a(e,t){void 0===t&&(t={});var n=t.registrationOptions;void 0===n&&(n={}),delete t.registrationOptions;var a=function(e){var n=[],r=arguments.length-1;while(r-- >0)n[r]=arguments[r+1];t&&t[e]&&t[e].apply(t,n)};"serviceWorker"in navigator&&r.then((function(){i()?(s(e,a,n),navigator.serviceWorker.ready.then((function(e){a("ready",e)})).catch((function(e){return o(a,e)}))):(u(e,a,n),navigator.serviceWorker.ready.then((function(e){a("ready",e)})).catch((function(e){return o(a,e)})))}))}function o(e,t){navigator.onLine||e("offline"),e("error",t)}function u(e,t,n){navigator.serviceWorker.register(e,n).then((function(e){t("registered",e),e.waiting?t("updated",e):e.onupdatefound=function(){t("updatefound",e);var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?t("updated",e):t("cached",e))}}})).catch((function(e){return o(t,e)}))}function s(e,t,n){fetch(e).then((function(r){404===r.status?(t("error",new Error("Service worker not found at "+e)),c()):-1===r.headers.get("content-type").indexOf("javascript")?(t("error",new Error("Expected "+e+" to have javascript content-type, but received "+r.headers.get("content-type"))),c()):u(e,t,n)})).catch((function(e){return o(t,e)}))}function c(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){return o(emit,e)}))}"undefined"!==typeof window&&(r="undefined"!==typeof Promise?new Promise((function(e){return window.addEventListener("load",e)})):{then:function(e){return window.addEventListener("load",e)}})},89:function(e,t,n){"use strict";var r=n(2)["default"],i=n(4548)["default"];t.Z=function(e,t){var n,a=e.__vccOpts||e,o=i(t);try{for(o.s();!(n=o.n()).done;){var u=r(n.value,2),s=u[0],c=u[1];a[s]=c}}catch(l){o.e(l)}finally{o.f()}return a}},9227:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},778:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},2417:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});n(1703);function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},8534:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});n(1539);function r(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function u(e){r(o,i,a,u,s,"next",e)}function s(e){r(o,i,a,u,s,"throw",e)}u(void 0)}))}}},3087:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});n(1703);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},5507:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});n(2419),n(1539),n(1299);var r=n(3967),i=n(7814);function a(e,t,n){return a=(0,i.Z)()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var a=Function.bind.apply(e,i),o=new a;return n&&(0,r.Z)(o,n.prototype),o},a.apply(null,arguments)}},2833:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},6347:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),n(1703);var r=n(2780);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}},7946:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});n(2419),n(1539),n(1299);var r=n(2040),i=n(7814),a=(n(1703),n(3336)),o=n(2417);function u(e,t){if(t&&("object"===(0,a.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}function s(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var a=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return u(this,n)}}},2482:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},6334:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});n(1539),n(1299),n(4819),n(5003);var r=n(2040);function i(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=(0,r.Z)(e),null===e)break;return e}function a(){return a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=i(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},a.apply(this,arguments)}},2040:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});n(489);function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}},9110:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});n(1703);var r=n(3967);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},7814:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});n(1539),n(1299),n(2419);function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}},2285:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),n(1038);function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}},6786:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});n(1703);function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},5082:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});n(7941),n(2526),n(7327),n(1539),n(5003),n(4747),n(9337);var r=n(2482);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},124:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),n(2443),n(3680),n(3706),n(2703),n(1703),n(489),n(4747),n(8309),n(7042);var r=n(3336);function i(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=_(o,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var h={};function d(){}function p(){}function v(){}var g={};c(g,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(Z([])));m&&m!==t&&n.call(m,o)&&(g=m);var k=v.prototype=d.prototype=Object.create(g);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(a,o,u,s){var c=f(e[a],e,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==(0,r.Z)(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,u,s)}),(function(e){i("throw",e,u,s)})):t.resolve(h).then((function(e){l.value=e,u(l)}),(function(e){return i("throw",e,u,s)}))}s(c.arg)}var a;this._invoke=function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator["return"]&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function Z(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=v,c(k,"constructor",v),c(v,"constructor",p),p.displayName=c(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},w(b.prototype),c(b.prototype,u,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(k),c(k,s,"Generator"),c(k,o,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=Z,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:Z(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}},3967:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},4621:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(778);n(2526),n(1817),n(1539),n(2165),n(8783),n(3948);function i(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(s){u=!0,i=s}finally{try{o||null==n["return"]||n["return"]()}finally{if(u)throw i}}return a}}var a=n(2780),o=n(6786);function u(e,t){return(0,r.Z)(e)||i(e,t)||(0,a.Z)(e,t)||(0,o.Z)()}},8478:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(9227);function i(e){if(Array.isArray(e))return(0,r.Z)(e)}var a=n(2285),o=n(2780);n(1703);function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e){return i(e)||(0,a.Z)(e)||(0,o.Z)(e)||u()}},3336:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});n(2526),n(1817),n(1539),n(2165),n(8783),n(3948);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}},2780:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});n(7042),n(1539),n(8309),n(1038),n(8783),n(4916),n(7601);var r=n(9227);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},2661:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r,i=n(2482),a=n(3087),o=n(2833),u=(n(8309),n(1539),n(1249),n(7941),n(4916),n(5306),n(5287)),s=n(7142),c=n(7077),l=n(5168),f=function(){function e(t,n){var r=this;(0,a.Z)(this,e),this._delegate=t,this.firebase=n,(0,c._addComponent)(t,new s.wA("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return(0,o.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),(0,c.deleteApp)(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){(0,c._addComponent)(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){(0,c._addOrOverwriteComponent)(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),h=(r={},(0,i.Z)(r,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,i.Z)(r,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),r),d=new u.LL("app-compat","Firebase",h);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function p(e){var t={},n={__esModule:!0,initializeApp:a,app:i,registerVersion:c.registerVersion,setLogLevel:c.setLogLevel,onLog:c.onLog,apps:null,SDK_VERSION:c.SDK_VERSION,INTERNAL:{registerComponent:s,removeApp:r,useAsService:l,modularAPIs:c}};function r(e){delete t[e]}function i(e){if(e=e||c._DEFAULT_ENTRY_NAME,!(0,u.r3)(t,e))throw d.create("no-app",{appName:e});return t[e]}function a(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=c.initializeApp(r,i);if((0,u.r3)(t,a.name))return t[a.name];var o=new e(a,n);return t[a.name]=o,o}function o(){return Object.keys(t).map((function(e){return t[e]}))}function s(t){var r=t.name,a=r.replace("-compat","");if(c._registerComponent(t)&&"PUBLIC"===t.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw d.create("invalid-app-argument",{appName:r});return e[a]()};void 0!==t.serviceProps&&(0,u.ZB)(o,t.serviceProps),n[a]=o,e.prototype[a]=function(){for(var e=this._getService.bind(this,r),n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e.apply(this,t.multipleInstances?i:[])}}return"PUBLIC"===t.type?n[a]:null}function l(e,t){if("serverAuth"===t)return null;var n=t;return n}return n["default"]=n,Object.defineProperty(n,"apps",{get:o}),i["App"]=e,n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(){var e=p(f);function t(t){(0,u.ZB)(e,t)}return e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:v,extendNamespace:t,createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),e}var g=v(),y=new l.Yd("@firebase/app-compat"),m="@firebase/app-compat",k="0.1.26";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function w(e){(0,c.registerVersion)(m,k,e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if((0,u.jU)()&&void 0!==self.firebase){y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _=g;w()},7077:function(e,t,n){"use strict";n.r(t),n.d(t,{FirebaseError:function(){return v.ZR},SDK_VERSION:function(){return Ae},_DEFAULT_ENTRY_NAME:function(){return ge},_addComponent:function(){return we},_addOrOverwriteComponent:function(){return be},_apps:function(){return me},_clearComponents:function(){return Ee},_components:function(){return ke},_getProvider:function(){return xe},_registerComponent:function(){return _e},_removeServiceInstance:function(){return Ie},deleteApp:function(){return Ne},getApp:function(){return Re},getApps:function(){return Oe},initializeApp:function(){return Ce},onLog:function(){return Le},registerVersion:function(){return Pe},setLogLevel:function(){return Me}});var r,i,a=n(8478),o=n(124),u=n(8534),s=n(3336),c=n(6347),l=n(2482),f=n(3087),h=n(2833),d=(n(9600),n(7327),n(1539),n(1249),n(2222),n(1532),n(8783),n(3948),n(8309),n(1038),n(4916),n(4723),n(8862),n(7042),n(9826),n(7142)),p=n(5168),v=n(5287),g=n(5082),y=(n(5306),n(6699),n(4129),n(7714),n(2801),n(1174),n(2707),n(2023),function(e,t){return t.some((function(t){return e instanceof t}))});function m(){return r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k(){return i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var w=new WeakMap,b=new WeakMap,_=new WeakMap,x=new WeakMap,I=new WeakMap;function E(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(R(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&w.set(t,e)})).catch((function(){})),I.set(t,e),t}function Z(e){if(!b.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));b.set(e,t)}}var T={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return b.get(e);if("objectStoreNames"===t)return e.objectStoreNames||_.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return R(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function S(e){T=e(T)}function A(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?k().includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(O(this),n),R(w.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return R(e.apply(O(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[O(this),t].concat(r));return _.set(a,t.sort?t.sort():[t]),R(a)}}function C(e){return"function"===typeof e?A(e):(e instanceof IDBTransaction&&Z(e),y(e,m())?new Proxy(e,T):e)}function R(e){if(e instanceof IDBRequest)return E(e);if(x.has(e))return x.get(e);var t=C(e);return t!==e&&(x.set(e,t),I.set(t,e)),t}var O=function(e){return I.get(e)};function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=R(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(R(u.result),e.oldVersion,e.newVersion,R(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}var D,P,L=["get","getKey","getAll","getAllKeys","count"],M=["put","add","delete","clear"],U=new Map;function F(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(U.get(t))return U.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=M.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||L.includes(n))){var a=function(){var e=(0,u.Z)((0,o.Z)().mark((function e(t){var a,u,s,c,l,f,h=arguments;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(u=this.transaction(t,i?"readwrite":"readonly"),s=u.store,c=h.length,l=new Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=h[f];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&u.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return U.set(t,a),a}}}S((function(e){return(0,g.Z)((0,g.Z)({},e),{},{get:function(t,n,r){return F(t,n)||e.get(t,n,r)},has:function(t,n){return!!F(t,n)||e.has(t,n)}})}));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var j=function(){function e(t){(0,f.Z)(this,e),this.container=t}return(0,h.Z)(e,[{key:"getPlatformInfoString",value:function(){var e=this.container.getProviders();return e.map((function(e){if(V(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();function V(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}var B="@firebase/app",q="0.7.25",z=new p.Yd("@firebase/app"),G="@firebase/app-compat",K="@firebase/analytics-compat",H="@firebase/analytics",W="@firebase/app-check-compat",Y="@firebase/app-check",Q="@firebase/auth",J="@firebase/auth-compat",X="@firebase/database",$="@firebase/database-compat",ee="@firebase/functions",te="@firebase/functions-compat",ne="@firebase/installations",re="@firebase/installations-compat",ie="@firebase/messaging",ae="@firebase/messaging-compat",oe="@firebase/performance",ue="@firebase/performance-compat",se="@firebase/remote-config",ce="@firebase/remote-config-compat",le="@firebase/storage",fe="@firebase/storage-compat",he="@firebase/firestore",de="@firebase/firestore-compat",pe="firebase",ve="9.8.2",ge="[DEFAULT]",ye=(D={},(0,l.Z)(D,B,"fire-core"),(0,l.Z)(D,G,"fire-core-compat"),(0,l.Z)(D,H,"fire-analytics"),(0,l.Z)(D,K,"fire-analytics-compat"),(0,l.Z)(D,Y,"fire-app-check"),(0,l.Z)(D,W,"fire-app-check-compat"),(0,l.Z)(D,Q,"fire-auth"),(0,l.Z)(D,J,"fire-auth-compat"),(0,l.Z)(D,X,"fire-rtdb"),(0,l.Z)(D,$,"fire-rtdb-compat"),(0,l.Z)(D,ee,"fire-fn"),(0,l.Z)(D,te,"fire-fn-compat"),(0,l.Z)(D,ne,"fire-iid"),(0,l.Z)(D,re,"fire-iid-compat"),(0,l.Z)(D,ie,"fire-fcm"),(0,l.Z)(D,ae,"fire-fcm-compat"),(0,l.Z)(D,oe,"fire-perf"),(0,l.Z)(D,ue,"fire-perf-compat"),(0,l.Z)(D,se,"fire-rc"),(0,l.Z)(D,ce,"fire-rc-compat"),(0,l.Z)(D,le,"fire-gcs"),(0,l.Z)(D,fe,"fire-gcs-compat"),(0,l.Z)(D,he,"fire-fst"),(0,l.Z)(D,de,"fire-fst-compat"),(0,l.Z)(D,"fire-js","fire-js"),(0,l.Z)(D,pe,"fire-js-all"),D),me=new Map,ke=new Map;function we(e,t){try{e.container.addComponent(t)}catch(n){z.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function be(e,t){e.container.addOrOverwriteComponent(t)}function _e(e){var t=e.name;if(ke.has(t))return z.debug("There were multiple attempts to register component ".concat(t,".")),!1;ke.set(t,e);var n,r=(0,c.Z)(me.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;we(i,e)}}catch(a){r.e(a)}finally{r.f()}return!0}function xe(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ge;xe(e,t).clearInstance(n)}function Ee(){ke.clear()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze=(P={},(0,l.Z)(P,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,l.Z)(P,"bad-app-name","Illegal App name: '{$appName}"),(0,l.Z)(P,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,l.Z)(P,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,l.Z)(P,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,l.Z)(P,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,l.Z)(P,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),(0,l.Z)(P,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),(0,l.Z)(P,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),(0,l.Z)(P,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),P),Te=new v.LL("app","Firebase",Ze),Se=function(){function e(t,n,r){var i=this;(0,f.Z)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new d.wA("app",(function(){return i}),"PUBLIC"))}return(0,h.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Te.create("app-deleted",{appName:this._name})}}]),e}(),Ae=ve;function Ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==(0,s.Z)(t)){var n=t;t={name:n}}var r=Object.assign({name:ge,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Te.create("bad-app-name",{appName:String(i)});var a=me.get(i);if(a){if((0,v.vZ)(e,a.options)&&(0,v.vZ)(r,a.config))return a;throw Te.create("duplicate-app",{appName:i})}var o,u=new d.H0(i),l=(0,c.Z)(ke.values());try{for(l.s();!(o=l.n()).done;){var f=o.value;u.addComponent(f)}}catch(p){l.e(p)}finally{l.f()}var h=new Se(e,r,u);return me.set(i,h),h}function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=me.get(e);if(!t)throw Te.create("no-app",{appName:e});return t}function Oe(){return Array.from(me.values())}function Ne(e){return De.apply(this,arguments)}function De(){return De=(0,u.Z)((0,o.Z)().mark((function e(t){var n;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.name,!me.has(n)){e.next=6;break}return me.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),De.apply(this,arguments)}function Pe(e,t,n){var r,i=null!==(r=ye[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void z.warn(u.join(" "))}_e(new d.wA("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Le(e,t){if(null!==e&&"function"!==typeof e)throw Te.create("invalid-log-argument");(0,p.Am)(e,t)}function Me(e){(0,p.Ub)(e)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue="firebase-heartbeat-database",Fe=1,je="firebase-heartbeat-store",Ve=null;function Be(){return Ve||(Ve=N(Ue,Fe,{upgrade:function(e,t){switch(t){case 0:e.createObjectStore(je)}}}).catch((function(e){throw Te.create("storage-open",{originalErrorMessage:e.message})}))),Ve}function qe(e){return ze.apply(this,arguments)}function ze(){return ze=(0,u.Z)((0,o.Z)().mark((function e(t){var n;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Be();case 3:return n=e.sent,e.abrupt("return",n.transaction(je).objectStore(je).get(He(t)));case 7:throw e.prev=7,e.t0=e["catch"](0),Te.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ze.apply(this,arguments)}function Ge(e,t){return Ke.apply(this,arguments)}function Ke(){return Ke=(0,u.Z)((0,o.Z)().mark((function e(t,n){var r,i,a;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Be();case 3:return r=e.sent,i=r.transaction(je,"readwrite"),a=i.objectStore(je),e.next=8,a.put(n,He(t));case 8:return e.abrupt("return",i.done);case 11:throw e.prev=11,e.t0=e["catch"](0),Te.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ke.apply(this,arguments)}function He(e){return"".concat(e.name,"!").concat(e.options.appId)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We=1024,Ye=2592e6,Qe=function(){function e(t){var n=this;(0,f.Z)(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new $e(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return(0,h.Z)(e,[{key:"triggerHeartbeat",value:function(){var e=(0,u.Z)((0,o.Z)().mark((function e(){var t,n,r;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Je(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf(),n=Date.now();return n-t<=Ye})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getHeartbeatsHeader",value:function(){var e=(0,u.Z)((0,o.Z)().mark((function e(){var t,n,r,i,a;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Je(),n=Xe(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=(0,v.L)(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function Je(){var e=new Date;return e.toISOString().substring(0,10)}function Xe(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:We,r=[],i=e.slice(),a=(0,c.Z)(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),et(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),et(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var $e=function(){function e(t){(0,f.Z)(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return(0,h.Z)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=(0,u.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if((0,v.hl)()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",(0,v.eu)().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"read",value:function(){var e=(0,u.Z)((0,o.Z)().mark((function e(){var t,n;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(t=e.sent,t){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,qe(this.app);case 9:return n=e.sent,e.abrupt("return",n||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"overwrite",value:function(){var e=(0,u.Z)((0,o.Z)().mark((function e(t){var n,r,i;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(r=e.sent,r){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return i=e.sent,e.abrupt("return",Ge(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"add",value:function(){var e=(0,u.Z)((0,o.Z)().mark((function e(t){var n,r,i;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(r=e.sent,r){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return i=e.sent,e.abrupt("return",Ge(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:i.lastSentHeartbeatDate,heartbeats:[].concat((0,a.Z)(i.heartbeats),(0,a.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();function et(e){return(0,v.L)(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(e){_e(new d.wA("platform-logger",(function(e){return new j(e)}),"PRIVATE")),_e(new d.wA("heartbeat",(function(e){return new Qe(e)}),"PRIVATE")),Pe(B,q,e),Pe(B,q,"esm2017"),Pe("fire-js","")}tt("")},7142:function(e,t,n){"use strict";n.d(t,{H0:function(){return g},wA:function(){return f}});var r=n(124),i=n(8478),a=n(8534),o=n(4621),u=n(6347),s=n(3087),c=n(2833),l=(n(8309),n(1532),n(1539),n(8783),n(3948),n(1703),n(2222),n(1038),n(1249),n(7327),n(189),n(5287)),f=function(){function e(t,n,r){(0,s.Z)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,c.Z)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),h="[DEFAULT]",d=function(){function e(t,n){(0,s.Z)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return(0,c.Z)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new l.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(v(e))try{this.getOrInitializeService({instanceIdentifier:h})}catch(l){}var t,n=(0,u.Z)(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,o.Z)(t.value,2),i=r[0],a=r[1],s=this.normalizeInstanceIdentifier(i);try{var c=this.getOrInitializeService({instanceIdentifier:s});a.resolve(c)}catch(l){}}}catch(f){n.e(f)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,i.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,i.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=(0,u.Z)(this.instancesDeferred.entries());try{for(s.s();!(i=s.n()).done;){var c=(0,o.Z)(i.value,2),l=c[0],f=c[1],h=this.normalizeInstanceIdentifier(l);r===h&&f.resolve(a)}}catch(d){s.e(d)}finally{s.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=(0,u.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:p(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(a){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return this.component?this.component.multipleInstances?e:h:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function p(e){return e===h?void 0:e}function v(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g=function(){function e(t){(0,s.Z)(this,e),this.name=t,this.providers=new Map}return(0,c.Z)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){var t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new d(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}()},5168:function(e,t,n){"use strict";n.d(t,{Am:function(){return g},Ub:function(){return v},Yd:function(){return p},in:function(){return i}});var r,i,a=n(6347),o=n(3087),u=n(2833),s=n(2482),c=(n(2222),n(8309),n(1703),n(1539),n(9600),n(7327),n(1249),n(9714),n(8862),[]);(function(e){e[e["DEBUG"]=0]="DEBUG",e[e["VERBOSE"]=1]="VERBOSE",e[e["INFO"]=2]="INFO",e[e["WARN"]=3]="WARN",e[e["ERROR"]=4]="ERROR",e[e["SILENT"]=5]="SILENT"})(i||(i={}));var l={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},f=i.INFO,h=(r={},(0,s.Z)(r,i.DEBUG,"log"),(0,s.Z)(r,i.VERBOSE,"log"),(0,s.Z)(r,i.INFO,"info"),(0,s.Z)(r,i.WARN,"warn"),(0,s.Z)(r,i.ERROR,"error"),r),d=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=h[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},p=function(){function e(t){(0,o.Z)(this,e),this.name=t,this._logLevel=f,this._logHandler=d,this._userLogHandler=null,c.push(this)}return(0,u.Z)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?l[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.DEBUG].concat(t)),this._logHandler.apply(this,[this,i.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.VERBOSE].concat(t)),this._logHandler.apply(this,[this,i.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.INFO].concat(t)),this._logHandler.apply(this,[this,i.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.WARN].concat(t)),this._logHandler.apply(this,[this,i.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.ERROR].concat(t)),this._logHandler.apply(this,[this,i.ERROR].concat(t))}}]),e}();function v(e){c.forEach((function(t){t.setLogLevel(e)}))}function g(e,t){var n,r=(0,a.Z)(c);try{var o=function(){var r=n.value,a=null;t&&t.level&&(a=l[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),u=2;u<r;u++)o[u-2]=arguments[u];var s=o.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==a&&void 0!==a?a:t.logLevel)&&e({level:i[n].toLowerCase(),message:s,args:o,type:t.name})}};for(r.s();!(n=r.n()).done;)o()}catch(u){r.e(u)}finally{r.f()}}}}]);
//# sourceMappingURL=chunk-vendors-legacy.094cea2a.js.map